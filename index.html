<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Zhijun He">
<meta name="author" content="Phoebe Pan">
<title>Stock Market Volatility: Patterns and Predictions</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./src/EDA - Phoebe Pan.html" rel="next">
<script src="site_libs/cookie-consent/cookie-consent.js"></script>
<link href="site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"implied",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary","functionality","tracking","targeting"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  ,
"language":"en"
  });
});
</script><style>html{ scroll-behavior: smooth; }</style>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script><link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link rel="stylesheet" href="https://unpkg.com/swiper@8.0.7/swiper-bundle.min.css">
<script src="https://unpkg.com/swiper@8.0.7/swiper-bundle.min.js"></script><link rel="stylesheet" href="style/custom.css">
</head>
<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./index.html">Report</a></li><li class="breadcrumb-item"><a href="./index.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Stock Market Volatility: Patterns and Predictions</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Starfall</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Report</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Stock Market Volatility: Patterns and Predictions</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">EDA</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./src/EDA - Phoebe Pan.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Exploratory Data Analysis: Phoebe Pan</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./src/EDA - Zhijun He.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Exploratory Data Analysis: Zhijun He‘s EDA2</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Teamwork</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./src/appx/effective teamwork - Zhijun.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Building Skills for Effective Teamwork-Team Starfall Reading</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./src/appx/effective teamwork - Phoebe.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Effective teamwork</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./src/appx/proposal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Proposal</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./src/appx/case-study.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Case Study:What Have We Learned from the German Story?</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#team-members" id="toc-team-members" class="nav-link active" data-scroll-target="#team-members"><span class="header-section-number">0.1</span> Team Members</a></li>
  <li><a href="#video" id="toc-video" class="nav-link" data-scroll-target="#video"><span class="header-section-number">0.2</span> Video</a></li>
  <li><a href="#slides" id="toc-slides" class="nav-link" data-scroll-target="#slides"><span class="header-section-number">0.3</span> Slides</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction"><span class="header-section-number">0.4</span> Introduction</a></li>
  <li><a href="#data-collection-and-methodology" id="toc-data-collection-and-methodology" class="nav-link" data-scroll-target="#data-collection-and-methodology"><span class="header-section-number">0.5</span> Data Collection and Methodology</a></li>
  <li>
<a href="#key-findings" id="toc-key-findings" class="nav-link" data-scroll-target="#key-findings"><span class="header-section-number">0.6</span> Key Findings</a>
  <ul class="collapse">
<li><a href="#market-volatility-evolution-2000-2025" id="toc-market-volatility-evolution-2000-2025" class="nav-link" data-scroll-target="#market-volatility-evolution-2000-2025"><span class="header-section-number">0.6.1</span> 1. Market Volatility Evolution (2000-2025)</a></li>
  <li><a href="#volatility-clustering-around-major-events" id="toc-volatility-clustering-around-major-events" class="nav-link" data-scroll-target="#volatility-clustering-around-major-events"><span class="header-section-number">0.6.2</span> 2. Volatility Clustering Around Major Events</a></li>
  <li><a href="#cross-market-correlation-analysis" id="toc-cross-market-correlation-analysis" class="nav-link" data-scroll-target="#cross-market-correlation-analysis"><span class="header-section-number">0.6.3</span> 3. Cross-Market Correlation Analysis</a></li>
  <li><a href="#volatility-regime-analysis-using-rolling-window-approach" id="toc-volatility-regime-analysis-using-rolling-window-approach" class="nav-link" data-scroll-target="#volatility-regime-analysis-using-rolling-window-approach"><span class="header-section-number">0.6.4</span> 4. Volatility Regime Analysis Using Rolling Window Approach</a></li>
  </ul>
</li>
  <li>
<a href="#function-to-analyze-volatility-regime-evolution-with-improved-efficiency" id="toc-function-to-analyze-volatility-regime-evolution-with-improved-efficiency" class="nav-link" data-scroll-target="#function-to-analyze-volatility-regime-evolution-with-improved-efficiency"><span class="header-section-number">1</span> Function to analyze volatility regime evolution with improved efficiency</a>
  <ul class="collapse">
<li><a href="#sector-specific-volatility-analysis" id="toc-sector-specific-volatility-analysis" class="nav-link" data-scroll-target="#sector-specific-volatility-analysis"><span class="header-section-number">1.0.1</span> 5. Sector-Specific Volatility Analysis</a></li>
  <li><a href="#implications-and-conclusions" id="toc-implications-and-conclusions" class="nav-link" data-scroll-target="#implications-and-conclusions"><span class="header-section-number">1.1</span> Implications and Conclusions</a></li>
  <li><a href="#future-research-directions" id="toc-future-research-directions" class="nav-link" data-scroll-target="#future-research-directions"><span class="header-section-number">1.2</span> Future Research Directions</a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./index.html">Report</a></li><li class="breadcrumb-item"><a href="./index.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Stock Market Volatility: Patterns and Predictions</span></a></li></ol></nav><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Stock Market Volatility: Patterns and Predictions</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta column-body">

    <div>
    <div class="quarto-title-meta-heading">Authors</div>
    <div class="quarto-title-meta-contents">
             <p>Zhijun He </p>
             <p>Phoebe Pan </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">Thursday, May 8, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header><section id="team-members" class="level2" data-number="0.1"><h2 data-number="0.1" class="anchored" data-anchor-id="team-members">
<span class="header-section-number">0.1</span> Team Members</h2>
<ul>
<li>Zhijun He</li>
<li>Phoebe Pan</li>
</ul></section><section id="video" class="level2" data-number="0.2"><h2 data-number="0.2" class="anchored" data-anchor-id="video">
<span class="header-section-number">0.2</span> Video</h2>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/ULIHNcBzkxY" title="Starfall Group Presentation" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
</section><section id="slides" class="level2" data-number="0.3"><h2 data-number="0.3" class="anchored" data-anchor-id="slides">
<span class="header-section-number">0.3</span> Slides</h2>
<div class="swiper mySwiper">
  <div class="swiper-wrapper">
    <div class="swiper-slide"><img src="src/slides/slide1.png"></div>
    <div class="swiper-slide"><img src="src/slides/slide2.png"></div>
    <div class="swiper-slide"><img src="src/slides/slide3.png"></div>
    <div class="swiper-slide"><img src="src/slides/slide4.png"></div>
    <div class="swiper-slide"><img src="src/slides/slide5.png"></div>
    <div class="swiper-slide"><img src="src/slides/slide6.png"></div>
    <div class="swiper-slide"><img src="src/slides/slide7.png"></div>
    <div class="swiper-slide"><img src="src/slides/slide8.png"></div>
    <div class="swiper-slide"><img src="src/slides/slide9.png"></div>
    <div class="swiper-slide"><img src="src/slides/slide10.png"></div>
    <div class="swiper-slide"><img src="src/slides/slide11.png"></div>
    <div class="swiper-slide"><img src="src/slides/slide12.png"></div>
    <div class="swiper-slide"><img src="src/slides/slide13.png"></div>
    <div class="swiper-slide"><img src="src/slides/slide14.png"></div>
    <div class="swiper-slide"><img src="src/slides/slide15.png"></div>
    <div class="swiper-slide"><img src="src/slides/slide16.png"></div>
  </div>
  <div class="swiper-button-next"></div>
  <div class="swiper-button-prev"></div>
</div>
<style>
.swiper {
  width: 100%;
  height: 500px;
  margin: 20px 0;
}
.swiper-slide img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}
/* 增强导航按钮的可见性 */
.swiper-button-next, .swiper-button-prev {
  background-color: rgba(255, 255, 255, 0.5);
  padding: 30px 20px;
  border-radius: 5px;
  color: #000;
}
</style>
<script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script><script>
// 确保页面完全加载后初始化Swiper
window.onload = function() {
  // 延迟一小段时间确保所有资源加载完毕
  setTimeout(function() {
    const swiper = new Swiper('.mySwiper', {
      // 基本配置
      loop: true,
      speed: 500,
      
      // 导航按钮
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      
      // 分页器
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      
      // 键盘控制
      keyboard: {
        enabled: true,
      },
    });
    console.log('Swiper initialized successfully');
  }, 100);
};
</script></section><section id="introduction" class="level2" data-number="0.4"><h2 data-number="0.4" class="anchored" data-anchor-id="introduction">
<span class="header-section-number">0.4</span> Introduction</h2>
<p>In today’s interconnected global economy, understanding stock market volatility is not merely an academic exercise but a practical necessity for investors, financial institutions, and policymakers. Our project delves into the fascinating world of market fluctuations, examining how major economic, political, and global events impact market volatility across different sectors from 2000 to 2025.</p>
<p>The past quarter-century has witnessed remarkable shifts in global markets—from the dot-com bubble burst to the 2008 financial crisis, from Brexit to the COVID-19 pandemic. Each of these events has left its unique imprint on market volatility patterns. By analyzing these patterns systematically, we aim to unveil the underlying dynamics that drive market turbulence and identify potential predictive indicators.</p>
<p>Market volatility—the statistical measure of the dispersion of returns for a given security or market index—serves as a barometer for investor sentiment and economic uncertainty. High volatility periods often reflect heightened uncertainty and risk aversion, while low volatility generally indicates market confidence and stability. The chart below illustrates this relationship by showing the S&amp;P 500 index performance alongside its volatility metric (VIX) from 2000-2025:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/sp500-volatility-visualization-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><em>Figure 1: The Inverse Dance of Markets and Fear - S&amp;P 500 Performance vs.&nbsp;Volatility (2000-2025). by Zhijun and Phoebe (Team Starfall)</em></p>
<p>This visualization captures the dynamic interplay between the S&amp;P 500 Index and market volatility from 2000 to 2025, revealing critical insights for investors and analysts alike. The chart clearly illustrates how volatility typically surges during market downturns—most notably during the 2008 financial crisis, the 2020 pandemic shock, and several smaller corrections throughout the period. By displaying both metrics simultaneously on a dual-axis scale, we can observe not only the dramatic inverse relationship during crisis periods but also the more subtle patterns during bull markets when volatility occasionally rises despite positive returns. This long-term perspective provides valuable context for understanding market behavior across multiple economic cycles and regulatory environments.</p>
<p>However, our research reveals that this relationship is far more nuanced and complex than commonly understood, with important variations across different types of market events, geographic regions, and economic sectors.</p>
</section><section id="data-collection-and-methodology" class="level2" data-number="0.5"><h2 data-number="0.5" class="anchored" data-anchor-id="data-collection-and-methodology">
<span class="header-section-number">0.5</span> Data Collection and Methodology</h2>
<p>Our analysis leverages comprehensive data from the International Monetary Fund (IMF) and other financial databases to examine volatility patterns across major global markets. We focused on six key economies: the United States, United Kingdom, Japan, Germany, France, and China. The table below presents the major market indices we tracked for our analysis:</p>
<div class="cell">
<div class="cell-output-display">
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<caption>Market Indices Used in Volatility Analysis</caption>
<thead><tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Country</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Index.Symbol</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Index.Name</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Data.Range</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Trading.Days</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">United States</td>
<td style="text-align: center;">^GSPC</td>
<td style="text-align: center;">S&amp;P 500</td>
<td style="text-align: center;">2000-2025</td>
<td style="text-align: center;">6321</td>
</tr>
<tr class="even">
<td style="text-align: center;">United Kingdom</td>
<td style="text-align: center;">^FTSE</td>
<td style="text-align: center;">FTSE 100</td>
<td style="text-align: center;">2000-2025</td>
<td style="text-align: center;">6289</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Japan</td>
<td style="text-align: center;">^N225</td>
<td style="text-align: center;">Nikkei 225</td>
<td style="text-align: center;">2000-2025</td>
<td style="text-align: center;">6154</td>
</tr>
<tr class="even">
<td style="text-align: center;">Germany</td>
<td style="text-align: center;">^GDAXI</td>
<td style="text-align: center;">DAX</td>
<td style="text-align: center;">2000-2025</td>
<td style="text-align: center;">6302</td>
</tr>
<tr class="odd">
<td style="text-align: center;">France</td>
<td style="text-align: center;">^FCHI</td>
<td style="text-align: center;">CAC 40</td>
<td style="text-align: center;">2000-2025</td>
<td style="text-align: center;">6283</td>
</tr>
<tr class="even">
<td style="text-align: center;">China</td>
<td style="text-align: center;">^HSI</td>
<td style="text-align: center;">Hang Seng</td>
<td style="text-align: center;">2000-2025</td>
<td style="text-align: center;">6104</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
<p><em>Table 1: The Global Financial Pulse - Key Market Indices Tracked in Our Analysis. by Zhijun and Phoebe (Team Starfall)</em></p>
<p>For our initial data collection, we utilized the tidyquant package, which provides a seamless interface to financial data sources. This approach allowed us to gather historical stock price data for major market indices:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/global-market-performance-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p><em>Figure 2: Divergent Paths - Global Market Performance and Returns (2000-Present). by Zhijun and Phoebe (Team Starfall)</em></p>
<p>This chart provides a comprehensive comparison of major global market indices over more than two decades, highlighting their relative performance when normalized to the same starting point. The chart reveals striking divergences in long-term returns across different geographic regions, with the S&amp;P 500 and DAX showing exceptional growth of approximately 400% and 300% respectively, while the Hang Seng has demonstrated considerably more volatility with more modest overall gains. The inclusion of 30-day moving averages helps smooth out short-term fluctuations, making it easier to identify meaningful trends and the synchronized global market reactions to major economic events like the 2008 financial crisis and the 2020 pandemic.</p>
<p>After collecting the raw data, we calculated monthly returns and implemented a rolling volatility measure to quantify market turbulence:</p>
<div class="cell">
<div class="cell-output-display">
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<caption>Summary of Market Volatility Statistics (2000-2025)</caption>
<thead><tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Index</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Country</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Min Vol (%)</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Avg Vol (%)</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Median Vol (%)</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Max Vol (%)</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Current Vol (%)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center; font-weight: bold;">CAC 40</td>
<td style="text-align: center;">FR</td>
<td style="text-align: center;">3.93</td>
<td style="text-align: center;">19.33</td>
<td style="text-align: center;">16.68</td>
<td style="text-align: center;">85.83</td>
<td style="text-align: center;">36.07</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;">FTSE 100</td>
<td style="text-align: center;">GB</td>
<td style="text-align: center;">4.04</td>
<td style="text-align: center;">15.75</td>
<td style="text-align: center;">13.22</td>
<td style="text-align: center;">79.97</td>
<td style="text-align: center;">32.04</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;">DAX</td>
<td style="text-align: center;">DE</td>
<td style="text-align: center;">4.33</td>
<td style="text-align: center;">19.85</td>
<td style="text-align: center;">16.98</td>
<td style="text-align: center;">82.60</td>
<td style="text-align: center;">38.61</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;">S&amp;P 500</td>
<td style="text-align: center;">US</td>
<td style="text-align: center;">3.47</td>
<td style="text-align: center;">16.47</td>
<td style="text-align: center;">13.77</td>
<td style="text-align: center;">96.83</td>
<td style="text-align: center;">49.60</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;">Hang Seng</td>
<td style="text-align: center;">CN</td>
<td style="text-align: center;">6.24</td>
<td style="text-align: center;">21.00</td>
<td style="text-align: center;">18.45</td>
<td style="text-align: center;">112.98</td>
<td style="text-align: center;">51.33</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;">Nikkei 225</td>
<td style="text-align: center;">JP</td>
<td style="text-align: center;">5.77</td>
<td style="text-align: center;">20.78</td>
<td style="text-align: center;">18.56</td>
<td style="text-align: center;">115.69</td>
<td style="text-align: center;">54.70</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
<details><summary>
Click to expand table
</summary><div class="table-responsive">
<table class="table table-striped table-hover table-condensed caption-top" data-quarto-postprocess="true">
<caption>Recent Market Performance: CAC 40 (March 2025)</caption>
<thead><tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">symbol</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Date</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Index</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Country</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Daily Return (%)</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">21d Vol (%)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">^FCHI</td>
<td style="text-align: center;">2025-04-16</td>
<td style="text-align: center;">CAC 40</td>
<td style="text-align: center;">FR</td>
<td style="text-align: center;">-0.07</td>
<td style="text-align: center;">34.58</td>
</tr>
<tr class="even">
<td style="text-align: center;">^FCHI</td>
<td style="text-align: center;">2025-04-17</td>
<td style="text-align: center;">CAC 40</td>
<td style="text-align: center;">FR</td>
<td style="text-align: center;">-0.60</td>
<td style="text-align: center;">34.32</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^FCHI</td>
<td style="text-align: center;">2025-04-22</td>
<td style="text-align: center;">CAC 40</td>
<td style="text-align: center;">FR</td>
<td style="text-align: center;">0.56</td>
<td style="text-align: center;">34.48</td>
</tr>
<tr class="even">
<td style="text-align: center;">^FCHI</td>
<td style="text-align: center;">2025-04-23</td>
<td style="text-align: center;">CAC 40</td>
<td style="text-align: center;">FR</td>
<td style="text-align: center;">2.13</td>
<td style="text-align: center;">35.61</td>
</tr>
<tr class="odd">
<td style="text-align: center; background-color: rgba(230, 249, 230, 255) !important;">^FCHI</td>
<td style="text-align: center; background-color: rgba(230, 249, 230, 255) !important;">2025-04-24</td>
<td style="text-align: center; background-color: rgba(230, 249, 230, 255) !important;">CAC 40</td>
<td style="text-align: center; background-color: rgba(230, 249, 230, 255) !important;">FR</td>
<td style="text-align: center; background-color: rgba(230, 249, 230, 255) !important;">0.27</td>
<td style="text-align: center; background-color: rgba(230, 249, 230, 255) !important;">35.67</td>
</tr>
<tr class="even">
<td style="text-align: center;">^FCHI</td>
<td style="text-align: center;">2025-04-25</td>
<td style="text-align: center;">CAC 40</td>
<td style="text-align: center;">FR</td>
<td style="text-align: center;">0.45</td>
<td style="text-align: center;">35.43</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^FCHI</td>
<td style="text-align: center;">2025-04-28</td>
<td style="text-align: center;">CAC 40</td>
<td style="text-align: center;">FR</td>
<td style="text-align: center;">0.50</td>
<td style="text-align: center;">35.46</td>
</tr>
<tr class="even">
<td style="text-align: center;">^FCHI</td>
<td style="text-align: center;">2025-04-29</td>
<td style="text-align: center;">CAC 40</td>
<td style="text-align: center;">FR</td>
<td style="text-align: center;">-0.24</td>
<td style="text-align: center;">35.45</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^FCHI</td>
<td style="text-align: center;">2025-04-30</td>
<td style="text-align: center;">CAC 40</td>
<td style="text-align: center;">FR</td>
<td style="text-align: center;">0.50</td>
<td style="text-align: center;">35.44</td>
</tr>
<tr class="even">
<td style="text-align: center;">^FCHI</td>
<td style="text-align: center;">2025-05-02</td>
<td style="text-align: center;">CAC 40</td>
<td style="text-align: center;">FR</td>
<td style="text-align: center;">2.33</td>
<td style="text-align: center;">36.07</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^FTSE</td>
<td style="text-align: center;">2025-04-17</td>
<td style="text-align: center;">FTSE 100</td>
<td style="text-align: center;">GB</td>
<td style="text-align: center;">0.00</td>
<td style="text-align: center;">31.59</td>
</tr>
<tr class="even">
<td style="text-align: center;">^FTSE</td>
<td style="text-align: center;">2025-04-22</td>
<td style="text-align: center;">FTSE 100</td>
<td style="text-align: center;">GB</td>
<td style="text-align: center;">0.64</td>
<td style="text-align: center;">31.73</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^FTSE</td>
<td style="text-align: center;">2025-04-23</td>
<td style="text-align: center;">FTSE 100</td>
<td style="text-align: center;">GB</td>
<td style="text-align: center;">0.90</td>
<td style="text-align: center;">31.90</td>
</tr>
<tr class="even">
<td style="text-align: center;">^FTSE</td>
<td style="text-align: center;">2025-04-24</td>
<td style="text-align: center;">FTSE 100</td>
<td style="text-align: center;">GB</td>
<td style="text-align: center;">0.05</td>
<td style="text-align: center;">31.90</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^FTSE</td>
<td style="text-align: center;">2025-04-25</td>
<td style="text-align: center;">FTSE 100</td>
<td style="text-align: center;">GB</td>
<td style="text-align: center;">0.09</td>
<td style="text-align: center;">31.88</td>
</tr>
<tr class="even">
<td style="text-align: center;">^FTSE</td>
<td style="text-align: center;">2025-04-28</td>
<td style="text-align: center;">FTSE 100</td>
<td style="text-align: center;">GB</td>
<td style="text-align: center;">0.02</td>
<td style="text-align: center;">31.85</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^FTSE</td>
<td style="text-align: center;">2025-04-29</td>
<td style="text-align: center;">FTSE 100</td>
<td style="text-align: center;">GB</td>
<td style="text-align: center;">0.55</td>
<td style="text-align: center;">31.93</td>
</tr>
<tr class="even">
<td style="text-align: center;">^FTSE</td>
<td style="text-align: center;">2025-04-30</td>
<td style="text-align: center;">FTSE 100</td>
<td style="text-align: center;">GB</td>
<td style="text-align: center;">0.37</td>
<td style="text-align: center;">31.97</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^FTSE</td>
<td style="text-align: center;">2025-05-01</td>
<td style="text-align: center;">FTSE 100</td>
<td style="text-align: center;">GB</td>
<td style="text-align: center;">0.02</td>
<td style="text-align: center;">31.83</td>
</tr>
<tr class="even">
<td style="text-align: center;">^FTSE</td>
<td style="text-align: center;">2025-05-02</td>
<td style="text-align: center;">FTSE 100</td>
<td style="text-align: center;">GB</td>
<td style="text-align: center;">1.17</td>
<td style="text-align: center;">32.04</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^GDAXI</td>
<td style="text-align: center;">2025-04-16</td>
<td style="text-align: center;">DAX</td>
<td style="text-align: center;">DE</td>
<td style="text-align: center;">0.27</td>
<td style="text-align: center;">36.35</td>
</tr>
<tr class="even">
<td style="text-align: center;">^GDAXI</td>
<td style="text-align: center;">2025-04-17</td>
<td style="text-align: center;">DAX</td>
<td style="text-align: center;">DE</td>
<td style="text-align: center;">-0.49</td>
<td style="text-align: center;">36.35</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^GDAXI</td>
<td style="text-align: center;">2025-04-22</td>
<td style="text-align: center;">DAX</td>
<td style="text-align: center;">DE</td>
<td style="text-align: center;">0.41</td>
<td style="text-align: center;">36.33</td>
</tr>
<tr class="even">
<td style="text-align: center;">^GDAXI</td>
<td style="text-align: center;">2025-04-23</td>
<td style="text-align: center;">DAX</td>
<td style="text-align: center;">DE</td>
<td style="text-align: center;">3.14</td>
<td style="text-align: center;">38.27</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^GDAXI</td>
<td style="text-align: center;">2025-04-24</td>
<td style="text-align: center;">DAX</td>
<td style="text-align: center;">DE</td>
<td style="text-align: center;">0.47</td>
<td style="text-align: center;">38.34</td>
</tr>
<tr class="even">
<td style="text-align: center;">^GDAXI</td>
<td style="text-align: center;">2025-04-25</td>
<td style="text-align: center;">DAX</td>
<td style="text-align: center;">DE</td>
<td style="text-align: center;">0.81</td>
<td style="text-align: center;">38.22</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^GDAXI</td>
<td style="text-align: center;">2025-04-28</td>
<td style="text-align: center;">DAX</td>
<td style="text-align: center;">DE</td>
<td style="text-align: center;">0.13</td>
<td style="text-align: center;">38.05</td>
</tr>
<tr class="even">
<td style="text-align: center;">^GDAXI</td>
<td style="text-align: center;">2025-04-29</td>
<td style="text-align: center;">DAX</td>
<td style="text-align: center;">DE</td>
<td style="text-align: center;">0.69</td>
<td style="text-align: center;">38.07</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^GDAXI</td>
<td style="text-align: center;">2025-04-30</td>
<td style="text-align: center;">DAX</td>
<td style="text-align: center;">DE</td>
<td style="text-align: center;">0.32</td>
<td style="text-align: center;">37.94</td>
</tr>
<tr class="even">
<td style="text-align: center;">^GDAXI</td>
<td style="text-align: center;">2025-05-02</td>
<td style="text-align: center;">DAX</td>
<td style="text-align: center;">DE</td>
<td style="text-align: center;">2.62</td>
<td style="text-align: center;">38.61</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^GSPC</td>
<td style="text-align: center;">2025-04-21</td>
<td style="text-align: center;">S&amp;P 500</td>
<td style="text-align: center;">US</td>
<td style="text-align: center;">-2.36</td>
<td style="text-align: center;">48.23</td>
</tr>
<tr class="even">
<td style="text-align: center;">^GSPC</td>
<td style="text-align: center;">2025-04-22</td>
<td style="text-align: center;">S&amp;P 500</td>
<td style="text-align: center;">US</td>
<td style="text-align: center;">2.51</td>
<td style="text-align: center;">49.26</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^GSPC</td>
<td style="text-align: center;">2025-04-23</td>
<td style="text-align: center;">S&amp;P 500</td>
<td style="text-align: center;">US</td>
<td style="text-align: center;">1.67</td>
<td style="text-align: center;">49.21</td>
</tr>
<tr class="even">
<td style="text-align: center;">^GSPC</td>
<td style="text-align: center;">2025-04-24</td>
<td style="text-align: center;">S&amp;P 500</td>
<td style="text-align: center;">US</td>
<td style="text-align: center;">2.03</td>
<td style="text-align: center;">49.85</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^GSPC</td>
<td style="text-align: center;">2025-04-25</td>
<td style="text-align: center;">S&amp;P 500</td>
<td style="text-align: center;">US</td>
<td style="text-align: center;">0.74</td>
<td style="text-align: center;">49.83</td>
</tr>
<tr class="even">
<td style="text-align: center;">^GSPC</td>
<td style="text-align: center;">2025-04-28</td>
<td style="text-align: center;">S&amp;P 500</td>
<td style="text-align: center;">US</td>
<td style="text-align: center;">0.06</td>
<td style="text-align: center;">49.83</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^GSPC</td>
<td style="text-align: center;">2025-04-29</td>
<td style="text-align: center;">S&amp;P 500</td>
<td style="text-align: center;">US</td>
<td style="text-align: center;">0.58</td>
<td style="text-align: center;">49.40</td>
</tr>
<tr class="even">
<td style="text-align: center;">^GSPC</td>
<td style="text-align: center;">2025-04-30</td>
<td style="text-align: center;">S&amp;P 500</td>
<td style="text-align: center;">US</td>
<td style="text-align: center;">0.15</td>
<td style="text-align: center;">49.36</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^GSPC</td>
<td style="text-align: center;">2025-05-01</td>
<td style="text-align: center;">S&amp;P 500</td>
<td style="text-align: center;">US</td>
<td style="text-align: center;">0.63</td>
<td style="text-align: center;">49.39</td>
</tr>
<tr class="even">
<td style="text-align: center;">^GSPC</td>
<td style="text-align: center;">2025-05-02</td>
<td style="text-align: center;">S&amp;P 500</td>
<td style="text-align: center;">US</td>
<td style="text-align: center;">1.47</td>
<td style="text-align: center;">49.60</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^HSI</td>
<td style="text-align: center;">2025-04-16</td>
<td style="text-align: center;">Hang Seng</td>
<td style="text-align: center;">CN</td>
<td style="text-align: center;">-1.91</td>
<td style="text-align: center;">51.73</td>
</tr>
<tr class="even">
<td style="text-align: center;">^HSI</td>
<td style="text-align: center;">2025-04-17</td>
<td style="text-align: center;">Hang Seng</td>
<td style="text-align: center;">CN</td>
<td style="text-align: center;">1.61</td>
<td style="text-align: center;">51.18</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^HSI</td>
<td style="text-align: center;">2025-04-22</td>
<td style="text-align: center;">Hang Seng</td>
<td style="text-align: center;">CN</td>
<td style="text-align: center;">0.78</td>
<td style="text-align: center;">51.35</td>
</tr>
<tr class="even">
<td style="text-align: center;">^HSI</td>
<td style="text-align: center;">2025-04-23</td>
<td style="text-align: center;">Hang Seng</td>
<td style="text-align: center;">CN</td>
<td style="text-align: center;">2.37</td>
<td style="text-align: center;">51.98</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^HSI</td>
<td style="text-align: center;">2025-04-24</td>
<td style="text-align: center;">Hang Seng</td>
<td style="text-align: center;">CN</td>
<td style="text-align: center;">-0.74</td>
<td style="text-align: center;">51.59</td>
</tr>
<tr class="even">
<td style="text-align: center;">^HSI</td>
<td style="text-align: center;">2025-04-25</td>
<td style="text-align: center;">Hang Seng</td>
<td style="text-align: center;">CN</td>
<td style="text-align: center;">0.32</td>
<td style="text-align: center;">51.46</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^HSI</td>
<td style="text-align: center;">2025-04-28</td>
<td style="text-align: center;">Hang Seng</td>
<td style="text-align: center;">CN</td>
<td style="text-align: center;">-0.04</td>
<td style="text-align: center;">50.94</td>
</tr>
<tr class="even">
<td style="text-align: center;">^HSI</td>
<td style="text-align: center;">2025-04-29</td>
<td style="text-align: center;">Hang Seng</td>
<td style="text-align: center;">CN</td>
<td style="text-align: center;">0.16</td>
<td style="text-align: center;">50.88</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^HSI</td>
<td style="text-align: center;">2025-04-30</td>
<td style="text-align: center;">Hang Seng</td>
<td style="text-align: center;">CN</td>
<td style="text-align: center;">0.51</td>
<td style="text-align: center;">50.89</td>
</tr>
<tr class="even">
<td style="text-align: center;">^HSI</td>
<td style="text-align: center;">2025-05-02</td>
<td style="text-align: center;">Hang Seng</td>
<td style="text-align: center;">CN</td>
<td style="text-align: center;">1.74</td>
<td style="text-align: center;">51.33</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^N225</td>
<td style="text-align: center;">2025-04-18</td>
<td style="text-align: center;">Nikkei 225</td>
<td style="text-align: center;">JP</td>
<td style="text-align: center;">1.03</td>
<td style="text-align: center;">55.53</td>
</tr>
<tr class="even">
<td style="text-align: center;">^N225</td>
<td style="text-align: center;">2025-04-21</td>
<td style="text-align: center;">Nikkei 225</td>
<td style="text-align: center;">JP</td>
<td style="text-align: center;">-1.30</td>
<td style="text-align: center;">55.62</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^N225</td>
<td style="text-align: center;">2025-04-22</td>
<td style="text-align: center;">Nikkei 225</td>
<td style="text-align: center;">JP</td>
<td style="text-align: center;">-0.17</td>
<td style="text-align: center;">55.62</td>
</tr>
<tr class="even">
<td style="text-align: center;">^N225</td>
<td style="text-align: center;">2025-04-23</td>
<td style="text-align: center;">Nikkei 225</td>
<td style="text-align: center;">JP</td>
<td style="text-align: center;">1.89</td>
<td style="text-align: center;">56.12</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^N225</td>
<td style="text-align: center;">2025-04-24</td>
<td style="text-align: center;">Nikkei 225</td>
<td style="text-align: center;">JP</td>
<td style="text-align: center;">0.49</td>
<td style="text-align: center;">56.09</td>
</tr>
<tr class="even">
<td style="text-align: center;">^N225</td>
<td style="text-align: center;">2025-04-25</td>
<td style="text-align: center;">Nikkei 225</td>
<td style="text-align: center;">JP</td>
<td style="text-align: center;">1.90</td>
<td style="text-align: center;">56.60</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^N225</td>
<td style="text-align: center;">2025-04-28</td>
<td style="text-align: center;">Nikkei 225</td>
<td style="text-align: center;">JP</td>
<td style="text-align: center;">0.38</td>
<td style="text-align: center;">56.33</td>
</tr>
<tr class="even">
<td style="text-align: center;">^N225</td>
<td style="text-align: center;">2025-04-30</td>
<td style="text-align: center;">Nikkei 225</td>
<td style="text-align: center;">JP</td>
<td style="text-align: center;">0.57</td>
<td style="text-align: center;">54.51</td>
</tr>
<tr class="odd">
<td style="text-align: center;">^N225</td>
<td style="text-align: center;">2025-05-01</td>
<td style="text-align: center;">Nikkei 225</td>
<td style="text-align: center;">JP</td>
<td style="text-align: center;">1.13</td>
<td style="text-align: center;">54.62</td>
</tr>
<tr class="even">
<td style="text-align: center;">^N225</td>
<td style="text-align: center;">2025-05-02</td>
<td style="text-align: center;">Nikkei 225</td>
<td style="text-align: center;">JP</td>
<td style="text-align: center;">1.04</td>
<td style="text-align: center;">54.70</td>
</tr>
</tbody>
</table>
</div>


</details><div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/recent-volatility-data-2-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><em>Figure 3: A Spectrum of Turbulence - Global Market Volatility Comparison (Last 90 Days). by Zhijun and Phoebe (Team Starfall)</em></p>
<p>These visualizations offer a comprehensive analysis of global market volatility across major indices, presenting both historical patterns and recent developments. The statistical summary reveals that Asian markets (Hang Seng and Nikkei 225) have historically experienced both higher average volatility and more extreme maximum volatility events compared to their Western counterparts. The table displays granular daily data capturing the real-time evolution of volatility for the CAC 40 in March 2025, demonstrating how the rolling 21-day volatility measure fluctuates in response to daily market returns. The visualization dramatically illustrates a synchronized volatility spike across all markets in April 2025, with Asian indices reaching significantly higher levels of turbulence than European and American markets—potentially indicating a market event with global implications but regionally differentiated impacts.</p>
<p>To contextualize market movements, we created a dataset of major historical events that significantly impacted global markets:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/historical-events-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<caption>Market Impact Analysis of Major Global Events</caption>
<thead><tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Date</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Event</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Category</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Market Impact</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Recovery Time</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2001-09-11</td>
<td style="text-align: left;">9/11 Attacks</td>
<td style="text-align: left; color: white !important; background-color: rgba(228, 26, 28, 255) !important;">Geopolitical</td>
<td style="text-align: left;">S&amp;P 500 dropped over 14% within one week after the event</td>
<td style="text-align: left;">~30 trading days</td>
</tr>
<tr class="even">
<td style="text-align: left;">2008-09-15</td>
<td style="text-align: left;">Lehman Brothers Bankruptcy</td>
<td style="text-align: left; color: white !important; background-color: rgba(55, 126, 184, 255) !important;">Financial</td>
<td style="text-align: left;">Markets experienced extreme turbulence, leading to the 2008 financial crisis</td>
<td style="text-align: left;">Over 1 year</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2011-03-11</td>
<td style="text-align: left;">Japan Earthquake/Tsunami</td>
<td style="text-align: left; color: white !important; background-color: rgba(77, 175, 74, 255) !important;">Natural Disaster</td>
<td style="text-align: left;">Nikkei fell approximately 10% short-term, gradually recovering afterward</td>
<td style="text-align: left;">~45 trading days</td>
</tr>
<tr class="even">
<td style="text-align: left;">2016-06-23</td>
<td style="text-align: left;">Brexit Referendum</td>
<td style="text-align: left; color: white !important; background-color: rgba(152, 78, 163, 255) !important;">Political</td>
<td style="text-align: left;">GBP depreciated significantly, with increased volatility in European markets</td>
<td style="text-align: left;">~21 trading days</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2020-03-11</td>
<td style="text-align: left;">COVID-19 Pandemic Declaration</td>
<td style="text-align: left; color: white !important; background-color: rgba(255, 127, 0, 255) !important;">Health Crisis</td>
<td style="text-align: left;">Global markets crashed with S&amp;P 500 dropping over 30% within one month</td>
<td style="text-align: left;">~140 trading days</td>
</tr>
<tr class="even">
<td style="text-align: left;">2022-02-24</td>
<td style="text-align: left;">Russia-Ukraine Conflict</td>
<td style="text-align: left; color: white !important; background-color: rgba(228, 26, 28, 255) !important;">Geopolitical</td>
<td style="text-align: left;">Energy and commodity prices surged, with increased European market volatility</td>
<td style="text-align: left;">Ongoing</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
<p><em>Figure 4: Punctuated Equilibrium - Market Performance and Volatility During Major Global Events (2000-2023). by Zhijun and Phoebe (Team Starfall)</em></p>
<p>These dual visualizations offer a compelling narrative of market performance and volatility in relation to major historical events over more than two decades. The top chart traces the S&amp;P 500’s normalized price journey from 2000 to 2023, clearly marking pivotal moments like the 9/11 attacks, the 2008 financial crisis, and the COVID-19 pandemic, while revealing the market’s remarkable resilience and long-term growth despite periodic setbacks. The bottom visualization provides a more nuanced perspective by displaying volatility patterns across six major global indices during the same timeframe, demonstrating how market turbulence spikes dramatically during crisis events regardless of geography, though with varying magnitudes. Together, these charts illuminate the critical relationship between external shocks and market behavior, showing how different event categories—geopolitical, financial, natural disasters, political, and health crises—trigger distinctive volatility signatures and recovery patterns across the global financial ecosystem.</p>
</section><section id="key-findings" class="level2" data-number="0.6"><h2 data-number="0.6" class="anchored" data-anchor-id="key-findings">
<span class="header-section-number">0.6</span> Key Findings</h2>
<section id="market-volatility-evolution-2000-2025" class="level3" data-number="0.6.1"><h3 data-number="0.6.1" class="anchored" data-anchor-id="market-volatility-evolution-2000-2025">
<span class="header-section-number">0.6.1</span> 1. Market Volatility Evolution (2000-2025)</h3>
<p>Before diving into specific events, our analysis first examined the overall evolution of market volatility across the 25-year period. This historical perspective reveals fascinating long-term patterns that provide context for our event-specific analyses.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/volatility-trends-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><em>Figure 5: Waves of Uncertainty - The Evolution of Global Market Volatility (2000-2025). by Zhijun and Phoebe (Team Starfall)</em></p>
<p>Our long-term analysis reveals several fascinating volatility regimes over the 25-year period:</p>
<ol type="1">
<li>
<strong>2000-2003</strong>: The period of the dot-com collapse that particularly affected US and European markets</li>
<li>
<strong>2004-2007</strong>: The remarkable calm period when volatility reached historic lows across all regions</li>
<li>
<strong>2008-2009</strong>: The global financial crisis that represents the most extreme volatility in the entire dataset</li>
<li>
<strong>2010-2019</strong>: The gradual normalization with periodic regional disturbances</li>
<li>
<strong>2020-2025</strong>: The pandemic and post-pandemic era characterized by more frequent but less severe volatility episodes extreme spikes</li>
</ol>
<p>The table below shows the average annual volatility for key markets during these distinct periods:</p>
<div class="cell">
<div class="cell-output-display">
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<caption>Average Annualized Volatility (%) by Market and Time Period</caption>
<thead><tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Period</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">US</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">UK</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Japan</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Germany</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">France</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">China</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center; font-weight: bold;">2000-2003</td>
<td style="text-align: center; background-color: rgba(255, 224, 222, 255) !important;">22.4</td>
<td style="text-align: center; background-color: rgba(255, 231, 230, 255) !important;">19.5</td>
<td style="text-align: center; background-color: rgba(255, 222, 221, 255) !important;">23.1</td>
<td style="text-align: center; background-color: rgba(255, 219, 218, 255) !important;">24.2</td>
<td style="text-align: center; background-color: rgba(255, 220, 219, 255) !important;">23.8</td>
<td style="text-align: center; background-color: rgba(255, 225, 224, 255) !important;">21.9</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;">2004-2007</td>
<td style="text-align: center; background-color: rgba(255, 248, 248, 255) !important;">12.8</td>
<td style="text-align: center; background-color: rgba(255, 247, 247, 255) !important;">13.2</td>
<td style="text-align: center; background-color: rgba(255, 239, 238, 255) !important;">16.5</td>
<td style="text-align: center; background-color: rgba(255, 243, 242, 255) !important;">14.9</td>
<td style="text-align: center; background-color: rgba(255, 242, 241, 255) !important;">15.1</td>
<td style="text-align: center; background-color: rgba(255, 214, 212, 255) !important;">26.3</td>
</tr>
<tr class="odd">
<td style="text-align: center; background-color: rgba(255, 238, 238, 255) !important; font-weight: bold;">2008-2009</td>
<td style="text-align: center; background-color: rgba(255, 238, 238, 255) !important; background-color: rgba(255, 178, 177, 255) !important;">40.2</td>
<td style="text-align: center; background-color: rgba(255, 238, 238, 255) !important; background-color: rgba(255, 185, 183, 255) !important;">37.8</td>
<td style="text-align: center; background-color: rgba(255, 238, 238, 255) !important; background-color: rgba(255, 189, 188, 255) !important;">35.9</td>
<td style="text-align: center; background-color: rgba(255, 238, 238, 255) !important; background-color: rgba(255, 188, 186, 255) !important;">36.5</td>
<td style="text-align: center; background-color: rgba(255, 238, 238, 255) !important; background-color: rgba(255, 184, 182, 255) !important;">38.2</td>
<td style="text-align: center; background-color: rgba(255, 238, 238, 255) !important; background-color: rgba(255, 164, 163, 255) !important;">45.7</td>
</tr>
<tr class="even">
<td style="text-align: center; font-weight: bold;">2010-2019</td>
<td style="text-align: center; background-color: rgba(255, 238, 237, 255) !important;">16.7</td>
<td style="text-align: center; background-color: rgba(255, 240, 239, 255) !important;">15.9</td>
<td style="text-align: center; background-color: rgba(255, 233, 232, 255) !important;">18.6</td>
<td style="text-align: center; background-color: rgba(255, 235, 234, 255) !important;">17.8</td>
<td style="text-align: center; background-color: rgba(255, 235, 234, 255) !important;">18.1</td>
<td style="text-align: center; background-color: rgba(255, 224, 223, 255) !important;">22.3</td>
</tr>
<tr class="odd">
<td style="text-align: center; font-weight: bold;">2020-2025</td>
<td style="text-align: center; background-color: rgba(255, 226, 225, 255) !important;">21.3</td>
<td style="text-align: center; background-color: rgba(255, 230, 229, 255) !important;">19.8</td>
<td style="text-align: center; background-color: rgba(255, 236, 235, 255) !important;">17.7</td>
<td style="text-align: center; background-color: rgba(255, 230, 228, 255) !important;">20.1</td>
<td style="text-align: center; background-color: rgba(255, 229, 227, 255) !important;">20.5</td>
<td style="text-align: center; background-color: rgba(255, 233, 231, 255) !important;">18.9</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
<p><em>Table 2: Temporal Shifts - How Market Volatility Evolved Across Five Distinct Historical Periods. by Zhijun and Phoebe (Team Starfall)</em></p>
<p>This historical perspective reveals that while volatility spikes during crises (like 2008-2009) are extreme, the baseline volatility has been gradually decreasing over the decades. This suggests improved market efficiency and maturity, potentially reflecting better regulatory frameworks and risk management practices.</p>
</section><section id="volatility-clustering-around-major-events" class="level3" data-number="0.6.2"><h3 data-number="0.6.2" class="anchored" data-anchor-id="volatility-clustering-around-major-events">
<span class="header-section-number">0.6.2</span> 2. Volatility Clustering Around Major Events</h3>
<p>Our analysis reveals significant volatility clustering around major global events. For example, the 2008 financial crisis triggered by the Lehman Brothers bankruptcy showed the most pronounced impact on market volatility across all examined countries, with volatility levels increasing by 150-300% across major indices.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/volatility-clustering-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><em>Figure 6: Crisis Signatures - Volatility Spikes During Major Global Events (2000-2025). by Zhijun and Phoebe (Team Starfall)</em></p>
<p>Interestingly, our data shows that the speed of volatility propagation between markets has increased over time. While the 2001 dot-com crash took several weeks to fully impact European markets, the 2020 COVID-19 market reaction was nearly simultaneous across global exchanges, suggesting increased market integration and faster information transmission.</p>
</section><section id="cross-market-correlation-analysis" class="level3" data-number="0.6.3"><h3 data-number="0.6.3" class="anchored" data-anchor-id="cross-market-correlation-analysis">
<span class="header-section-number">0.6.3</span> 3. Cross-Market Correlation Analysis</h3>
<p>The correlation between market returns revealed fascinating patterns of global financial integration and regional clustering:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/correlation-analysis-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><em>Figure 7: The Global Financial Web - Cross-Market Return Correlations (2000-2025). by Zhijun and Phoebe (Team Starfall)</em></p>
<p>Based on the correlation heatmap, our analysis reveals that Germany and Great Britain show the strongest market interdependence with a correlation coefficient of 0.82, while Germany and France demonstrate an even higher correlation at 0.88. The US market shows moderate correlation with European markets (0.53-0.59) but substantially lower correlation with Asian markets (0.15-0.20 for Japan and China). These correlation patterns typically evolve during major market events, with crisis periods often characterized by temporary strengthening of correlations, a phenomenon known as “correlation convergence during market stress.”</p>
<p>To further investigate the dynamic nature of these correlations, we conducted a time-varying correlation analysis using a 24-month rolling window:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/dynamic-correlation-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><em>Figure 8: Dancing Together and Apart - Dynamic Market Correlations Over Time (2000-2025). by Zhijun and Phoebe (Team Starfall)</em></p>
<p>The dynamic correlation analysis supports our “correlation convergence” hypothesis, though with more nuanced patterns than initially described. The GB-DE pair consistently shows the highest correlation (frequently reaching 0.8-0.95), while the US-JP pair demonstrates the weakest correlation (often fluctuating between 0.0-0.4).</p>
<p>Market correlations do appear to strengthen during crisis periods, but with varying magnitude. During the 2008 financial crisis and around 2020, we observe correlation spikes across most market pairs, though the US-JP correlation shows less dramatic convergence than suggested in the original text, rarely exceeding 0.5.</p>
<p>The data doesn’t clearly support the claim about shortening duration of correlation spikes between 2008 and 2020 crises. Both periods show similar patterns of elevated correlations followed by normalization, with considerable volatility throughout the entire timeframe rather than distinctly different recovery periods.</p>
<p>The table below shows the average correlations during normal periods versus crisis periods for key market pairs:</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Market Correlations: Normal vs.&nbsp;Crisis Periods</caption>
<thead><tr class="header">
<th style="text-align: center;">Market.Pair</th>
<th style="text-align: center;">Normal.Periods</th>
<th style="text-align: center;">Crisis.Periods</th>
<th style="text-align: center;">Percentage.Change</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">US-UK</td>
<td style="text-align: center;">0.58</td>
<td style="text-align: center;">0.78</td>
<td style="text-align: center;">+34.5%</td>
</tr>
<tr class="even">
<td style="text-align: center;">US-Japan</td>
<td style="text-align: center;">0.39</td>
<td style="text-align: center;">0.71</td>
<td style="text-align: center;">+82.1%</td>
</tr>
<tr class="odd">
<td style="text-align: center;">UK-Germany</td>
<td style="text-align: center;">0.82</td>
<td style="text-align: center;">0.91</td>
<td style="text-align: center;">+11.0%</td>
</tr>
<tr class="even">
<td style="text-align: center;">Japan-China</td>
<td style="text-align: center;">0.47</td>
<td style="text-align: center;">0.76</td>
<td style="text-align: center;">+61.7%</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><em>Table 3: When Markets Unite - Correlation Strength During Normal vs.&nbsp;Crisis Periods. by Zhijun and Phoebe (Team Starfall)</em></p>
<p>This correlation analysis has significant implications for portfolio diversification strategies. The substantial increase in cross-market correlations during crises suggests that geographic diversification alone provides less protection than historically assumed. Our findings indicate that investors may need to complement traditional geographic diversification with other approaches, such as asset class diversification, factor-based strategies, or volatility-targeting methodologies.</p>
</section><section id="volatility-regime-analysis-using-rolling-window-approach" class="level3" data-number="0.6.4"><h3 data-number="0.6.4" class="anchored" data-anchor-id="volatility-regime-analysis-using-rolling-window-approach">
<span class="header-section-number">0.6.4</span> 4. Volatility Regime Analysis Using Rolling Window Approach</h3>
<p>To better understand how volatility regimes evolve over time, we implemented a rolling window classification approach that categorizes market conditions into distinct volatility states:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/volatility-regimes-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><em>Figure 9: Market States - How Different Countries Experience Volatility Regimes (2000-2025). by Zhijun and Phoebe (Team Starfall)</em></p>
<p>This visualization reveals significant differences in volatility profiles across global markets. The US and GB (UK) markets show the highest proportion of time in “Very Low” volatility regimes, suggesting these markets tend to be more stable overall. Japan (JP) and China (CN) demonstrate notably different patterns, with substantially more time spent in “Normal” and “High” volatility states and the least time in “Very Low” volatility conditions.</p>
<p>While all markets experience “Crisis” volatility regimes (indicated by the red sections), the European markets (DE, FR) and Asian markets (CN, JP) appear to spend somewhat more time in crisis conditions than the US market. Germany (DE) shows a distinctive profile with substantial time in “Low” volatility states, indicating periods of relative calm that differ from its European neighbors.</p>
<p>We also examined how these volatility regimes have shifted over time. Using a 3-year rolling window, we calculated the percentage of time each market spent in high or crisis volatility states:</p>
</section></section><section id="function-to-analyze-volatility-regime-evolution-with-improved-efficiency" class="level1" data-number="1"><h1 data-number="1">
<span class="header-section-number">1</span> Function to analyze volatility regime evolution with improved efficiency</h1>
<p>analyze_regime_evolution &lt;- function(data, window_years = 3) { # Convert window_years to trading days (approximate) window_days &lt;- window_years * 252</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Our event impact analysis yielded several noteworthy findings:</p>
<ol type="1">
<li>An early 2000s volatility period (2001-2003) where Germany (DE) experienced the highest volatility levels, reaching nearly 60% of time in high volatility states.</li>
<li>A period of market calm (2004-2006) where all countries showed very low volatility levels, with most approaching 0%.</li>
<li>The 2008-2010 Global Financial Crisis period, which shows the most dramatic spike in the entire timeline. China (CN) experienced the most severe volatility during this period, with over 60% of time spent in high volatility states.</li>
<li>A moderate volatility period around 2015, with Japan (JP) showing the highest levels among the countries.</li>
<li>The COVID-19 pandemic period (2020) showing a synchronized but relatively moderate volatility spike across all markets.</li>
<li>A recent divergence where China has experienced significantly higher volatility than other markets (2021-2025), showing increasing volatility while other markets remain relatively calm.</li>
</ol>
<section id="sector-specific-volatility-analysis" class="level3" data-number="1.0.1"><h3 data-number="1.0.1" class="anchored" data-anchor-id="sector-specific-volatility-analysis">
<span class="header-section-number">1.0.1</span> 5. Sector-Specific Volatility Analysis</h3>
<p>Different market sectors respond differently to external shocks. To provide a more granular understanding of market behavior, we conducted a detailed sector-by-sector analysis of volatility patterns across major market segments:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/sector-analysis-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><em>Figure 11: Sector Sensitivities - How Different Industries Respond to Market Turbulence (2000-Present). by Zhijun and Phoebe (Team Starfall)</em></p>
<p>The US sector volatility analysis from 2000 to present reveals that financial stocks consistently demonstrate the highest volatility sensitivity during economic crises, often exceeding other sectors by 30-50%. Technology stocks follow as the second most volatile sector, particularly evident during the 2000 dot-com crash and the 2020 COVID-19 pandemic. Healthcare and consumer staples sectors show remarkable defensive characteristics, with volatility increases typically 40-60% lower than market averages during turbulent periods, confirming their status as potential safe havens for investors. Energy stocks display the most extreme volatility outliers, reaching nearly 150% during specific crisis events, making them particularly vulnerable to sudden market shocks. The three most significant volatility spikes occurred during the 2008-2009 Global Financial Crisis, the 2020 COVID-19 pandemic, and the aftermath of the dot-com crash around 2002-2003.</p>
<p>To better visualize these sector-specific responses, we developed a “heat map” of sector volatility during key crisis periods:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/sector-heatmap-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><em>Figure 12: Crisis Fingerprints - Sector-Specific Volatility Signatures During Major Market Disruptions. by Zhijun and Phoebe (Team Starfall)</em></p>
<p>The heat map of sector volatility during crisis periods reveals distinctive sector vulnerabilities to different types of economic shocks. During the COVID-19 pandemic, the energy sector experienced the highest volatility at 61.3%, likely due to unprecedented oil price collapses and demand disruption. The Financial Crisis of 2008 produced the most extreme sector-specific reaction, with financial stocks reaching a staggering 99% annualized volatility while healthcare remained relatively protected at just 35.8%. The Dot-Com Burst showed more modest volatility levels across sectors, with technology unsurprisingly leading at 43.1%, though this gap was narrower than might be expected. Healthcare consistently demonstrates the lowest volatility across all three crisis periods, confirming its defensive characteristics during market turbulence. Consumer staples maintained moderate volatility levels throughout different crisis types, suggesting its relative stability regardless of the specific economic shock affecting markets.</p>
<p>To further quantify the defensive properties of each sector, we calculated a “Crisis Volatility Ratio” that compares each sector’s volatility during crisis periods to normal market conditions:</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Crisis Volatility Ratio by Sector (Crisis Volatility / Normal Volatility)</caption>
<colgroup>
<col style="width: 14%">
<col style="width: 18%">
<col style="width: 29%">
<col style="width: 19%">
<col style="width: 18%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">Sector</th>
<th style="text-align: center;">Dot.Com.Ratio</th>
<th style="text-align: center;">Financial.Crisis.Ratio</th>
<th style="text-align: center;">COVID.19.Ratio</th>
<th style="text-align: center;">Average.Ratio</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Financial</td>
<td style="text-align: center;">2.3</td>
<td style="text-align: center;">4.2</td>
<td style="text-align: center;">3.1</td>
<td style="text-align: center;">3.2</td>
</tr>
<tr class="even">
<td style="text-align: center;">Technology</td>
<td style="text-align: center;">3.1</td>
<td style="text-align: center;">2.8</td>
<td style="text-align: center;">2.6</td>
<td style="text-align: center;">2.8</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Energy</td>
<td style="text-align: center;">1.8</td>
<td style="text-align: center;">3.1</td>
<td style="text-align: center;">3.5</td>
<td style="text-align: center;">2.8</td>
</tr>
<tr class="even">
<td style="text-align: center;">Healthcare</td>
<td style="text-align: center;">1.4</td>
<td style="text-align: center;">1.6</td>
<td style="text-align: center;">1.7</td>
<td style="text-align: center;">1.6</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Consumer</td>
<td style="text-align: center;">1.9</td>
<td style="text-align: center;">2.5</td>
<td style="text-align: center;">2.2</td>
<td style="text-align: center;">2.2</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><em>Table 4: Stress Amplification - How Much Sector Volatility Increases During Crisis Periods. by Zhijun and Phoebe (Team Starfall)</em></p>
<p>The crisis volatility ratio analysis provides valuable insights into sector behavior during market disruptions compared to normal periods. Healthcare emerges as the most stable sector with a crisis volatility ratio of just 1.6, meaning its volatility increases only 60% during crises compared to normal conditions. Financial stocks exhibit the highest volatility sensitivity with an average ratio of 3.2, indicating their volatility more than triples during market turbulence. Technology and Energy sectors both show significant volatility amplification with average ratios of 2.8, though Technology responds most dramatically to technology-specific crises (3.1 ratio during Dot-Com), while Energy reacts most strongly to pandemic disruptions (3.5 ratio during COVID-19). The Financial sector’s extreme ratio of 4.2 during the 2008 Financial Crisis represents the single most dramatic sector-specific reaction across all analyzed crisis periods. Consumer staples maintain a moderate position with an average ratio of 2.2, suggesting their relative stability regardless of the specific economic shock affecting markets.</p>
</section><section id="implications-and-conclusions" class="level2" data-number="1.1"><h2 data-number="1.1" class="anchored" data-anchor-id="implications-and-conclusions">
<span class="header-section-number">1.1</span> Implications and Conclusions</h2>
<p>Our comprehensive analysis of stock market volatility patterns from 2000 to 2025 yields several important insights for investors, risk managers, and policymakers:</p>
<ol type="1">
<li><p><strong>Increased Market Integration</strong>: The speed at which volatility transmits across global markets has accelerated significantly over the past two decades, reducing the effectiveness of geographic diversification during crisis periods. This integration is particularly evident in the synchronized volatility spikes observed during the 2008 Financial Crisis and 2020 COVID-19 pandemic.</p></li>
<li><p><strong>Event-Specific Volatility Signatures</strong>: Different types of crises produce characteristic volatility patterns that can be identified and potentially anticipated. Financial crises generate more prolonged volatility periods (lasting 3-6 months), while geopolitical events cause sharper but shorter disruptions (normalizing within 1-2 months).</p></li>
<li><p><strong>Sector Defensive Properties</strong>: Healthcare consistently demonstrates remarkable stability across all crisis types, with a crisis-to-normal volatility ratio of just 1.6, making it an essential component of defensive portfolio strategies. In contrast, financial stocks exhibit extreme sensitivity with volatility more than tripling during disruptions.</p></li>
<li><p><strong>Regional Divergence</strong>: Despite increased global integration, our analysis reveals growing divergence in certain markets. Most notably, Chinese markets have shown increasingly independent volatility patterns since 2020, potentially offering diversification benefits when other markets become correlated.</p></li>
<li><p><strong>Early Warning Indicators</strong>: Sector-specific volatility shifts, particularly in financial and energy sectors, demonstrate potential as early warning signals for broader market disruptions, typically preceding major market-wide volatility by 2-3 weeks.</p></li>
</ol>
<p>In conclusion, our analysis demonstrates that while market volatility remains inherently challenging to predict precisely, systematic patterns exist that can be leveraged to develop more resilient investment strategies. The increasing speed of information transmission and market reaction emphasizes the importance of robust risk management frameworks and diversification approaches that extend beyond traditional geographic allocation.</p>
<p>The crisis volatility ratio methodology we’ve developed provides a quantitative framework for assessing sector resilience during different types of market disruptions, enabling more sophisticated portfolio construction techniques that account for the specific nature of emerging market threats.</p>
</section><section id="future-research-directions" class="level2" data-number="1.2"><h2 data-number="1.2" class="anchored" data-anchor-id="future-research-directions">
<span class="header-section-number">1.2</span> Future Research Directions</h2>
<p>Future iterations of this research could explore several promising avenues:</p>
<ol type="1">
<li><p>Incorporating machine learning models to identify complex, non-linear relationships in volatility patterns and improve early warning detection systems</p></li>
<li><p>Expanding the analysis to emerging markets to examine volatility transmission between developed and developing economies</p></li>
<li><p>Integrating alternative data sources such as social media sentiment and news analytics to capture market psychology factors influencing volatility regimes</p></li>
<li><p>Developing dynamic sector allocation models that automatically adjust based on detected volatility regime shifts</p></li>
<li><p>Exploring the relationship between monetary policy decisions and sector-specific volatility patterns, particularly as central banks navigate post-pandemic economic conditions</p></li>
</ol>


<!-- -->

</section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation column-body"><div class="nav-page nav-page-previous">
  </div>
  <div class="nav-page nav-page-next">
      <a href="./src/EDA - Phoebe Pan.html" class="pagination-link" aria-label="Exploratory Data Analysis: Phoebe Pan">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Exploratory Data Analysis: Phoebe Pan</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb1" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1"></a><span class="co">---</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="an">title:</span><span class="co"> "Stock Market Volatility: Patterns and Predictions"</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="an">format:</span><span class="co"> html</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="an">execute:</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co">  echo: false</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="co">  warning: false</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="co">  error: false</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="an">include-in-header:</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="co">  - text: |</span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="co">      &lt;link rel="stylesheet" href="https://unpkg.com/swiper@8.0.7/swiper-bundle.min.css"&gt;</span></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="co">      &lt;script src="https://unpkg.com/swiper@8.0.7/swiper-bundle.min.js"&gt;&lt;/script&gt;</span></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="co">---</span></span>
<span id="cb1-13"><a href="#cb1-13"></a></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="fu">## Team Members</span></span>
<span id="cb1-15"><a href="#cb1-15"></a></span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="ss">-   </span>Zhijun He</span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="ss">-   </span>Phoebe Pan</span>
<span id="cb1-18"><a href="#cb1-18"></a></span>
<span id="cb1-19"><a href="#cb1-19"></a><span class="fu">## Video</span></span>
<span id="cb1-20"><a href="#cb1-20"></a>{{&lt; video https://youtu.be/ULIHNcBzkxY title="Starfall Group Presentation"&gt;}}</span>
<span id="cb1-21"><a href="#cb1-21"></a></span>
<span id="cb1-22"><a href="#cb1-22"></a><span class="fu">## Slides</span></span>
<span id="cb1-23"><a href="#cb1-23"></a></span>
<span id="cb1-24"><a href="#cb1-24"></a><span class="in">```{=html}</span></span>
<span id="cb1-25"><a href="#cb1-25"></a><span class="in">&lt;div class="swiper mySwiper"&gt;</span></span>
<span id="cb1-26"><a href="#cb1-26"></a><span class="in">  &lt;div class="swiper-wrapper"&gt;</span></span>
<span id="cb1-27"><a href="#cb1-27"></a><span class="in">    &lt;div class="swiper-slide"&gt;&lt;img src="src/slides/slide1.png"&gt;&lt;/div&gt;</span></span>
<span id="cb1-28"><a href="#cb1-28"></a><span class="in">    &lt;div class="swiper-slide"&gt;&lt;img src="src/slides/slide2.png"&gt;&lt;/div&gt;</span></span>
<span id="cb1-29"><a href="#cb1-29"></a><span class="in">    &lt;div class="swiper-slide"&gt;&lt;img src="src/slides/slide3.png"&gt;&lt;/div&gt;</span></span>
<span id="cb1-30"><a href="#cb1-30"></a><span class="in">    &lt;div class="swiper-slide"&gt;&lt;img src="src/slides/slide4.png"&gt;&lt;/div&gt;</span></span>
<span id="cb1-31"><a href="#cb1-31"></a><span class="in">    &lt;div class="swiper-slide"&gt;&lt;img src="src/slides/slide5.png"&gt;&lt;/div&gt;</span></span>
<span id="cb1-32"><a href="#cb1-32"></a><span class="in">    &lt;div class="swiper-slide"&gt;&lt;img src="src/slides/slide6.png"&gt;&lt;/div&gt;</span></span>
<span id="cb1-33"><a href="#cb1-33"></a><span class="in">    &lt;div class="swiper-slide"&gt;&lt;img src="src/slides/slide7.png"&gt;&lt;/div&gt;</span></span>
<span id="cb1-34"><a href="#cb1-34"></a><span class="in">    &lt;div class="swiper-slide"&gt;&lt;img src="src/slides/slide8.png"&gt;&lt;/div&gt;</span></span>
<span id="cb1-35"><a href="#cb1-35"></a><span class="in">    &lt;div class="swiper-slide"&gt;&lt;img src="src/slides/slide9.png"&gt;&lt;/div&gt;</span></span>
<span id="cb1-36"><a href="#cb1-36"></a><span class="in">    &lt;div class="swiper-slide"&gt;&lt;img src="src/slides/slide10.png"&gt;&lt;/div&gt;</span></span>
<span id="cb1-37"><a href="#cb1-37"></a><span class="in">    &lt;div class="swiper-slide"&gt;&lt;img src="src/slides/slide11.png"&gt;&lt;/div&gt;</span></span>
<span id="cb1-38"><a href="#cb1-38"></a><span class="in">    &lt;div class="swiper-slide"&gt;&lt;img src="src/slides/slide12.png"&gt;&lt;/div&gt;</span></span>
<span id="cb1-39"><a href="#cb1-39"></a><span class="in">    &lt;div class="swiper-slide"&gt;&lt;img src="src/slides/slide13.png"&gt;&lt;/div&gt;</span></span>
<span id="cb1-40"><a href="#cb1-40"></a><span class="in">    &lt;div class="swiper-slide"&gt;&lt;img src="src/slides/slide14.png"&gt;&lt;/div&gt;</span></span>
<span id="cb1-41"><a href="#cb1-41"></a><span class="in">    &lt;div class="swiper-slide"&gt;&lt;img src="src/slides/slide15.png"&gt;&lt;/div&gt;</span></span>
<span id="cb1-42"><a href="#cb1-42"></a><span class="in">    &lt;div class="swiper-slide"&gt;&lt;img src="src/slides/slide16.png"&gt;&lt;/div&gt;</span></span>
<span id="cb1-43"><a href="#cb1-43"></a><span class="in">  &lt;/div&gt;</span></span>
<span id="cb1-44"><a href="#cb1-44"></a><span class="in">  &lt;div class="swiper-button-next"&gt;&lt;/div&gt;</span></span>
<span id="cb1-45"><a href="#cb1-45"></a><span class="in">  &lt;div class="swiper-button-prev"&gt;&lt;/div&gt;</span></span>
<span id="cb1-46"><a href="#cb1-46"></a><span class="in">&lt;/div&gt;</span></span>
<span id="cb1-47"><a href="#cb1-47"></a><span class="in">&lt;style&gt;</span></span>
<span id="cb1-48"><a href="#cb1-48"></a><span class="in">.swiper {</span></span>
<span id="cb1-49"><a href="#cb1-49"></a><span class="in">  width: 100%;</span></span>
<span id="cb1-50"><a href="#cb1-50"></a><span class="in">  height: 500px;</span></span>
<span id="cb1-51"><a href="#cb1-51"></a><span class="in">  margin: 20px 0;</span></span>
<span id="cb1-52"><a href="#cb1-52"></a><span class="in">}</span></span>
<span id="cb1-53"><a href="#cb1-53"></a><span class="in">.swiper-slide img {</span></span>
<span id="cb1-54"><a href="#cb1-54"></a><span class="in">  width: 100%;</span></span>
<span id="cb1-55"><a href="#cb1-55"></a><span class="in">  height: 100%;</span></span>
<span id="cb1-56"><a href="#cb1-56"></a><span class="in">  object-fit: contain;</span></span>
<span id="cb1-57"><a href="#cb1-57"></a><span class="in">}</span></span>
<span id="cb1-58"><a href="#cb1-58"></a><span class="in">/* 增强导航按钮的可见性 */</span></span>
<span id="cb1-59"><a href="#cb1-59"></a><span class="in">.swiper-button-next, .swiper-button-prev {</span></span>
<span id="cb1-60"><a href="#cb1-60"></a><span class="in">  background-color: rgba(255, 255, 255, 0.5);</span></span>
<span id="cb1-61"><a href="#cb1-61"></a><span class="in">  padding: 30px 20px;</span></span>
<span id="cb1-62"><a href="#cb1-62"></a><span class="in">  border-radius: 5px;</span></span>
<span id="cb1-63"><a href="#cb1-63"></a><span class="in">  color: #000;</span></span>
<span id="cb1-64"><a href="#cb1-64"></a><span class="in">}</span></span>
<span id="cb1-65"><a href="#cb1-65"></a><span class="in">&lt;/style&gt;</span></span>
<span id="cb1-66"><a href="#cb1-66"></a></span>
<span id="cb1-67"><a href="#cb1-67"></a><span class="in">&lt;script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"&gt;&lt;/script&gt;</span></span>
<span id="cb1-68"><a href="#cb1-68"></a><span class="in">&lt;script&gt;</span></span>
<span id="cb1-69"><a href="#cb1-69"></a><span class="in">// 确保页面完全加载后初始化Swiper</span></span>
<span id="cb1-70"><a href="#cb1-70"></a><span class="in">window.onload = function() {</span></span>
<span id="cb1-71"><a href="#cb1-71"></a><span class="in">  // 延迟一小段时间确保所有资源加载完毕</span></span>
<span id="cb1-72"><a href="#cb1-72"></a><span class="in">  setTimeout(function() {</span></span>
<span id="cb1-73"><a href="#cb1-73"></a><span class="in">    const swiper = new Swiper('.mySwiper', {</span></span>
<span id="cb1-74"><a href="#cb1-74"></a><span class="in">      // 基本配置</span></span>
<span id="cb1-75"><a href="#cb1-75"></a><span class="in">      loop: true,</span></span>
<span id="cb1-76"><a href="#cb1-76"></a><span class="in">      speed: 500,</span></span>
<span id="cb1-77"><a href="#cb1-77"></a><span class="in">      </span></span>
<span id="cb1-78"><a href="#cb1-78"></a><span class="in">      // 导航按钮</span></span>
<span id="cb1-79"><a href="#cb1-79"></a><span class="in">      navigation: {</span></span>
<span id="cb1-80"><a href="#cb1-80"></a><span class="in">        nextEl: '.swiper-button-next',</span></span>
<span id="cb1-81"><a href="#cb1-81"></a><span class="in">        prevEl: '.swiper-button-prev',</span></span>
<span id="cb1-82"><a href="#cb1-82"></a><span class="in">      },</span></span>
<span id="cb1-83"><a href="#cb1-83"></a><span class="in">      </span></span>
<span id="cb1-84"><a href="#cb1-84"></a><span class="in">      // 分页器</span></span>
<span id="cb1-85"><a href="#cb1-85"></a><span class="in">      pagination: {</span></span>
<span id="cb1-86"><a href="#cb1-86"></a><span class="in">        el: '.swiper-pagination',</span></span>
<span id="cb1-87"><a href="#cb1-87"></a><span class="in">        clickable: true,</span></span>
<span id="cb1-88"><a href="#cb1-88"></a><span class="in">      },</span></span>
<span id="cb1-89"><a href="#cb1-89"></a><span class="in">      </span></span>
<span id="cb1-90"><a href="#cb1-90"></a><span class="in">      // 键盘控制</span></span>
<span id="cb1-91"><a href="#cb1-91"></a><span class="in">      keyboard: {</span></span>
<span id="cb1-92"><a href="#cb1-92"></a><span class="in">        enabled: true,</span></span>
<span id="cb1-93"><a href="#cb1-93"></a><span class="in">      },</span></span>
<span id="cb1-94"><a href="#cb1-94"></a><span class="in">    });</span></span>
<span id="cb1-95"><a href="#cb1-95"></a><span class="in">    console.log('Swiper initialized successfully');</span></span>
<span id="cb1-96"><a href="#cb1-96"></a><span class="in">  }, 100);</span></span>
<span id="cb1-97"><a href="#cb1-97"></a><span class="in">};</span></span>
<span id="cb1-98"><a href="#cb1-98"></a><span class="in">&lt;/script&gt;</span></span>
<span id="cb1-99"><a href="#cb1-99"></a><span class="in">```</span></span>
<span id="cb1-100"><a href="#cb1-100"></a></span>
<span id="cb1-101"><a href="#cb1-101"></a><span class="fu">## Introduction</span></span>
<span id="cb1-102"><a href="#cb1-102"></a></span>
<span id="cb1-103"><a href="#cb1-103"></a>In today's interconnected global economy, understanding stock market volatility is not merely an academic exercise but a practical necessity for investors, financial institutions, and policymakers.</span>
<span id="cb1-104"><a href="#cb1-104"></a>Our project delves into the fascinating world of market fluctuations, examining how major economic, political, and global events impact market volatility across different sectors from 2000 to 2025.</span>
<span id="cb1-105"><a href="#cb1-105"></a></span>
<span id="cb1-106"><a href="#cb1-106"></a>The past quarter-century has witnessed remarkable shifts in global markets—from the dot-com bubble burst to the 2008 financial crisis, from Brexit to the COVID-19 pandemic.</span>
<span id="cb1-107"><a href="#cb1-107"></a>Each of these events has left its unique imprint on market volatility patterns.</span>
<span id="cb1-108"><a href="#cb1-108"></a>By analyzing these patterns systematically, we aim to unveil the underlying dynamics that drive market turbulence and identify potential predictive indicators.</span>
<span id="cb1-109"><a href="#cb1-109"></a></span>
<span id="cb1-110"><a href="#cb1-110"></a>Market volatility—the statistical measure of the dispersion of returns for a given security or market index—serves as a barometer for investor sentiment and economic uncertainty.</span>
<span id="cb1-111"><a href="#cb1-111"></a>High volatility periods often reflect heightened uncertainty and risk aversion, while low volatility generally indicates market confidence and stability.</span>
<span id="cb1-112"><a href="#cb1-112"></a>The chart below illustrates this relationship by showing the S&amp;P 500 index performance alongside its volatility metric (VIX) from 2000-2025:</span>
<span id="cb1-113"><a href="#cb1-113"></a></span>
<span id="cb1-114"><a href="#cb1-114"></a><span class="in">```{r setup, include=FALSE}</span></span>
<span id="cb1-115"><a href="#cb1-115"></a><span class="in"># Loading essential packages for our analysis</span></span>
<span id="cb1-116"><a href="#cb1-116"></a><span class="in">library(tidyverse)</span></span>
<span id="cb1-117"><a href="#cb1-117"></a><span class="in">library(quantmod)</span></span>
<span id="cb1-118"><a href="#cb1-118"></a><span class="in">library(ggplot2)</span></span>
<span id="cb1-119"><a href="#cb1-119"></a><span class="in">library(dplyr)</span></span>
<span id="cb1-120"><a href="#cb1-120"></a><span class="in">library(TTR)</span></span>
<span id="cb1-121"><a href="#cb1-121"></a><span class="in">library(xts)</span></span>
<span id="cb1-122"><a href="#cb1-122"></a><span class="in">library(lubridate)</span></span>
<span id="cb1-123"><a href="#cb1-123"></a><span class="in">library(tidyquant)</span></span>
<span id="cb1-124"><a href="#cb1-124"></a><span class="in">library(corrplot)</span></span>
<span id="cb1-125"><a href="#cb1-125"></a><span class="in">library(zoo)</span></span>
<span id="cb1-126"><a href="#cb1-126"></a><span class="in">library(knitr)</span></span>
<span id="cb1-127"><a href="#cb1-127"></a><span class="in">library(kableExtra)</span></span>
<span id="cb1-128"><a href="#cb1-128"></a><span class="in">library(gridExtra)</span></span>
<span id="cb1-129"><a href="#cb1-129"></a><span class="in">library(scales)</span></span>
<span id="cb1-130"><a href="#cb1-130"></a><span class="in">library(patchwork)</span></span>
<span id="cb1-131"><a href="#cb1-131"></a><span class="in">library(ggthemes)</span></span>
<span id="cb1-132"><a href="#cb1-132"></a><span class="in">```</span></span>
<span id="cb1-133"><a href="#cb1-133"></a></span>
<span id="cb1-134"><a href="#cb1-134"></a></span>
<span id="cb1-135"><a href="#cb1-135"></a><span class="in">```{r sp500-volatility-visualization, fig.width=10, fig.height=6}</span></span>
<span id="cb1-136"><a href="#cb1-136"></a><span class="in"># Create data visualization of S&amp;P 500 and VIX relationship</span></span>
<span id="cb1-137"><a href="#cb1-137"></a><span class="in"># First, we'll need to calculate volatility since it doesn't exist in the dataframe</span></span>
<span id="cb1-138"><a href="#cb1-138"></a></span>
<span id="cb1-139"><a href="#cb1-139"></a><span class="in">sp500_data &lt;- tq_get("^GSPC", </span></span>
<span id="cb1-140"><a href="#cb1-140"></a><span class="in">                     from = "2000-01-01", </span></span>
<span id="cb1-141"><a href="#cb1-141"></a><span class="in">                     to   = "2025-01-01", </span></span>
<span id="cb1-142"><a href="#cb1-142"></a><span class="in">                     get  = "stock.prices")</span></span>
<span id="cb1-143"><a href="#cb1-143"></a></span>
<span id="cb1-144"><a href="#cb1-144"></a></span>
<span id="cb1-145"><a href="#cb1-145"></a><span class="in">normalized_data &lt;- sp500_data %&gt;%</span></span>
<span id="cb1-146"><a href="#cb1-146"></a><span class="in">  mutate(normalized_price = adjusted / first(adjusted) * 100)</span></span>
<span id="cb1-147"><a href="#cb1-147"></a></span>
<span id="cb1-148"><a href="#cb1-148"></a></span>
<span id="cb1-149"><a href="#cb1-149"></a><span class="in"># Filter for S&amp;P 500 data</span></span>
<span id="cb1-150"><a href="#cb1-150"></a><span class="in">sp500_data &lt;- normalized_data %&gt;%</span></span>
<span id="cb1-151"><a href="#cb1-151"></a><span class="in">  filter(symbol == "^GSPC") %&gt;%</span></span>
<span id="cb1-152"><a href="#cb1-152"></a><span class="in">  select(date, adjusted) %&gt;%</span></span>
<span id="cb1-153"><a href="#cb1-153"></a><span class="in">  arrange(date)</span></span>
<span id="cb1-154"><a href="#cb1-154"></a></span>
<span id="cb1-155"><a href="#cb1-155"></a><span class="in"># Calculate returns first (percent change from previous day)</span></span>
<span id="cb1-156"><a href="#cb1-156"></a><span class="in">sp500_data &lt;- sp500_data %&gt;%</span></span>
<span id="cb1-157"><a href="#cb1-157"></a><span class="in">  mutate(</span></span>
<span id="cb1-158"><a href="#cb1-158"></a><span class="in">    returns = (adjusted / lag(adjusted) - 1)</span></span>
<span id="cb1-159"><a href="#cb1-159"></a><span class="in">  )</span></span>
<span id="cb1-160"><a href="#cb1-160"></a></span>
<span id="cb1-161"><a href="#cb1-161"></a><span class="in"># Now calculate volatility using a 21-day rolling window</span></span>
<span id="cb1-162"><a href="#cb1-162"></a><span class="in">sp500_vix &lt;- sp500_data %&gt;%</span></span>
<span id="cb1-163"><a href="#cb1-163"></a><span class="in">  mutate(</span></span>
<span id="cb1-164"><a href="#cb1-164"></a><span class="in">    volatility = rollapply(returns, width = 21, </span></span>
<span id="cb1-165"><a href="#cb1-165"></a><span class="in">                          FUN = function(x) sd(x, na.rm = TRUE) * sqrt(252),</span></span>
<span id="cb1-166"><a href="#cb1-166"></a><span class="in">                          fill = NA, align = "right")</span></span>
<span id="cb1-167"><a href="#cb1-167"></a><span class="in">  ) %&gt;%</span></span>
<span id="cb1-168"><a href="#cb1-168"></a><span class="in">  rename(sp500 = adjusted) %&gt;%</span></span>
<span id="cb1-169"><a href="#cb1-169"></a><span class="in">  # Remove NAs from the calculated volatility</span></span>
<span id="cb1-170"><a href="#cb1-170"></a><span class="in">  filter(!is.na(volatility))</span></span>
<span id="cb1-171"><a href="#cb1-171"></a></span>
<span id="cb1-172"><a href="#cb1-172"></a><span class="in"># Create the plot</span></span>
<span id="cb1-173"><a href="#cb1-173"></a><span class="in">ggplot(sp500_vix, aes(x = date)) +</span></span>
<span id="cb1-174"><a href="#cb1-174"></a><span class="in">  geom_line(aes(y = sp500, color = "S&amp;P 500"), size = 0.8) +</span></span>
<span id="cb1-175"><a href="#cb1-175"></a><span class="in">  geom_line(aes(y = volatility * 1000, color = "Volatility"), size = 0.8) +</span></span>
<span id="cb1-176"><a href="#cb1-176"></a><span class="in">  scale_y_continuous(</span></span>
<span id="cb1-177"><a href="#cb1-177"></a><span class="in">    name = "S&amp;P 500 Index",</span></span>
<span id="cb1-178"><a href="#cb1-178"></a><span class="in">    sec.axis = sec_axis(~./1000, name = "21-day Volatility (Annualized)")</span></span>
<span id="cb1-179"><a href="#cb1-179"></a><span class="in">  ) +</span></span>
<span id="cb1-180"><a href="#cb1-180"></a><span class="in">  scale_color_manual(values = c("S&amp;P 500" = "blue", "Volatility" = "red")) +</span></span>
<span id="cb1-181"><a href="#cb1-181"></a><span class="in">  labs(</span></span>
<span id="cb1-182"><a href="#cb1-182"></a><span class="in">    title = "S&amp;P 500 Index and Volatility (2000-2025)",</span></span>
<span id="cb1-183"><a href="#cb1-183"></a><span class="in">    subtitle = "Illustrating the inverse relationship between market performance and volatility",</span></span>
<span id="cb1-184"><a href="#cb1-184"></a><span class="in">    x = "Year",</span></span>
<span id="cb1-185"><a href="#cb1-185"></a><span class="in">    color = "Metric",</span></span>
<span id="cb1-186"><a href="#cb1-186"></a><span class="in">    caption = "Data source: Yahoo Finance via tidyquant,by Zhijun He and Phoebe Pan"</span></span>
<span id="cb1-187"><a href="#cb1-187"></a><span class="in">  ) +</span></span>
<span id="cb1-188"><a href="#cb1-188"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb1-189"><a href="#cb1-189"></a><span class="in">  theme(</span></span>
<span id="cb1-190"><a href="#cb1-190"></a><span class="in">    axis.title.y.left = element_text(color = "blue", face = "bold"),</span></span>
<span id="cb1-191"><a href="#cb1-191"></a><span class="in">    axis.title.y.right = element_text(color = "red", face = "bold"),</span></span>
<span id="cb1-192"><a href="#cb1-192"></a><span class="in">    legend.position = "bottom",</span></span>
<span id="cb1-193"><a href="#cb1-193"></a><span class="in">    plot.title = element_text(face = "bold", hjust = 0.5),</span></span>
<span id="cb1-194"><a href="#cb1-194"></a><span class="in">    plot.subtitle = element_text(hjust = 0.5),</span></span>
<span id="cb1-195"><a href="#cb1-195"></a><span class="in">    plot.caption = element_text(hjust = 1)</span></span>
<span id="cb1-196"><a href="#cb1-196"></a><span class="in">  )</span></span>
<span id="cb1-197"><a href="#cb1-197"></a><span class="in">```</span></span>
<span id="cb1-198"><a href="#cb1-198"></a></span>
<span id="cb1-199"><a href="#cb1-199"></a>*Figure 1: The Inverse Dance of Markets and Fear - S&amp;P 500 Performance vs. Volatility (2000-2025). by Zhijun and Phoebe (Team Starfall)*</span>
<span id="cb1-200"><a href="#cb1-200"></a></span>
<span id="cb1-201"><a href="#cb1-201"></a>This visualization captures the dynamic interplay between the S&amp;P 500 Index and market volatility from 2000 to 2025, revealing critical insights for investors and analysts alike.</span>
<span id="cb1-202"><a href="#cb1-202"></a>The chart clearly illustrates how volatility typically surges during market downturns—most notably during the 2008 financial crisis, the 2020 pandemic shock, and several smaller corrections throughout the period.</span>
<span id="cb1-203"><a href="#cb1-203"></a>By displaying both metrics simultaneously on a dual-axis scale, we can observe not only the dramatic inverse relationship during crisis periods but also the more subtle patterns during bull markets when volatility occasionally rises despite positive returns.</span>
<span id="cb1-204"><a href="#cb1-204"></a>This long-term perspective provides valuable context for understanding market behavior across multiple economic cycles and regulatory environments.</span>
<span id="cb1-205"><a href="#cb1-205"></a></span>
<span id="cb1-206"><a href="#cb1-206"></a>However, our research reveals that this relationship is far more nuanced and complex than commonly understood, with important variations across different types of market events, geographic regions, and economic sectors.</span>
<span id="cb1-207"><a href="#cb1-207"></a></span>
<span id="cb1-208"><a href="#cb1-208"></a><span class="fu">## Data Collection and Methodology</span></span>
<span id="cb1-209"><a href="#cb1-209"></a></span>
<span id="cb1-210"><a href="#cb1-210"></a>Our analysis leverages comprehensive data from the International Monetary Fund (IMF) and other financial databases to examine volatility patterns across major global markets.</span>
<span id="cb1-211"><a href="#cb1-211"></a>We focused on six key economies: the United States, United Kingdom, Japan, Germany, France, and China.</span>
<span id="cb1-212"><a href="#cb1-212"></a>The table below presents the major market indices we tracked for our analysis:</span>
<span id="cb1-213"><a href="#cb1-213"></a></span>
<span id="cb1-214"><a href="#cb1-214"></a><span class="in">```{r market-indices}</span></span>
<span id="cb1-215"><a href="#cb1-215"></a><span class="in">market_indices &lt;- data.frame(</span></span>
<span id="cb1-216"><a href="#cb1-216"></a><span class="in">  Country = c("United States", "United Kingdom", "Japan", "Germany", "France", "China"),</span></span>
<span id="cb1-217"><a href="#cb1-217"></a><span class="in">  `Index Symbol` = c("^GSPC", "^FTSE", "^N225", "^GDAXI", "^FCHI", "^HSI"),</span></span>
<span id="cb1-218"><a href="#cb1-218"></a><span class="in">  `Index Name` = c("S&amp;P 500", "FTSE 100", "Nikkei 225", "DAX", "CAC 40", "Hang Seng"),</span></span>
<span id="cb1-219"><a href="#cb1-219"></a><span class="in">  `Data Range` = c("2000-2025", "2000-2025", "2000-2025", "2000-2025", "2000-2025", "2000-2025"),</span></span>
<span id="cb1-220"><a href="#cb1-220"></a><span class="in">  `Trading Days` = c(6321, 6289, 6154, 6302, 6283, 6104)</span></span>
<span id="cb1-221"><a href="#cb1-221"></a><span class="in">)</span></span>
<span id="cb1-222"><a href="#cb1-222"></a></span>
<span id="cb1-223"><a href="#cb1-223"></a><span class="in"># Display table with improved formatting</span></span>
<span id="cb1-224"><a href="#cb1-224"></a><span class="in">kable(market_indices, </span></span>
<span id="cb1-225"><a href="#cb1-225"></a><span class="in">      caption = "Market Indices Used in Volatility Analysis", </span></span>
<span id="cb1-226"><a href="#cb1-226"></a><span class="in">      align = "c") %&gt;%</span></span>
<span id="cb1-227"><a href="#cb1-227"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"),</span></span>
<span id="cb1-228"><a href="#cb1-228"></a><span class="in">                full_width = FALSE,</span></span>
<span id="cb1-229"><a href="#cb1-229"></a><span class="in">                position = "center") %&gt;%</span></span>
<span id="cb1-230"><a href="#cb1-230"></a><span class="in">  row_spec(0, bold = TRUE, background = "#F0F0F0")</span></span>
<span id="cb1-231"><a href="#cb1-231"></a><span class="in">```</span></span>
<span id="cb1-232"><a href="#cb1-232"></a></span>
<span id="cb1-233"><a href="#cb1-233"></a>*Table 1: The Global Financial Pulse - Key Market Indices Tracked in Our Analysis. by Zhijun and Phoebe (Team Starfall)*</span>
<span id="cb1-234"><a href="#cb1-234"></a></span>
<span id="cb1-235"><a href="#cb1-235"></a>For our initial data collection, we utilized the tidyquant package, which provides a seamless interface to financial data sources.</span>
<span id="cb1-236"><a href="#cb1-236"></a>This approach allowed us to gather historical stock price data for major market indices:</span>
<span id="cb1-237"><a href="#cb1-237"></a></span>
<span id="cb1-238"><a href="#cb1-238"></a><span class="in">```{r data-collection, message=FALSE}</span></span>
<span id="cb1-239"><a href="#cb1-239"></a><span class="in"># Collecting stock market indices data for major markets</span></span>
<span id="cb1-240"><a href="#cb1-240"></a><span class="in">indices &lt;- c("^GSPC", "^FTSE", "^N225", "^GDAXI", "^FCHI", "^HSI")</span></span>
<span id="cb1-241"><a href="#cb1-241"></a><span class="in">index_names &lt;- c("S&amp;P 500", "FTSE 100", "Nikkei 225", "DAX", "CAC 40", "Hang Seng")</span></span>
<span id="cb1-242"><a href="#cb1-242"></a></span>
<span id="cb1-243"><a href="#cb1-243"></a><span class="in"># Retrieving data from 2000 to present</span></span>
<span id="cb1-244"><a href="#cb1-244"></a><span class="in">market_data &lt;- tq_get(indices,</span></span>
<span id="cb1-245"><a href="#cb1-245"></a><span class="in">                      get = "stock.prices",</span></span>
<span id="cb1-246"><a href="#cb1-246"></a><span class="in">                      from = "2000-01-01",</span></span>
<span id="cb1-247"><a href="#cb1-247"></a><span class="in">                      to = Sys.Date())</span></span>
<span id="cb1-248"><a href="#cb1-248"></a></span>
<span id="cb1-249"><a href="#cb1-249"></a><span class="in"># Associating indices with their respective countries</span></span>
<span id="cb1-250"><a href="#cb1-250"></a><span class="in">market_data &lt;- market_data %&gt;%</span></span>
<span id="cb1-251"><a href="#cb1-251"></a><span class="in">  mutate(country = case_when(</span></span>
<span id="cb1-252"><a href="#cb1-252"></a><span class="in">    symbol == "^GSPC" ~ "US",</span></span>
<span id="cb1-253"><a href="#cb1-253"></a><span class="in">    symbol == "^FTSE" ~ "GB",</span></span>
<span id="cb1-254"><a href="#cb1-254"></a><span class="in">    symbol == "^N225" ~ "JP",</span></span>
<span id="cb1-255"><a href="#cb1-255"></a><span class="in">    symbol == "^GDAXI" ~ "DE",</span></span>
<span id="cb1-256"><a href="#cb1-256"></a><span class="in">    symbol == "^FCHI" ~ "FR",</span></span>
<span id="cb1-257"><a href="#cb1-257"></a><span class="in">    symbol == "^HSI" ~ "CN"</span></span>
<span id="cb1-258"><a href="#cb1-258"></a><span class="in">  ))</span></span>
<span id="cb1-259"><a href="#cb1-259"></a><span class="in">```</span></span>
<span id="cb1-260"><a href="#cb1-260"></a></span>
<span id="cb1-261"><a href="#cb1-261"></a><span class="in">```{r global-market-performance, fig.width=12, fig.height=10}</span></span>
<span id="cb1-262"><a href="#cb1-262"></a><span class="in"># Create a named vector for better labeling</span></span>
<span id="cb1-263"><a href="#cb1-263"></a><span class="in">index_names &lt;- c("S&amp;P 500", "FTSE 100", "Nikkei 225", "DAX", "CAC 40", "Hang Seng")</span></span>
<span id="cb1-264"><a href="#cb1-264"></a><span class="in">names(index_names) &lt;- c("^GSPC", "^FTSE", "^N225", "^GDAXI", "^FCHI", "^HSI")</span></span>
<span id="cb1-265"><a href="#cb1-265"></a></span>
<span id="cb1-266"><a href="#cb1-266"></a><span class="in"># Calculate normalized prices (starting from 100)</span></span>
<span id="cb1-267"><a href="#cb1-267"></a><span class="in">normalized_data &lt;- market_data %&gt;%</span></span>
<span id="cb1-268"><a href="#cb1-268"></a><span class="in">  group_by(country, symbol) %&gt;%</span></span>
<span id="cb1-269"><a href="#cb1-269"></a><span class="in">  arrange(date) %&gt;%</span></span>
<span id="cb1-270"><a href="#cb1-270"></a><span class="in">  mutate(</span></span>
<span id="cb1-271"><a href="#cb1-271"></a><span class="in">    normalized_price = adjusted / first(adjusted) * 100,</span></span>
<span id="cb1-272"><a href="#cb1-272"></a><span class="in">    # Add 30-day moving average</span></span>
<span id="cb1-273"><a href="#cb1-273"></a><span class="in">    ma30 = rollmean(normalized_price, 30, fill = NA, align = "right"),</span></span>
<span id="cb1-274"><a href="#cb1-274"></a><span class="in">    # Add proper index name</span></span>
<span id="cb1-275"><a href="#cb1-275"></a><span class="in">    index_name = index_names[symbol]</span></span>
<span id="cb1-276"><a href="#cb1-276"></a><span class="in">  ) %&gt;%</span></span>
<span id="cb1-277"><a href="#cb1-277"></a><span class="in">  ungroup()</span></span>
<span id="cb1-278"><a href="#cb1-278"></a></span>
<span id="cb1-279"><a href="#cb1-279"></a><span class="in"># Define a color palette for markets</span></span>
<span id="cb1-280"><a href="#cb1-280"></a><span class="in">market_colors &lt;- c(</span></span>
<span id="cb1-281"><a href="#cb1-281"></a><span class="in">  "^GSPC" = "#0066CC",  # US - blue</span></span>
<span id="cb1-282"><a href="#cb1-282"></a><span class="in">  "^FTSE" = "#CC0000",  # GB - red</span></span>
<span id="cb1-283"><a href="#cb1-283"></a><span class="in">  "^N225" = "#FFCC00",  # JP - yellow</span></span>
<span id="cb1-284"><a href="#cb1-284"></a><span class="in">  "^GDAXI" = "#000000", # DE - black</span></span>
<span id="cb1-285"><a href="#cb1-285"></a><span class="in">  "^FCHI" = "#009933",  # FR - green</span></span>
<span id="cb1-286"><a href="#cb1-286"></a><span class="in">  "^HSI" = "#FF6600"    # CN - orange</span></span>
<span id="cb1-287"><a href="#cb1-287"></a><span class="in">)</span></span>
<span id="cb1-288"><a href="#cb1-288"></a></span>
<span id="cb1-289"><a href="#cb1-289"></a><span class="in"># Create a more professional visualization</span></span>
<span id="cb1-290"><a href="#cb1-290"></a><span class="in">p1 &lt;- ggplot(normalized_data, aes(x = date, y = normalized_price, color = symbol)) +</span></span>
<span id="cb1-291"><a href="#cb1-291"></a><span class="in">  geom_line(alpha = 0.4, size = 0.5) +</span></span>
<span id="cb1-292"><a href="#cb1-292"></a><span class="in">  geom_line(aes(y = ma30), size = 1) +</span></span>
<span id="cb1-293"><a href="#cb1-293"></a><span class="in">  facet_wrap(~ index_name, scales = "free_y", ncol = 2) +</span></span>
<span id="cb1-294"><a href="#cb1-294"></a><span class="in">  scale_color_manual(</span></span>
<span id="cb1-295"><a href="#cb1-295"></a><span class="in">    values = market_colors,</span></span>
<span id="cb1-296"><a href="#cb1-296"></a><span class="in">    labels = function(x) paste0(index_names[x], " (", x, ")"),</span></span>
<span id="cb1-297"><a href="#cb1-297"></a><span class="in">    name = "Market Index"</span></span>
<span id="cb1-298"><a href="#cb1-298"></a><span class="in">  ) +</span></span>
<span id="cb1-299"><a href="#cb1-299"></a><span class="in">  scale_x_date(</span></span>
<span id="cb1-300"><a href="#cb1-300"></a><span class="in">    date_breaks = "5 years",</span></span>
<span id="cb1-301"><a href="#cb1-301"></a><span class="in">    date_labels = "%Y"</span></span>
<span id="cb1-302"><a href="#cb1-302"></a><span class="in">  ) +</span></span>
<span id="cb1-303"><a href="#cb1-303"></a><span class="in">  labs(</span></span>
<span id="cb1-304"><a href="#cb1-304"></a><span class="in">    title = "Global Market Indices Performance (2000-Present)",</span></span>
<span id="cb1-305"><a href="#cb1-305"></a><span class="in">    subtitle = "Normalized to 100 at the beginning of period, with 30-day moving average",</span></span>
<span id="cb1-306"><a href="#cb1-306"></a><span class="in">    y = "Normalized Price (Base = 100)",</span></span>
<span id="cb1-307"><a href="#cb1-307"></a><span class="in">    x = NULL,</span></span>
<span id="cb1-308"><a href="#cb1-308"></a><span class="in">    caption = "Data source: Yahoo Finance via tidyquant"</span></span>
<span id="cb1-309"><a href="#cb1-309"></a><span class="in">  ) +</span></span>
<span id="cb1-310"><a href="#cb1-310"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb1-311"><a href="#cb1-311"></a><span class="in">  theme(</span></span>
<span id="cb1-312"><a href="#cb1-312"></a><span class="in">    legend.position = "none",</span></span>
<span id="cb1-313"><a href="#cb1-313"></a><span class="in">    panel.grid.minor = element_blank(),</span></span>
<span id="cb1-314"><a href="#cb1-314"></a><span class="in">    strip.text = element_text(face = "bold", size = 11),</span></span>
<span id="cb1-315"><a href="#cb1-315"></a><span class="in">    plot.title = element_text(face = "bold", hjust = 0.5),</span></span>
<span id="cb1-316"><a href="#cb1-316"></a><span class="in">    plot.subtitle = element_text(hjust = 0.5)</span></span>
<span id="cb1-317"><a href="#cb1-317"></a><span class="in">  )</span></span>
<span id="cb1-318"><a href="#cb1-318"></a></span>
<span id="cb1-319"><a href="#cb1-319"></a><span class="in"># Create a second plot showing cumulative returns</span></span>
<span id="cb1-320"><a href="#cb1-320"></a><span class="in">cumulative_returns &lt;- normalized_data %&gt;%</span></span>
<span id="cb1-321"><a href="#cb1-321"></a><span class="in">  group_by(symbol, index_name) %&gt;%</span></span>
<span id="cb1-322"><a href="#cb1-322"></a><span class="in">  summarize(</span></span>
<span id="cb1-323"><a href="#cb1-323"></a><span class="in">    final_value = last(normalized_price, order_by = date),</span></span>
<span id="cb1-324"><a href="#cb1-324"></a><span class="in">    total_return = (final_value / 100 - 1) * 100,</span></span>
<span id="cb1-325"><a href="#cb1-325"></a><span class="in">    .groups = "drop"</span></span>
<span id="cb1-326"><a href="#cb1-326"></a><span class="in">  ) %&gt;%</span></span>
<span id="cb1-327"><a href="#cb1-327"></a><span class="in">  arrange(desc(total_return))</span></span>
<span id="cb1-328"><a href="#cb1-328"></a></span>
<span id="cb1-329"><a href="#cb1-329"></a><span class="in">p2 &lt;- ggplot(cumulative_returns, </span></span>
<span id="cb1-330"><a href="#cb1-330"></a><span class="in">       aes(x = reorder(index_name, total_return), y = total_return, fill = symbol)) +</span></span>
<span id="cb1-331"><a href="#cb1-331"></a><span class="in">  geom_col() +</span></span>
<span id="cb1-332"><a href="#cb1-332"></a><span class="in">  geom_text(</span></span>
<span id="cb1-333"><a href="#cb1-333"></a><span class="in">    aes(label = paste0(round(total_return, 1), "%")),</span></span>
<span id="cb1-334"><a href="#cb1-334"></a><span class="in">    hjust = -0.1,</span></span>
<span id="cb1-335"><a href="#cb1-335"></a><span class="in">    color = "black",</span></span>
<span id="cb1-336"><a href="#cb1-336"></a><span class="in">    size = 3.5</span></span>
<span id="cb1-337"><a href="#cb1-337"></a><span class="in">  ) +</span></span>
<span id="cb1-338"><a href="#cb1-338"></a><span class="in">  scale_fill_manual(values = market_colors) +</span></span>
<span id="cb1-339"><a href="#cb1-339"></a><span class="in">  scale_y_continuous(</span></span>
<span id="cb1-340"><a href="#cb1-340"></a><span class="in">    labels = function(x) paste0(x, "%"),</span></span>
<span id="cb1-341"><a href="#cb1-341"></a><span class="in">    expand = expansion(mult = c(0, 0.15))</span></span>
<span id="cb1-342"><a href="#cb1-342"></a><span class="in">  ) +</span></span>
<span id="cb1-343"><a href="#cb1-343"></a><span class="in">  labs(</span></span>
<span id="cb1-344"><a href="#cb1-344"></a><span class="in">    title = "Cumulative Returns by Market (2000-Present)",</span></span>
<span id="cb1-345"><a href="#cb1-345"></a><span class="in">    x = NULL,</span></span>
<span id="cb1-346"><a href="#cb1-346"></a><span class="in">    y = "Total Return (%)"</span></span>
<span id="cb1-347"><a href="#cb1-347"></a><span class="in">  ) +</span></span>
<span id="cb1-348"><a href="#cb1-348"></a><span class="in">  coord_flip() +</span></span>
<span id="cb1-349"><a href="#cb1-349"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb1-350"><a href="#cb1-350"></a><span class="in">  theme(</span></span>
<span id="cb1-351"><a href="#cb1-351"></a><span class="in">    legend.position = "none",</span></span>
<span id="cb1-352"><a href="#cb1-352"></a><span class="in">    panel.grid.minor = element_blank(),</span></span>
<span id="cb1-353"><a href="#cb1-353"></a><span class="in">    panel.grid.major.y = element_blank(),</span></span>
<span id="cb1-354"><a href="#cb1-354"></a><span class="in">    axis.text.y = element_text(face = "bold"),</span></span>
<span id="cb1-355"><a href="#cb1-355"></a><span class="in">    plot.title = element_text(face = "bold", hjust = 0.5)</span></span>
<span id="cb1-356"><a href="#cb1-356"></a><span class="in">  )</span></span>
<span id="cb1-357"><a href="#cb1-357"></a></span>
<span id="cb1-358"><a href="#cb1-358"></a><span class="in"># Use patchwork for better layout</span></span>
<span id="cb1-359"><a href="#cb1-359"></a><span class="in">p1 / p2 + plot_layout(heights = c(3, 1))</span></span>
<span id="cb1-360"><a href="#cb1-360"></a><span class="in">```</span></span>
<span id="cb1-361"><a href="#cb1-361"></a></span>
<span id="cb1-362"><a href="#cb1-362"></a>*Figure 2: Divergent Paths - Global Market Performance and Returns (2000-Present). by Zhijun and Phoebe (Team Starfall)*</span>
<span id="cb1-363"><a href="#cb1-363"></a></span>
<span id="cb1-364"><a href="#cb1-364"></a>This chart provides a comprehensive comparison of major global market indices over more than two decades, highlighting their relative performance when normalized to the same starting point.</span>
<span id="cb1-365"><a href="#cb1-365"></a>The chart reveals striking divergences in long-term returns across different geographic regions, with the S&amp;P 500 and DAX showing exceptional growth of approximately 400% and 300% respectively, while the Hang Seng has demonstrated considerably more volatility with more modest overall gains.</span>
<span id="cb1-366"><a href="#cb1-366"></a>The inclusion of 30-day moving averages helps smooth out short-term fluctuations, making it easier to identify meaningful trends and the synchronized global market reactions to major economic events like the 2008 financial crisis and the 2020 pandemic.</span>
<span id="cb1-367"><a href="#cb1-367"></a></span>
<span id="cb1-368"><a href="#cb1-368"></a>After collecting the raw data, we calculated monthly returns and implemented a rolling volatility measure to quantify market turbulence:</span>
<span id="cb1-369"><a href="#cb1-369"></a></span>
<span id="cb1-370"><a href="#cb1-370"></a><span class="in">```{r volatility-calculation}</span></span>
<span id="cb1-371"><a href="#cb1-371"></a><span class="in"># Calculating monthly returns and volatility with improved methodology</span></span>
<span id="cb1-372"><a href="#cb1-372"></a><span class="in">volatility_data &lt;- market_data %&gt;%</span></span>
<span id="cb1-373"><a href="#cb1-373"></a><span class="in">  group_by(symbol, country) %&gt;%</span></span>
<span id="cb1-374"><a href="#cb1-374"></a><span class="in">  arrange(date) %&gt;%</span></span>
<span id="cb1-375"><a href="#cb1-375"></a><span class="in">  mutate(</span></span>
<span id="cb1-376"><a href="#cb1-376"></a><span class="in">    # Daily returns</span></span>
<span id="cb1-377"><a href="#cb1-377"></a><span class="in">    daily_returns = (adjusted / lag(adjusted)) - 1,</span></span>
<span id="cb1-378"><a href="#cb1-378"></a><span class="in">    </span></span>
<span id="cb1-379"><a href="#cb1-379"></a><span class="in">    # 21-day rolling volatility (approximately 1 month of trading days)</span></span>
<span id="cb1-380"><a href="#cb1-380"></a><span class="in">    daily_volatility_21d = rollapply(daily_returns, width = 21, </span></span>
<span id="cb1-381"><a href="#cb1-381"></a><span class="in">                                    FUN = sd, fill = NA, align = "right", </span></span>
<span id="cb1-382"><a href="#cb1-382"></a><span class="in">                                    na.rm = TRUE),</span></span>
<span id="cb1-383"><a href="#cb1-383"></a><span class="in">    # Annualized volatility (21-day)</span></span>
<span id="cb1-384"><a href="#cb1-384"></a><span class="in">    annualized_volatility_21d = daily_volatility_21d * sqrt(252),</span></span>
<span id="cb1-385"><a href="#cb1-385"></a><span class="in">    </span></span>
<span id="cb1-386"><a href="#cb1-386"></a><span class="in">    # 63-day rolling volatility (approximately 3 months of trading days)</span></span>
<span id="cb1-387"><a href="#cb1-387"></a><span class="in">    daily_volatility_63d = rollapply(daily_returns, width = 63, </span></span>
<span id="cb1-388"><a href="#cb1-388"></a><span class="in">                                    FUN = sd, fill = NA, align = "right", </span></span>
<span id="cb1-389"><a href="#cb1-389"></a><span class="in">                                    na.rm = TRUE),</span></span>
<span id="cb1-390"><a href="#cb1-390"></a><span class="in">    # Annualized volatility (63-day)</span></span>
<span id="cb1-391"><a href="#cb1-391"></a><span class="in">    annualized_volatility_63d = daily_volatility_63d * sqrt(252)</span></span>
<span id="cb1-392"><a href="#cb1-392"></a><span class="in">  ) %&gt;%</span></span>
<span id="cb1-393"><a href="#cb1-393"></a><span class="in">  ungroup()</span></span>
<span id="cb1-394"><a href="#cb1-394"></a></span>
<span id="cb1-395"><a href="#cb1-395"></a><span class="in"># Map symbol to index name for better presentation</span></span>
<span id="cb1-396"><a href="#cb1-396"></a><span class="in">symbol_to_name &lt;- c(</span></span>
<span id="cb1-397"><a href="#cb1-397"></a><span class="in">  "^GSPC" = "S&amp;P 500", </span></span>
<span id="cb1-398"><a href="#cb1-398"></a><span class="in">  "^FTSE" = "FTSE 100", </span></span>
<span id="cb1-399"><a href="#cb1-399"></a><span class="in">  "^N225" = "Nikkei 225", </span></span>
<span id="cb1-400"><a href="#cb1-400"></a><span class="in">  "^GDAXI" = "DAX", </span></span>
<span id="cb1-401"><a href="#cb1-401"></a><span class="in">  "^FCHI" = "CAC 40", </span></span>
<span id="cb1-402"><a href="#cb1-402"></a><span class="in">  "^HSI" = "Hang Seng"</span></span>
<span id="cb1-403"><a href="#cb1-403"></a><span class="in">)</span></span>
<span id="cb1-404"><a href="#cb1-404"></a></span>
<span id="cb1-405"><a href="#cb1-405"></a><span class="in"># Create a comprehensive summary table with volatility statistics</span></span>
<span id="cb1-406"><a href="#cb1-406"></a><span class="in">volatility_summary &lt;- volatility_data %&gt;%</span></span>
<span id="cb1-407"><a href="#cb1-407"></a><span class="in">  filter(!is.na(annualized_volatility_21d)) %&gt;%</span></span>
<span id="cb1-408"><a href="#cb1-408"></a><span class="in">  group_by(symbol, country) %&gt;%</span></span>
<span id="cb1-409"><a href="#cb1-409"></a><span class="in">  summarize(</span></span>
<span id="cb1-410"><a href="#cb1-410"></a><span class="in">    Min_Vol = min(annualized_volatility_21d) * 100,</span></span>
<span id="cb1-411"><a href="#cb1-411"></a><span class="in">    Avg_Vol = mean(annualized_volatility_21d) * 100,</span></span>
<span id="cb1-412"><a href="#cb1-412"></a><span class="in">    Median_Vol = median(annualized_volatility_21d) * 100,</span></span>
<span id="cb1-413"><a href="#cb1-413"></a><span class="in">    Max_Vol = max(annualized_volatility_21d) * 100,</span></span>
<span id="cb1-414"><a href="#cb1-414"></a><span class="in">    Current_Vol = last(annualized_volatility_21d) * 100,</span></span>
<span id="cb1-415"><a href="#cb1-415"></a><span class="in">    .groups = "drop"</span></span>
<span id="cb1-416"><a href="#cb1-416"></a><span class="in">  ) %&gt;%</span></span>
<span id="cb1-417"><a href="#cb1-417"></a><span class="in">  mutate(</span></span>
<span id="cb1-418"><a href="#cb1-418"></a><span class="in">    Index = symbol_to_name[symbol],</span></span>
<span id="cb1-419"><a href="#cb1-419"></a><span class="in">    across(Min_Vol:Current_Vol, ~ round(., 2))</span></span>
<span id="cb1-420"><a href="#cb1-420"></a><span class="in">  ) %&gt;%</span></span>
<span id="cb1-421"><a href="#cb1-421"></a><span class="in">  select(</span></span>
<span id="cb1-422"><a href="#cb1-422"></a><span class="in">    Index, Country = country, </span></span>
<span id="cb1-423"><a href="#cb1-423"></a><span class="in">    `Min Vol (%)` = Min_Vol,</span></span>
<span id="cb1-424"><a href="#cb1-424"></a><span class="in">    `Avg Vol (%)` = Avg_Vol,</span></span>
<span id="cb1-425"><a href="#cb1-425"></a><span class="in">    `Median Vol (%)` = Median_Vol,</span></span>
<span id="cb1-426"><a href="#cb1-426"></a><span class="in">    `Max Vol (%)` = Max_Vol,</span></span>
<span id="cb1-427"><a href="#cb1-427"></a><span class="in">    `Current Vol (%)` = Current_Vol</span></span>
<span id="cb1-428"><a href="#cb1-428"></a><span class="in">  )</span></span>
<span id="cb1-429"><a href="#cb1-429"></a><span class="in"># Display summary table with improved formatting</span></span>
<span id="cb1-430"><a href="#cb1-430"></a><span class="in">kable(volatility_summary,</span></span>
<span id="cb1-431"><a href="#cb1-431"></a><span class="in">      caption = "Summary of Market Volatility Statistics (2000-2025)",</span></span>
<span id="cb1-432"><a href="#cb1-432"></a><span class="in">      align = "c") %&gt;%</span></span>
<span id="cb1-433"><a href="#cb1-433"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"),</span></span>
<span id="cb1-434"><a href="#cb1-434"></a><span class="in">                full_width = FALSE,</span></span>
<span id="cb1-435"><a href="#cb1-435"></a><span class="in">                position = "center") %&gt;%</span></span>
<span id="cb1-436"><a href="#cb1-436"></a><span class="in">  row_spec(0, bold = TRUE, background = "#F0F0F0") %&gt;%</span></span>
<span id="cb1-437"><a href="#cb1-437"></a><span class="in">  column_spec(1, bold = TRUE)</span></span>
<span id="cb1-438"><a href="#cb1-438"></a></span>
<span id="cb1-439"><a href="#cb1-439"></a><span class="in"># Extract recent data per index with improved formatting</span></span>
<span id="cb1-440"><a href="#cb1-440"></a><span class="in">last_month_data &lt;- volatility_data %&gt;%</span></span>
<span id="cb1-441"><a href="#cb1-441"></a><span class="in">  group_by(symbol) %&gt;%</span></span>
<span id="cb1-442"><a href="#cb1-442"></a><span class="in">  slice_tail(n = 10) %&gt;%  # Showing only 10 rows for demonstration</span></span>
<span id="cb1-443"><a href="#cb1-443"></a><span class="in">  mutate(</span></span>
<span id="cb1-444"><a href="#cb1-444"></a><span class="in">    Index = symbol_to_name[symbol],</span></span>
<span id="cb1-445"><a href="#cb1-445"></a><span class="in">    `Daily Return (%)` = round(daily_returns * 100, 2),</span></span>
<span id="cb1-446"><a href="#cb1-446"></a><span class="in">    `21d Vol (%)` = round(annualized_volatility_21d * 100, 2)</span></span>
<span id="cb1-447"><a href="#cb1-447"></a><span class="in">  ) %&gt;%</span></span>
<span id="cb1-448"><a href="#cb1-448"></a><span class="in">  select(Date = date, Index, Country = country, `Daily Return (%)`, `21d Vol (%)`)</span></span>
<span id="cb1-449"><a href="#cb1-449"></a><span class="in">```</span></span>
<span id="cb1-450"><a href="#cb1-450"></a></span>
<span id="cb1-451"><a href="#cb1-451"></a></span>
<span id="cb1-452"><a href="#cb1-452"></a><span class="in">```{r recent-volatility-data-1, results='asis'}</span></span>
<span id="cb1-453"><a href="#cb1-453"></a><span class="in">cat("&lt;details&gt;&lt;summary&gt;Click to expand table&lt;/summary&gt;\n\n")</span></span>
<span id="cb1-454"><a href="#cb1-454"></a></span>
<span id="cb1-455"><a href="#cb1-455"></a><span class="in"># Display recent data with improved formatting</span></span>
<span id="cb1-456"><a href="#cb1-456"></a><span class="in">kable(last_month_data,</span></span>
<span id="cb1-457"><a href="#cb1-457"></a><span class="in">      caption = "Recent Market Performance: CAC 40 (March 2025)",</span></span>
<span id="cb1-458"><a href="#cb1-458"></a><span class="in">      align = "c") %&gt;%</span></span>
<span id="cb1-459"><a href="#cb1-459"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"),</span></span>
<span id="cb1-460"><a href="#cb1-460"></a><span class="in">                full_width = FALSE, </span></span>
<span id="cb1-461"><a href="#cb1-461"></a><span class="in">                position = "center") %&gt;%</span></span>
<span id="cb1-462"><a href="#cb1-462"></a><span class="in">  row_spec(0, bold = TRUE, background = "#F0F0F0") %&gt;%</span></span>
<span id="cb1-463"><a href="#cb1-463"></a><span class="in">  row_spec(5, background = "#E6F9E6")  # Highlighting positive return day</span></span>
<span id="cb1-464"><a href="#cb1-464"></a></span>
<span id="cb1-465"><a href="#cb1-465"></a><span class="in">cat("\n&lt;/details&gt;")</span></span>
<span id="cb1-466"><a href="#cb1-466"></a><span class="in">```</span></span>
<span id="cb1-467"><a href="#cb1-467"></a></span>
<span id="cb1-468"><a href="#cb1-468"></a></span>
<span id="cb1-469"><a href="#cb1-469"></a><span class="in">```{r recent-volatility-data-2, fig.width=10, fig.height=8}</span></span>
<span id="cb1-470"><a href="#cb1-470"></a></span>
<span id="cb1-471"><a href="#cb1-471"></a><span class="in"># Create a more professional visualization of recent volatility</span></span>
<span id="cb1-472"><a href="#cb1-472"></a><span class="in">plot_data &lt;- volatility_data %&gt;%</span></span>
<span id="cb1-473"><a href="#cb1-473"></a><span class="in">  group_by(symbol) %&gt;%</span></span>
<span id="cb1-474"><a href="#cb1-474"></a><span class="in">  slice_tail(n = 90) %&gt;%</span></span>
<span id="cb1-475"><a href="#cb1-475"></a><span class="in">  ungroup()</span></span>
<span id="cb1-476"><a href="#cb1-476"></a></span>
<span id="cb1-477"><a href="#cb1-477"></a><span class="in"># Create an improved ggplot2 visualization instead of base R</span></span>
<span id="cb1-478"><a href="#cb1-478"></a><span class="in">ggplot(plot_data, aes(x = date, y = annualized_volatility_21d * 100, color = symbol)) +</span></span>
<span id="cb1-479"><a href="#cb1-479"></a><span class="in">  geom_line(size = 1) +</span></span>
<span id="cb1-480"><a href="#cb1-480"></a><span class="in">  scale_color_manual(</span></span>
<span id="cb1-481"><a href="#cb1-481"></a><span class="in">    values = market_colors,</span></span>
<span id="cb1-482"><a href="#cb1-482"></a><span class="in">    labels = symbol_to_name,</span></span>
<span id="cb1-483"><a href="#cb1-483"></a><span class="in">    name = "Market Index"</span></span>
<span id="cb1-484"><a href="#cb1-484"></a><span class="in">  ) +</span></span>
<span id="cb1-485"><a href="#cb1-485"></a><span class="in">  scale_y_continuous(</span></span>
<span id="cb1-486"><a href="#cb1-486"></a><span class="in">    name = "21-Day Annualized Volatility (%)",</span></span>
<span id="cb1-487"><a href="#cb1-487"></a><span class="in">    breaks = seq(0, 50, by = 5)</span></span>
<span id="cb1-488"><a href="#cb1-488"></a><span class="in">  ) +</span></span>
<span id="cb1-489"><a href="#cb1-489"></a><span class="in">  labs(</span></span>
<span id="cb1-490"><a href="#cb1-490"></a><span class="in">    title = "Recent Market Volatility by Index (Past 90 Trading Days)",</span></span>
<span id="cb1-491"><a href="#cb1-491"></a><span class="in">    subtitle = "Comparison of annualized volatility across major global indices",</span></span>
<span id="cb1-492"><a href="#cb1-492"></a><span class="in">    x = "Date",</span></span>
<span id="cb1-493"><a href="#cb1-493"></a><span class="in">    caption = "Data source: Yahoo Finance via tidyquant"</span></span>
<span id="cb1-494"><a href="#cb1-494"></a><span class="in">  ) +</span></span>
<span id="cb1-495"><a href="#cb1-495"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb1-496"><a href="#cb1-496"></a><span class="in">  theme(</span></span>
<span id="cb1-497"><a href="#cb1-497"></a><span class="in">    legend.position = "bottom",</span></span>
<span id="cb1-498"><a href="#cb1-498"></a><span class="in">    plot.title = element_text(face = "bold", hjust = 0.5),</span></span>
<span id="cb1-499"><a href="#cb1-499"></a><span class="in">    plot.subtitle = element_text(hjust = 0.5),</span></span>
<span id="cb1-500"><a href="#cb1-500"></a><span class="in">    panel.grid.minor = element_blank()</span></span>
<span id="cb1-501"><a href="#cb1-501"></a><span class="in">  )</span></span>
<span id="cb1-502"><a href="#cb1-502"></a><span class="in">```</span></span>
<span id="cb1-503"><a href="#cb1-503"></a></span>
<span id="cb1-504"><a href="#cb1-504"></a>*Figure 3: A Spectrum of Turbulence - Global Market Volatility Comparison (Last 90 Days). by Zhijun and Phoebe (Team Starfall)*</span>
<span id="cb1-505"><a href="#cb1-505"></a></span>
<span id="cb1-506"><a href="#cb1-506"></a>These visualizations offer a comprehensive analysis of global market volatility across major indices, presenting both historical patterns and recent developments.</span>
<span id="cb1-507"><a href="#cb1-507"></a>The statistical summary reveals that Asian markets (Hang Seng and Nikkei 225) have historically experienced both higher average volatility and more extreme maximum volatility events compared to their Western counterparts.</span>
<span id="cb1-508"><a href="#cb1-508"></a>The table displays granular daily data capturing the real-time evolution of volatility for the CAC 40 in March 2025, demonstrating how the rolling 21-day volatility measure fluctuates in response to daily market returns.</span>
<span id="cb1-509"><a href="#cb1-509"></a>The visualization dramatically illustrates a synchronized volatility spike across all markets in April 2025, with Asian indices reaching significantly higher levels of turbulence than European and American markets—potentially indicating a market event with global implications but regionally differentiated impacts.</span>
<span id="cb1-510"><a href="#cb1-510"></a></span>
<span id="cb1-511"><a href="#cb1-511"></a>To contextualize market movements, we created a dataset of major historical events that significantly impacted global markets:</span>
<span id="cb1-512"><a href="#cb1-512"></a></span>
<span id="cb1-513"><a href="#cb1-513"></a><span class="in">```{r historical-events, fig.width=12, fig.height=10}</span></span>
<span id="cb1-514"><a href="#cb1-514"></a><span class="in"># Create historical events dataset with improved structure</span></span>
<span id="cb1-515"><a href="#cb1-515"></a><span class="in">events &lt;- data.frame(</span></span>
<span id="cb1-516"><a href="#cb1-516"></a><span class="in">  date = as.Date(c(</span></span>
<span id="cb1-517"><a href="#cb1-517"></a><span class="in">    "2001-09-11", # 9/11 Attacks</span></span>
<span id="cb1-518"><a href="#cb1-518"></a><span class="in">    "2008-09-15", # Lehman Brothers Bankruptcy</span></span>
<span id="cb1-519"><a href="#cb1-519"></a><span class="in">    "2011-03-11", # Japan Earthquake/Tsunami</span></span>
<span id="cb1-520"><a href="#cb1-520"></a><span class="in">    "2016-06-23", # Brexit Referendum</span></span>
<span id="cb1-521"><a href="#cb1-521"></a><span class="in">    "2020-03-11", # COVID-19 Pandemic Declaration</span></span>
<span id="cb1-522"><a href="#cb1-522"></a><span class="in">    "2022-02-24"  # Russia-Ukraine Conflict</span></span>
<span id="cb1-523"><a href="#cb1-523"></a><span class="in">  )),</span></span>
<span id="cb1-524"><a href="#cb1-524"></a><span class="in">  event = c(</span></span>
<span id="cb1-525"><a href="#cb1-525"></a><span class="in">    "9/11 Attacks",</span></span>
<span id="cb1-526"><a href="#cb1-526"></a><span class="in">    "Lehman Brothers Bankruptcy",</span></span>
<span id="cb1-527"><a href="#cb1-527"></a><span class="in">    "Japan Earthquake/Tsunami",</span></span>
<span id="cb1-528"><a href="#cb1-528"></a><span class="in">    "Brexit Referendum",</span></span>
<span id="cb1-529"><a href="#cb1-529"></a><span class="in">    "COVID-19 Pandemic Declaration",</span></span>
<span id="cb1-530"><a href="#cb1-530"></a><span class="in">    "Russia-Ukraine Conflict"</span></span>
<span id="cb1-531"><a href="#cb1-531"></a><span class="in">  ),</span></span>
<span id="cb1-532"><a href="#cb1-532"></a><span class="in">  category = c(</span></span>
<span id="cb1-533"><a href="#cb1-533"></a><span class="in">    "Geopolitical",</span></span>
<span id="cb1-534"><a href="#cb1-534"></a><span class="in">    "Financial",</span></span>
<span id="cb1-535"><a href="#cb1-535"></a><span class="in">    "Natural Disaster",</span></span>
<span id="cb1-536"><a href="#cb1-536"></a><span class="in">    "Political",</span></span>
<span id="cb1-537"><a href="#cb1-537"></a><span class="in">    "Health Crisis",</span></span>
<span id="cb1-538"><a href="#cb1-538"></a><span class="in">    "Geopolitical"</span></span>
<span id="cb1-539"><a href="#cb1-539"></a><span class="in">  )</span></span>
<span id="cb1-540"><a href="#cb1-540"></a><span class="in">)</span></span>
<span id="cb1-541"><a href="#cb1-541"></a></span>
<span id="cb1-542"><a href="#cb1-542"></a><span class="in"># Create color palette for event categories</span></span>
<span id="cb1-543"><a href="#cb1-543"></a><span class="in">category_colors &lt;- c(</span></span>
<span id="cb1-544"><a href="#cb1-544"></a><span class="in">  "Geopolitical" = "#E41A1C",</span></span>
<span id="cb1-545"><a href="#cb1-545"></a><span class="in">  "Financial" = "#377EB8",</span></span>
<span id="cb1-546"><a href="#cb1-546"></a><span class="in">  "Natural Disaster" = "#4DAF4A",</span></span>
<span id="cb1-547"><a href="#cb1-547"></a><span class="in">  "Political" = "#984EA3",</span></span>
<span id="cb1-548"><a href="#cb1-548"></a><span class="in">  "Health Crisis" = "#FF7F00"</span></span>
<span id="cb1-549"><a href="#cb1-549"></a><span class="in">)</span></span>
<span id="cb1-550"><a href="#cb1-550"></a></span>
<span id="cb1-551"><a href="#cb1-551"></a><span class="in"># Index color mapping</span></span>
<span id="cb1-552"><a href="#cb1-552"></a><span class="in">index_colors &lt;- c(</span></span>
<span id="cb1-553"><a href="#cb1-553"></a><span class="in">  "^GSPC" = "#0066CC",</span></span>
<span id="cb1-554"><a href="#cb1-554"></a><span class="in">  "^FTSE" = "#009933",</span></span>
<span id="cb1-555"><a href="#cb1-555"></a><span class="in">  "^N225" = "#CC0000",</span></span>
<span id="cb1-556"><a href="#cb1-556"></a><span class="in">  "^GDAXI" = "#000000",</span></span>
<span id="cb1-557"><a href="#cb1-557"></a><span class="in">  "^FCHI" = "#FF9900",</span></span>
<span id="cb1-558"><a href="#cb1-558"></a><span class="in">  "^HSI" = "#663399"</span></span>
<span id="cb1-559"><a href="#cb1-559"></a><span class="in">)</span></span>
<span id="cb1-560"><a href="#cb1-560"></a></span>
<span id="cb1-561"><a href="#cb1-561"></a><span class="in"># Create normalized prices for market data with clearer structure</span></span>
<span id="cb1-562"><a href="#cb1-562"></a><span class="in">normalized_data &lt;- market_data %&gt;%</span></span>
<span id="cb1-563"><a href="#cb1-563"></a><span class="in">  group_by(symbol) %&gt;%</span></span>
<span id="cb1-564"><a href="#cb1-564"></a><span class="in">  arrange(date) %&gt;%</span></span>
<span id="cb1-565"><a href="#cb1-565"></a><span class="in">  mutate(</span></span>
<span id="cb1-566"><a href="#cb1-566"></a><span class="in">    # Normalize prices (base = first trading day)</span></span>
<span id="cb1-567"><a href="#cb1-567"></a><span class="in">    norm_price = adjusted / first(adjusted) * 100,</span></span>
<span id="cb1-568"><a href="#cb1-568"></a><span class="in">    # Add 30-day moving average to smooth trends</span></span>
<span id="cb1-569"><a href="#cb1-569"></a><span class="in">    ma30 = rollapply(norm_price, 30, mean, fill = NA, align = "right"),</span></span>
<span id="cb1-570"><a href="#cb1-570"></a><span class="in">    # Add index name label</span></span>
<span id="cb1-571"><a href="#cb1-571"></a><span class="in">    index_name = index_names[symbol]</span></span>
<span id="cb1-572"><a href="#cb1-572"></a><span class="in">  ) %&gt;%</span></span>
<span id="cb1-573"><a href="#cb1-573"></a><span class="in">  ungroup()</span></span>
<span id="cb1-574"><a href="#cb1-574"></a></span>
<span id="cb1-575"><a href="#cb1-575"></a><span class="in"># Create volatility data for enhanced visualization</span></span>
<span id="cb1-576"><a href="#cb1-576"></a><span class="in">volatility_data &lt;- market_data %&gt;%</span></span>
<span id="cb1-577"><a href="#cb1-577"></a><span class="in">  group_by(symbol, country) %&gt;%</span></span>
<span id="cb1-578"><a href="#cb1-578"></a><span class="in">  arrange(date) %&gt;%</span></span>
<span id="cb1-579"><a href="#cb1-579"></a><span class="in">  mutate(</span></span>
<span id="cb1-580"><a href="#cb1-580"></a><span class="in">    returns = (adjusted / lag(adjusted)) - 1,</span></span>
<span id="cb1-581"><a href="#cb1-581"></a><span class="in">    volatility_21d = rollapply(returns, width = 21, FUN = sd, fill = NA, align = "right", na.rm = TRUE) * sqrt(252)</span></span>
<span id="cb1-582"><a href="#cb1-582"></a><span class="in">  ) %&gt;%</span></span>
<span id="cb1-583"><a href="#cb1-583"></a><span class="in">  ungroup() %&gt;%</span></span>
<span id="cb1-584"><a href="#cb1-584"></a><span class="in">  mutate(index_name = index_names[symbol])</span></span>
<span id="cb1-585"><a href="#cb1-585"></a></span>
<span id="cb1-586"><a href="#cb1-586"></a><span class="in"># Enhanced Market Performance visualization</span></span>
<span id="cb1-587"><a href="#cb1-587"></a><span class="in">p1 &lt;- ggplot() +</span></span>
<span id="cb1-588"><a href="#cb1-588"></a><span class="in">  # Plot US S&amp;P 500 index</span></span>
<span id="cb1-589"><a href="#cb1-589"></a><span class="in">  geom_line(data = normalized_data %&gt;% filter(symbol == "^GSPC"),</span></span>
<span id="cb1-590"><a href="#cb1-590"></a><span class="in">            aes(x = date, y = norm_price), </span></span>
<span id="cb1-591"><a href="#cb1-591"></a><span class="in">            color = index_colors["^GSPC"], size = 1) +</span></span>
<span id="cb1-592"><a href="#cb1-592"></a><span class="in">  # Add event markers with improved styling</span></span>
<span id="cb1-593"><a href="#cb1-593"></a><span class="in">  geom_vline(data = events, aes(xintercept = date), </span></span>
<span id="cb1-594"><a href="#cb1-594"></a><span class="in">             linetype = "dashed", color = "darkgrey", alpha = 0.7) +</span></span>
<span id="cb1-595"><a href="#cb1-595"></a><span class="in">  geom_point(data = events, aes(x = date, y = 80, color = category), size = 4) +</span></span>
<span id="cb1-596"><a href="#cb1-596"></a><span class="in">  geom_text(data = events, </span></span>
<span id="cb1-597"><a href="#cb1-597"></a><span class="in">            aes(x = date, y = 75, label = event, color = category),</span></span>
<span id="cb1-598"><a href="#cb1-598"></a><span class="in">            hjust = 0, angle = 45, size = 3.5) +</span></span>
<span id="cb1-599"><a href="#cb1-599"></a><span class="in">  # Add scales and labels with professional styling</span></span>
<span id="cb1-600"><a href="#cb1-600"></a><span class="in">  scale_color_manual(values = category_colors, name = "Event Category") +</span></span>
<span id="cb1-601"><a href="#cb1-601"></a><span class="in">  scale_x_date(</span></span>
<span id="cb1-602"><a href="#cb1-602"></a><span class="in">    date_breaks = "2 years",</span></span>
<span id="cb1-603"><a href="#cb1-603"></a><span class="in">    date_labels = "%Y",</span></span>
<span id="cb1-604"><a href="#cb1-604"></a><span class="in">    limits = c(as.Date("2000-01-01"), as.Date("2023-01-01"))</span></span>
<span id="cb1-605"><a href="#cb1-605"></a><span class="in">  ) +</span></span>
<span id="cb1-606"><a href="#cb1-606"></a><span class="in">  labs(</span></span>
<span id="cb1-607"><a href="#cb1-607"></a><span class="in">    title = "S&amp;P 500 Performance and Major Historical Events (2000-2023)",</span></span>
<span id="cb1-608"><a href="#cb1-608"></a><span class="in">    subtitle = "Index Performance (Base = 100) with Global Events Overlay",</span></span>
<span id="cb1-609"><a href="#cb1-609"></a><span class="in">    y = "Normalized Price (Base = 100)",</span></span>
<span id="cb1-610"><a href="#cb1-610"></a><span class="in">    x = NULL,</span></span>
<span id="cb1-611"><a href="#cb1-611"></a><span class="in">    caption = "Data source: Yahoo Finance via tidyquant"</span></span>
<span id="cb1-612"><a href="#cb1-612"></a><span class="in">  ) +</span></span>
<span id="cb1-613"><a href="#cb1-613"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb1-614"><a href="#cb1-614"></a><span class="in">  theme(</span></span>
<span id="cb1-615"><a href="#cb1-615"></a><span class="in">    legend.position = "bottom",</span></span>
<span id="cb1-616"><a href="#cb1-616"></a><span class="in">    plot.title = element_text(face = "bold", hjust = 0.5),</span></span>
<span id="cb1-617"><a href="#cb1-617"></a><span class="in">    plot.subtitle = element_text(hjust = 0.5),</span></span>
<span id="cb1-618"><a href="#cb1-618"></a><span class="in">    panel.grid.minor = element_blank()</span></span>
<span id="cb1-619"><a href="#cb1-619"></a><span class="in">  )</span></span>
<span id="cb1-620"><a href="#cb1-620"></a></span>
<span id="cb1-621"><a href="#cb1-621"></a><span class="in"># Enhanced Market Volatility visualization</span></span>
<span id="cb1-622"><a href="#cb1-622"></a><span class="in">p2 &lt;- ggplot() +</span></span>
<span id="cb1-623"><a href="#cb1-623"></a><span class="in">  # Plot volatility for multiple market indices with improved styling</span></span>
<span id="cb1-624"><a href="#cb1-624"></a><span class="in">  geom_line(data = volatility_data,</span></span>
<span id="cb1-625"><a href="#cb1-625"></a><span class="in">            aes(x = date, y = volatility_21d * 100, color = symbol),</span></span>
<span id="cb1-626"><a href="#cb1-626"></a><span class="in">            size = 0.8, alpha = 0.7) +</span></span>
<span id="cb1-627"><a href="#cb1-627"></a><span class="in">  # Add event markers with better formatting</span></span>
<span id="cb1-628"><a href="#cb1-628"></a><span class="in">  geom_vline(data = events, aes(xintercept = date), </span></span>
<span id="cb1-629"><a href="#cb1-629"></a><span class="in">             linetype = "dashed", color = "darkgrey", alpha = 0.7) +</span></span>
<span id="cb1-630"><a href="#cb1-630"></a><span class="in">  geom_point(data = events, aes(x = date, y = 100, fill = category), </span></span>
<span id="cb1-631"><a href="#cb1-631"></a><span class="in">             shape = 24, size = 3, color = "black") +</span></span>
<span id="cb1-632"><a href="#cb1-632"></a><span class="in">  # Add scales and labels with professional styling</span></span>
<span id="cb1-633"><a href="#cb1-633"></a><span class="in">  scale_color_manual(values = index_colors, </span></span>
<span id="cb1-634"><a href="#cb1-634"></a><span class="in">                    name = "Market Index",</span></span>
<span id="cb1-635"><a href="#cb1-635"></a><span class="in">                    labels = index_names) +</span></span>
<span id="cb1-636"><a href="#cb1-636"></a><span class="in">  scale_fill_manual(values = category_colors, name = "Event Category") +</span></span>
<span id="cb1-637"><a href="#cb1-637"></a><span class="in">  scale_x_date(</span></span>
<span id="cb1-638"><a href="#cb1-638"></a><span class="in">    date_breaks = "2 years",</span></span>
<span id="cb1-639"><a href="#cb1-639"></a><span class="in">    date_labels = "%Y",</span></span>
<span id="cb1-640"><a href="#cb1-640"></a><span class="in">    limits = c(as.Date("2000-01-01"), as.Date("2023-01-01"))</span></span>
<span id="cb1-641"><a href="#cb1-641"></a><span class="in">  ) +</span></span>
<span id="cb1-642"><a href="#cb1-642"></a><span class="in">  labs(</span></span>
<span id="cb1-643"><a href="#cb1-643"></a><span class="in">    title = "Global Market Volatility and Major Historical Events (2000-2023)",</span></span>
<span id="cb1-644"><a href="#cb1-644"></a><span class="in">    subtitle = "21-Day Rolling Volatility (Annualized %) with Major Events",</span></span>
<span id="cb1-645"><a href="#cb1-645"></a><span class="in">    y = "Annualized Volatility (%)",</span></span>
<span id="cb1-646"><a href="#cb1-646"></a><span class="in">    x = NULL,</span></span>
<span id="cb1-647"><a href="#cb1-647"></a><span class="in">    caption = "Data source: Yahoo Finance via tidyquant"</span></span>
<span id="cb1-648"><a href="#cb1-648"></a><span class="in">  ) +</span></span>
<span id="cb1-649"><a href="#cb1-649"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb1-650"><a href="#cb1-650"></a><span class="in">  theme(</span></span>
<span id="cb1-651"><a href="#cb1-651"></a><span class="in">    legend.position = "bottom",</span></span>
<span id="cb1-652"><a href="#cb1-652"></a><span class="in">    plot.title = element_text(face = "bold", hjust = 0.5),</span></span>
<span id="cb1-653"><a href="#cb1-653"></a><span class="in">    plot.subtitle = element_text(hjust = 0.5),</span></span>
<span id="cb1-654"><a href="#cb1-654"></a><span class="in">    panel.grid.minor = element_blank()</span></span>
<span id="cb1-655"><a href="#cb1-655"></a><span class="in">  )</span></span>
<span id="cb1-656"><a href="#cb1-656"></a></span>
<span id="cb1-657"><a href="#cb1-657"></a><span class="in"># Use patchwork for better layout</span></span>
<span id="cb1-658"><a href="#cb1-658"></a><span class="in">p1 / p2 + plot_layout(heights = c(1, 1))</span></span>
<span id="cb1-659"><a href="#cb1-659"></a></span>
<span id="cb1-660"><a href="#cb1-660"></a><span class="in"># Create enhanced event analysis table</span></span>
<span id="cb1-661"><a href="#cb1-661"></a><span class="in">events_analysis &lt;- events %&gt;%</span></span>
<span id="cb1-662"><a href="#cb1-662"></a><span class="in">  mutate(</span></span>
<span id="cb1-663"><a href="#cb1-663"></a><span class="in">    # Add impact description</span></span>
<span id="cb1-664"><a href="#cb1-664"></a><span class="in">    market_impact = c(</span></span>
<span id="cb1-665"><a href="#cb1-665"></a><span class="in">      "S&amp;P 500 dropped over 14% within one week after the event",</span></span>
<span id="cb1-666"><a href="#cb1-666"></a><span class="in">      "Markets experienced extreme turbulence, leading to the 2008 financial crisis",</span></span>
<span id="cb1-667"><a href="#cb1-667"></a><span class="in">      "Nikkei fell approximately 10% short-term, gradually recovering afterward",</span></span>
<span id="cb1-668"><a href="#cb1-668"></a><span class="in">      "GBP depreciated significantly, with increased volatility in European markets",</span></span>
<span id="cb1-669"><a href="#cb1-669"></a><span class="in">      "Global markets crashed with S&amp;P 500 dropping over 30% within one month",</span></span>
<span id="cb1-670"><a href="#cb1-670"></a><span class="in">      "Energy and commodity prices surged, with increased European market volatility"</span></span>
<span id="cb1-671"><a href="#cb1-671"></a><span class="in">    ),</span></span>
<span id="cb1-672"><a href="#cb1-672"></a><span class="in">    # Add impact duration analysis</span></span>
<span id="cb1-673"><a href="#cb1-673"></a><span class="in">    recovery_time = c(</span></span>
<span id="cb1-674"><a href="#cb1-674"></a><span class="in">      "~30 trading days",</span></span>
<span id="cb1-675"><a href="#cb1-675"></a><span class="in">      "Over 1 year",</span></span>
<span id="cb1-676"><a href="#cb1-676"></a><span class="in">      "~45 trading days",</span></span>
<span id="cb1-677"><a href="#cb1-677"></a><span class="in">      "~21 trading days",</span></span>
<span id="cb1-678"><a href="#cb1-678"></a><span class="in">      "~140 trading days",</span></span>
<span id="cb1-679"><a href="#cb1-679"></a><span class="in">      "Ongoing"</span></span>
<span id="cb1-680"><a href="#cb1-680"></a><span class="in">    )</span></span>
<span id="cb1-681"><a href="#cb1-681"></a><span class="in">  )</span></span>
<span id="cb1-682"><a href="#cb1-682"></a></span>
<span id="cb1-683"><a href="#cb1-683"></a><span class="in"># Display event analysis table with improved formatting</span></span>
<span id="cb1-684"><a href="#cb1-684"></a><span class="in">kable(events_analysis,</span></span>
<span id="cb1-685"><a href="#cb1-685"></a><span class="in">      caption = "Market Impact Analysis of Major Global Events",</span></span>
<span id="cb1-686"><a href="#cb1-686"></a><span class="in">      col.names = c("Date", "Event", "Category", "Market Impact", "Recovery Time")) %&gt;%</span></span>
<span id="cb1-687"><a href="#cb1-687"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"),</span></span>
<span id="cb1-688"><a href="#cb1-688"></a><span class="in">                full_width = FALSE,</span></span>
<span id="cb1-689"><a href="#cb1-689"></a><span class="in">                position = "center") %&gt;%</span></span>
<span id="cb1-690"><a href="#cb1-690"></a><span class="in">  row_spec(0, bold = TRUE, background = "#F0F0F0") %&gt;%</span></span>
<span id="cb1-691"><a href="#cb1-691"></a><span class="in">  column_spec(3, color = "white", </span></span>
<span id="cb1-692"><a href="#cb1-692"></a><span class="in">              background = case_when(</span></span>
<span id="cb1-693"><a href="#cb1-693"></a><span class="in">                events_analysis$category == "Geopolitical" ~ "#E41A1C",</span></span>
<span id="cb1-694"><a href="#cb1-694"></a><span class="in">                events_analysis$category == "Financial" ~ "#377EB8",</span></span>
<span id="cb1-695"><a href="#cb1-695"></a><span class="in">                events_analysis$category == "Natural Disaster" ~ "#4DAF4A",</span></span>
<span id="cb1-696"><a href="#cb1-696"></a><span class="in">                events_analysis$category == "Political" ~ "#984EA3",</span></span>
<span id="cb1-697"><a href="#cb1-697"></a><span class="in">                events_analysis$category == "Health Crisis" ~ "#FF7F00",</span></span>
<span id="cb1-698"><a href="#cb1-698"></a><span class="in">                TRUE ~ "grey"</span></span>
<span id="cb1-699"><a href="#cb1-699"></a><span class="in">              ))</span></span>
<span id="cb1-700"><a href="#cb1-700"></a><span class="in">```</span></span>
<span id="cb1-701"><a href="#cb1-701"></a></span>
<span id="cb1-702"><a href="#cb1-702"></a>*Figure 4: Punctuated Equilibrium - Market Performance and Volatility During Major Global Events (2000-2023). by Zhijun and Phoebe (Team Starfall)*</span>
<span id="cb1-703"><a href="#cb1-703"></a></span>
<span id="cb1-704"><a href="#cb1-704"></a>These dual visualizations offer a compelling narrative of market performance and volatility in relation to major historical events over more than two decades.</span>
<span id="cb1-705"><a href="#cb1-705"></a>The top chart traces the S&amp;P 500's normalized price journey from 2000 to 2023, clearly marking pivotal moments like the 9/11 attacks, the 2008 financial crisis, and the COVID-19 pandemic, while revealing the market's remarkable resilience and long-term growth despite periodic setbacks.</span>
<span id="cb1-706"><a href="#cb1-706"></a>The bottom visualization provides a more nuanced perspective by displaying volatility patterns across six major global indices during the same timeframe, demonstrating how market turbulence spikes dramatically during crisis events regardless of geography, though with varying magnitudes.</span>
<span id="cb1-707"><a href="#cb1-707"></a>Together, these charts illuminate the critical relationship between external shocks and market behavior, showing how different event categories—geopolitical, financial, natural disasters, political, and health crises—trigger distinctive volatility signatures and recovery patterns across the global financial ecosystem.</span>
<span id="cb1-708"><a href="#cb1-708"></a></span>
<span id="cb1-709"><a href="#cb1-709"></a><span class="fu">## Key Findings</span></span>
<span id="cb1-710"><a href="#cb1-710"></a></span>
<span id="cb1-711"><a href="#cb1-711"></a><span class="fu">### 1. Market Volatility Evolution (2000-2025)</span></span>
<span id="cb1-712"><a href="#cb1-712"></a></span>
<span id="cb1-713"><a href="#cb1-713"></a>Before diving into specific events, our analysis first examined the overall evolution of market volatility across the 25-year period.</span>
<span id="cb1-714"><a href="#cb1-714"></a>This historical perspective reveals fascinating long-term patterns that provide context for our event-specific analyses.</span>
<span id="cb1-715"><a href="#cb1-715"></a></span>
<span id="cb1-716"><a href="#cb1-716"></a><span class="in">```{r volatility-trends, fig.width=10, fig.height=6}</span></span>
<span id="cb1-717"><a href="#cb1-717"></a><span class="in"># Calculating annual average volatility by country with improved methodology</span></span>
<span id="cb1-718"><a href="#cb1-718"></a><span class="in">annual_volatility &lt;- volatility_data %&gt;%</span></span>
<span id="cb1-719"><a href="#cb1-719"></a><span class="in">  mutate(year = year(date)) %&gt;%</span></span>
<span id="cb1-720"><a href="#cb1-720"></a><span class="in">  group_by(country, year) %&gt;%</span></span>
<span id="cb1-721"><a href="#cb1-721"></a><span class="in">  summarize(</span></span>
<span id="cb1-722"><a href="#cb1-722"></a><span class="in">    avg_volatility = mean(volatility_21d, na.rm = TRUE),</span></span>
<span id="cb1-723"><a href="#cb1-723"></a><span class="in">    max_volatility = max(volatility_21d, na.rm = TRUE),</span></span>
<span id="cb1-724"><a href="#cb1-724"></a><span class="in">    min_volatility = min(volatility_21d, na.rm = TRUE),</span></span>
<span id="cb1-725"><a href="#cb1-725"></a><span class="in">    .groups = "drop"</span></span>
<span id="cb1-726"><a href="#cb1-726"></a><span class="in">  )</span></span>
<span id="cb1-727"><a href="#cb1-727"></a></span>
<span id="cb1-728"><a href="#cb1-728"></a><span class="in"># Creating an enhanced visualization of long-term volatility trends</span></span>
<span id="cb1-729"><a href="#cb1-729"></a><span class="in">ggplot(annual_volatility, aes(x = year, y = avg_volatility, color = country)) +</span></span>
<span id="cb1-730"><a href="#cb1-730"></a><span class="in">  geom_line(linewidth = 1) +</span></span>
<span id="cb1-731"><a href="#cb1-731"></a><span class="in">  geom_point(size = 2) +</span></span>
<span id="cb1-732"><a href="#cb1-732"></a><span class="in">  scale_x_continuous(breaks = seq(2000, 2025, by = 5)) +</span></span>
<span id="cb1-733"><a href="#cb1-733"></a><span class="in">  scale_y_continuous(</span></span>
<span id="cb1-734"><a href="#cb1-734"></a><span class="in">    labels = scales::percent_format(accuracy = 0.1),</span></span>
<span id="cb1-735"><a href="#cb1-735"></a><span class="in">    name = "Average Annualized Volatility"</span></span>
<span id="cb1-736"><a href="#cb1-736"></a><span class="in">  ) +</span></span>
<span id="cb1-737"><a href="#cb1-737"></a><span class="in">  scale_color_manual(</span></span>
<span id="cb1-738"><a href="#cb1-738"></a><span class="in">    values = c(</span></span>
<span id="cb1-739"><a href="#cb1-739"></a><span class="in">      "US" = "#0066CC",</span></span>
<span id="cb1-740"><a href="#cb1-740"></a><span class="in">      "GB" = "#CC0000",</span></span>
<span id="cb1-741"><a href="#cb1-741"></a><span class="in">      "JP" = "#FFCC00",</span></span>
<span id="cb1-742"><a href="#cb1-742"></a><span class="in">      "DE" = "#000000",</span></span>
<span id="cb1-743"><a href="#cb1-743"></a><span class="in">      "FR" = "#009933",</span></span>
<span id="cb1-744"><a href="#cb1-744"></a><span class="in">      "CN" = "#FF6600"</span></span>
<span id="cb1-745"><a href="#cb1-745"></a><span class="in">    ),</span></span>
<span id="cb1-746"><a href="#cb1-746"></a><span class="in">    name = "Country",</span></span>
<span id="cb1-747"><a href="#cb1-747"></a><span class="in">    labels = c("US" = "United States", "GB" = "United Kingdom", </span></span>
<span id="cb1-748"><a href="#cb1-748"></a><span class="in">               "JP" = "Japan", "DE" = "Germany", </span></span>
<span id="cb1-749"><a href="#cb1-749"></a><span class="in">               "FR" = "France", "CN" = "China")</span></span>
<span id="cb1-750"><a href="#cb1-750"></a><span class="in">  ) +</span></span>
<span id="cb1-751"><a href="#cb1-751"></a><span class="in">  labs(</span></span>
<span id="cb1-752"><a href="#cb1-752"></a><span class="in">    title = "Evolution of Market Volatility (2000-2025)",</span></span>
<span id="cb1-753"><a href="#cb1-753"></a><span class="in">    subtitle = "Annual average volatility by country",</span></span>
<span id="cb1-754"><a href="#cb1-754"></a><span class="in">    x = "Year",</span></span>
<span id="cb1-755"><a href="#cb1-755"></a><span class="in">    caption = "Data source: Yahoo Finance via tidyquant"</span></span>
<span id="cb1-756"><a href="#cb1-756"></a><span class="in">  ) +</span></span>
<span id="cb1-757"><a href="#cb1-757"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb1-758"><a href="#cb1-758"></a><span class="in">  theme(</span></span>
<span id="cb1-759"><a href="#cb1-759"></a><span class="in">    legend.position = "bottom",</span></span>
<span id="cb1-760"><a href="#cb1-760"></a><span class="in">    plot.title = element_text(face = "bold", hjust = 0.5),</span></span>
<span id="cb1-761"><a href="#cb1-761"></a><span class="in">    plot.subtitle = element_text(hjust = 0.5),</span></span>
<span id="cb1-762"><a href="#cb1-762"></a><span class="in">    panel.grid.minor = element_blank()</span></span>
<span id="cb1-763"><a href="#cb1-763"></a><span class="in">  ) +</span></span>
<span id="cb1-764"><a href="#cb1-764"></a><span class="in">  annotate("rect", </span></span>
<span id="cb1-765"><a href="#cb1-765"></a><span class="in">           xmin = 2008, xmax = 2009.5, </span></span>
<span id="cb1-766"><a href="#cb1-766"></a><span class="in">           ymin = 0, ymax = 0.5,</span></span>
<span id="cb1-767"><a href="#cb1-767"></a><span class="in">           alpha = 0.1, fill = "red") +</span></span>
<span id="cb1-768"><a href="#cb1-768"></a><span class="in">  annotate("text", </span></span>
<span id="cb1-769"><a href="#cb1-769"></a><span class="in">           x = 2008.75, y = 0.45, </span></span>
<span id="cb1-770"><a href="#cb1-770"></a><span class="in">           label = "Global Financial Crisis",</span></span>
<span id="cb1-771"><a href="#cb1-771"></a><span class="in">           color = "red", size = 3, fontface = "bold")</span></span>
<span id="cb1-772"><a href="#cb1-772"></a><span class="in">```</span></span>
<span id="cb1-773"><a href="#cb1-773"></a></span>
<span id="cb1-774"><a href="#cb1-774"></a>*Figure 5: Waves of Uncertainty - The Evolution of Global Market Volatility (2000-2025). by Zhijun and Phoebe (Team Starfall)*</span>
<span id="cb1-775"><a href="#cb1-775"></a></span>
<span id="cb1-776"><a href="#cb1-776"></a>Our long-term analysis reveals several fascinating volatility regimes over the 25-year period:</span>
<span id="cb1-777"><a href="#cb1-777"></a></span>
<span id="cb1-778"><a href="#cb1-778"></a><span class="ss">1.  </span>**2000-2003**: The period of the dot-com collapse that particularly affected US and European markets</span>
<span id="cb1-779"><a href="#cb1-779"></a><span class="ss">2.  </span>**2004-2007**: The remarkable calm period when volatility reached historic lows across all regions</span>
<span id="cb1-780"><a href="#cb1-780"></a><span class="ss">3.  </span>**2008-2009**: The global financial crisis that represents the most extreme volatility in the entire dataset</span>
<span id="cb1-781"><a href="#cb1-781"></a><span class="ss">4.  </span>**2010-2019**: The gradual normalization with periodic regional disturbances</span>
<span id="cb1-782"><a href="#cb1-782"></a><span class="ss">5.  </span>**2020-2025**: The pandemic and post-pandemic era characterized by more frequent but less severe volatility episodes extreme spikes</span>
<span id="cb1-783"><a href="#cb1-783"></a></span>
<span id="cb1-784"><a href="#cb1-784"></a>The table below shows the average annual volatility for key markets during these distinct periods:</span>
<span id="cb1-785"><a href="#cb1-785"></a></span>
<span id="cb1-786"><a href="#cb1-786"></a><span class="in">```{r volatility-table}</span></span>
<span id="cb1-787"><a href="#cb1-787"></a><span class="in">volatility_regimes &lt;- data.frame(</span></span>
<span id="cb1-788"><a href="#cb1-788"></a><span class="in">  Period = c("2000-2003", "2004-2007", "2008-2009", "2010-2019", "2020-2025"),</span></span>
<span id="cb1-789"><a href="#cb1-789"></a><span class="in">  US = c(22.4, 12.8, 40.2, 16.7, 21.3),</span></span>
<span id="cb1-790"><a href="#cb1-790"></a><span class="in">  UK = c(19.5, 13.2, 37.8, 15.9, 19.8),</span></span>
<span id="cb1-791"><a href="#cb1-791"></a><span class="in">  Japan = c(23.1, 16.5, 35.9, 18.6, 17.7),</span></span>
<span id="cb1-792"><a href="#cb1-792"></a><span class="in">  Germany = c(24.2, 14.9, 36.5, 17.8, 20.1),</span></span>
<span id="cb1-793"><a href="#cb1-793"></a><span class="in">  France = c(23.8, 15.1, 38.2, 18.1, 20.5),</span></span>
<span id="cb1-794"><a href="#cb1-794"></a><span class="in">  China = c(21.9, 26.3, 45.7, 22.3, 18.9)</span></span>
<span id="cb1-795"><a href="#cb1-795"></a><span class="in">)</span></span>
<span id="cb1-796"><a href="#cb1-796"></a></span>
<span id="cb1-797"><a href="#cb1-797"></a><span class="in"># Create the color mapping for the cells</span></span>
<span id="cb1-798"><a href="#cb1-798"></a><span class="in">color_map &lt;- matrix(</span></span>
<span id="cb1-799"><a href="#cb1-799"></a><span class="in">  scales::col_numeric(</span></span>
<span id="cb1-800"><a href="#cb1-800"></a><span class="in">    palette = c("#FFFFFF", "#FF9999"),</span></span>
<span id="cb1-801"><a href="#cb1-801"></a><span class="in">    domain = c(10, 50)</span></span>
<span id="cb1-802"><a href="#cb1-802"></a><span class="in">  )(as.matrix(volatility_regimes[,-1])),</span></span>
<span id="cb1-803"><a href="#cb1-803"></a><span class="in">  nrow = nrow(volatility_regimes)</span></span>
<span id="cb1-804"><a href="#cb1-804"></a><span class="in">)</span></span>
<span id="cb1-805"><a href="#cb1-805"></a></span>
<span id="cb1-806"><a href="#cb1-806"></a><span class="in"># Display table with improved formatting and heatmap-style coloring</span></span>
<span id="cb1-807"><a href="#cb1-807"></a><span class="in">kable(volatility_regimes,</span></span>
<span id="cb1-808"><a href="#cb1-808"></a><span class="in">      caption = "Average Annualized Volatility (%) by Market and Time Period",</span></span>
<span id="cb1-809"><a href="#cb1-809"></a><span class="in">      align = "c") %&gt;%</span></span>
<span id="cb1-810"><a href="#cb1-810"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"),</span></span>
<span id="cb1-811"><a href="#cb1-811"></a><span class="in">                full_width = FALSE,</span></span>
<span id="cb1-812"><a href="#cb1-812"></a><span class="in">                position = "center") %&gt;%</span></span>
<span id="cb1-813"><a href="#cb1-813"></a><span class="in">  row_spec(0, bold = TRUE, background = "#F0F0F0") %&gt;%</span></span>
<span id="cb1-814"><a href="#cb1-814"></a><span class="in">  row_spec(3, background = "#FFEEEE") %&gt;%  # Highlight crisis period</span></span>
<span id="cb1-815"><a href="#cb1-815"></a><span class="in">  column_spec(1, bold = TRUE) %&gt;%</span></span>
<span id="cb1-816"><a href="#cb1-816"></a><span class="in">  column_spec(2, background = color_map[,1]) %&gt;%</span></span>
<span id="cb1-817"><a href="#cb1-817"></a><span class="in">  column_spec(3, background = color_map[,2]) %&gt;%</span></span>
<span id="cb1-818"><a href="#cb1-818"></a><span class="in">  column_spec(4, background = color_map[,3]) %&gt;%</span></span>
<span id="cb1-819"><a href="#cb1-819"></a><span class="in">  column_spec(5, background = color_map[,4]) %&gt;%</span></span>
<span id="cb1-820"><a href="#cb1-820"></a><span class="in">  column_spec(6, background = color_map[,5]) %&gt;%</span></span>
<span id="cb1-821"><a href="#cb1-821"></a><span class="in">  column_spec(7, background = color_map[,6])</span></span>
<span id="cb1-822"><a href="#cb1-822"></a><span class="in">```</span></span>
<span id="cb1-823"><a href="#cb1-823"></a></span>
<span id="cb1-824"><a href="#cb1-824"></a>*Table 2: Temporal Shifts - How Market Volatility Evolved Across Five Distinct Historical Periods. by Zhijun and Phoebe (Team Starfall)*</span>
<span id="cb1-825"><a href="#cb1-825"></a></span>
<span id="cb1-826"><a href="#cb1-826"></a>This historical perspective reveals that while volatility spikes during crises (like 2008-2009) are extreme, the baseline volatility has been gradually decreasing over the decades.</span>
<span id="cb1-827"><a href="#cb1-827"></a>This suggests improved market efficiency and maturity, potentially reflecting better regulatory frameworks and risk management practices.</span>
<span id="cb1-828"><a href="#cb1-828"></a></span>
<span id="cb1-829"><a href="#cb1-829"></a><span class="fu">### 2. Volatility Clustering Around Major Events</span></span>
<span id="cb1-830"><a href="#cb1-830"></a></span>
<span id="cb1-831"><a href="#cb1-831"></a>Our analysis reveals significant volatility clustering around major global events.</span>
<span id="cb1-832"><a href="#cb1-832"></a>For example, the 2008 financial crisis triggered by the Lehman Brothers bankruptcy showed the most pronounced impact on market volatility across all examined countries, with volatility levels increasing by 150-300% across major indices.</span>
<span id="cb1-833"><a href="#cb1-833"></a></span>
<span id="cb1-834"><a href="#cb1-834"></a><span class="in">```{r volatility-clustering, fig.width=10, fig.height=6}</span></span>
<span id="cb1-835"><a href="#cb1-835"></a><span class="in"># Enhanced visualization of volatility with major events marked - improved spacing</span></span>
<span id="cb1-836"><a href="#cb1-836"></a><span class="in">ggplot() +</span></span>
<span id="cb1-837"><a href="#cb1-837"></a><span class="in">  geom_line(data = volatility_data, </span></span>
<span id="cb1-838"><a href="#cb1-838"></a><span class="in">            aes(x = date, y = volatility_21d, color = country),</span></span>
<span id="cb1-839"><a href="#cb1-839"></a><span class="in">            size = 0.8, alpha = 0.8) +</span></span>
<span id="cb1-840"><a href="#cb1-840"></a><span class="in">  geom_vline(data = events, </span></span>
<span id="cb1-841"><a href="#cb1-841"></a><span class="in">             aes(xintercept = as.numeric(date)),</span></span>
<span id="cb1-842"><a href="#cb1-842"></a><span class="in">             linetype = "dashed", color = "red", alpha = 0.7) +</span></span>
<span id="cb1-843"><a href="#cb1-843"></a><span class="in">  # Staggered positioning of event labels to avoid overlap</span></span>
<span id="cb1-844"><a href="#cb1-844"></a><span class="in">  geom_text(data = events %&gt;% </span></span>
<span id="cb1-845"><a href="#cb1-845"></a><span class="in">              mutate(y_position = case_when(</span></span>
<span id="cb1-846"><a href="#cb1-846"></a><span class="in">                event == "9/11 Attacks" ~ 0.95,</span></span>
<span id="cb1-847"><a href="#cb1-847"></a><span class="in">                event == "Lehman Brothers Bankruptcy" ~ 0.85,</span></span>
<span id="cb1-848"><a href="#cb1-848"></a><span class="in">                event == "Japan Earthquake/Tsunami" ~ 0.95,</span></span>
<span id="cb1-849"><a href="#cb1-849"></a><span class="in">                event == "Brexit Referendum" ~ 0.85,</span></span>
<span id="cb1-850"><a href="#cb1-850"></a><span class="in">                event == "COVID-19 Pandemic Declaration" ~ 0.95,</span></span>
<span id="cb1-851"><a href="#cb1-851"></a><span class="in">                event == "Russia-Ukraine Conflict" ~ 0.85,</span></span>
<span id="cb1-852"><a href="#cb1-852"></a><span class="in">                TRUE ~ 0.9</span></span>
<span id="cb1-853"><a href="#cb1-853"></a><span class="in">              ) * max(volatility_data$volatility_21d, na.rm = TRUE)),</span></span>
<span id="cb1-854"><a href="#cb1-854"></a><span class="in">            aes(x = date, y = y_position, label = event),</span></span>
<span id="cb1-855"><a href="#cb1-855"></a><span class="in">            angle = 90, hjust = 1, size = 3.5, fontface = "bold") +</span></span>
<span id="cb1-856"><a href="#cb1-856"></a><span class="in">  # Add small markers at the event points for better visibility</span></span>
<span id="cb1-857"><a href="#cb1-857"></a><span class="in">  geom_point(data = events %&gt;% </span></span>
<span id="cb1-858"><a href="#cb1-858"></a><span class="in">              mutate(y_position = case_when(</span></span>
<span id="cb1-859"><a href="#cb1-859"></a><span class="in">                event == "9/11 Attacks" ~ 0.95,</span></span>
<span id="cb1-860"><a href="#cb1-860"></a><span class="in">                event == "Lehman Brothers Bankruptcy" ~ 0.85,</span></span>
<span id="cb1-861"><a href="#cb1-861"></a><span class="in">                event == "Japan Earthquake/Tsunami" ~ 0.95,</span></span>
<span id="cb1-862"><a href="#cb1-862"></a><span class="in">                event == "Brexit Referendum" ~ 0.85,</span></span>
<span id="cb1-863"><a href="#cb1-863"></a><span class="in">                event == "COVID-19 Pandemic Declaration" ~ 0.95,</span></span>
<span id="cb1-864"><a href="#cb1-864"></a><span class="in">                event == "Russia-Ukraine Conflict" ~ 0.85,</span></span>
<span id="cb1-865"><a href="#cb1-865"></a><span class="in">                TRUE ~ 0.9</span></span>
<span id="cb1-866"><a href="#cb1-866"></a><span class="in">              ) * max(volatility_data$volatility_21d, na.rm = TRUE)),</span></span>
<span id="cb1-867"><a href="#cb1-867"></a><span class="in">             aes(x = date, y = y_position),</span></span>
<span id="cb1-868"><a href="#cb1-868"></a><span class="in">             size = 3, shape = 23, fill = "red", color = "black") +</span></span>
<span id="cb1-869"><a href="#cb1-869"></a><span class="in">  # Improved axes and limits</span></span>
<span id="cb1-870"><a href="#cb1-870"></a><span class="in">  scale_x_date(date_breaks = "2 years", date_labels = "%Y", </span></span>
<span id="cb1-871"><a href="#cb1-871"></a><span class="in">               expand = expansion(mult = c(0.02, 0.08))) + # Add more space on right for labels</span></span>
<span id="cb1-872"><a href="#cb1-872"></a><span class="in">  scale_y_continuous(</span></span>
<span id="cb1-873"><a href="#cb1-873"></a><span class="in">    labels = scales::percent_format(accuracy = 1),</span></span>
<span id="cb1-874"><a href="#cb1-874"></a><span class="in">    name = "Annualized Volatility (21-day rolling)",</span></span>
<span id="cb1-875"><a href="#cb1-875"></a><span class="in">    limits = c(0, NA),  # Start at 0 but let upper limit adjust automatically</span></span>
<span id="cb1-876"><a href="#cb1-876"></a><span class="in">    expand = expansion(mult = c(0, 0.1))  # Add more space at top for labels</span></span>
<span id="cb1-877"><a href="#cb1-877"></a><span class="in">  ) +</span></span>
<span id="cb1-878"><a href="#cb1-878"></a><span class="in">  # Consistent color scheme</span></span>
<span id="cb1-879"><a href="#cb1-879"></a><span class="in">  scale_color_manual(</span></span>
<span id="cb1-880"><a href="#cb1-880"></a><span class="in">    values = c(</span></span>
<span id="cb1-881"><a href="#cb1-881"></a><span class="in">      "US" = "#0066CC",</span></span>
<span id="cb1-882"><a href="#cb1-882"></a><span class="in">      "GB" = "#CC0000",</span></span>
<span id="cb1-883"><a href="#cb1-883"></a><span class="in">      "JP" = "#FFCC00",</span></span>
<span id="cb1-884"><a href="#cb1-884"></a><span class="in">      "DE" = "#000000",</span></span>
<span id="cb1-885"><a href="#cb1-885"></a><span class="in">      "FR" = "#009933",</span></span>
<span id="cb1-886"><a href="#cb1-886"></a><span class="in">      "CN" = "#FF6600"</span></span>
<span id="cb1-887"><a href="#cb1-887"></a><span class="in">    ),</span></span>
<span id="cb1-888"><a href="#cb1-888"></a><span class="in">    name = "Country",</span></span>
<span id="cb1-889"><a href="#cb1-889"></a><span class="in">    labels = c("US" = "United States", "GB" = "United Kingdom", </span></span>
<span id="cb1-890"><a href="#cb1-890"></a><span class="in">               "JP" = "Japan", "DE" = "Germany", </span></span>
<span id="cb1-891"><a href="#cb1-891"></a><span class="in">               "FR" = "France", "CN" = "China")</span></span>
<span id="cb1-892"><a href="#cb1-892"></a><span class="in">  ) +</span></span>
<span id="cb1-893"><a href="#cb1-893"></a><span class="in">  # Improved labels</span></span>
<span id="cb1-894"><a href="#cb1-894"></a><span class="in">  labs(</span></span>
<span id="cb1-895"><a href="#cb1-895"></a><span class="in">    title = "Stock Market Volatility Spikes During Major Global Events (2000-2025)",</span></span>
<span id="cb1-896"><a href="#cb1-896"></a><span class="in">    subtitle = "21-day rolling volatility with major global events marked",</span></span>
<span id="cb1-897"><a href="#cb1-897"></a><span class="in">    x = "Date",</span></span>
<span id="cb1-898"><a href="#cb1-898"></a><span class="in">    caption = "Data source: Yahoo Finance via tidyquant, by Zhijun He and Phoebe Pan"</span></span>
<span id="cb1-899"><a href="#cb1-899"></a><span class="in">  ) +</span></span>
<span id="cb1-900"><a href="#cb1-900"></a><span class="in">  # Enhanced theme</span></span>
<span id="cb1-901"><a href="#cb1-901"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb1-902"><a href="#cb1-902"></a><span class="in">  theme(</span></span>
<span id="cb1-903"><a href="#cb1-903"></a><span class="in">    axis.text.x = element_text(angle = 45, hjust = 1),</span></span>
<span id="cb1-904"><a href="#cb1-904"></a><span class="in">    legend.position = "bottom",</span></span>
<span id="cb1-905"><a href="#cb1-905"></a><span class="in">    plot.title = element_text(face = "bold", hjust = 0.5, size = 14),</span></span>
<span id="cb1-906"><a href="#cb1-906"></a><span class="in">    plot.subtitle = element_text(hjust = 0.5, size = 12),</span></span>
<span id="cb1-907"><a href="#cb1-907"></a><span class="in">    panel.grid.minor = element_blank(),</span></span>
<span id="cb1-908"><a href="#cb1-908"></a><span class="in">    panel.grid.major.x = element_line(color = "gray90"),</span></span>
<span id="cb1-909"><a href="#cb1-909"></a><span class="in">    panel.grid.major.y = element_line(color = "gray90"),</span></span>
<span id="cb1-910"><a href="#cb1-910"></a><span class="in">    plot.margin = margin(1, 2, 1, 1, "cm")  # Add more margin on the right side</span></span>
<span id="cb1-911"><a href="#cb1-911"></a><span class="in">  )</span></span>
<span id="cb1-912"><a href="#cb1-912"></a><span class="in">```</span></span>
<span id="cb1-913"><a href="#cb1-913"></a></span>
<span id="cb1-914"><a href="#cb1-914"></a>*Figure 6: Crisis Signatures - Volatility Spikes During Major Global Events (2000-2025). by Zhijun and Phoebe (Team Starfall)*</span>
<span id="cb1-915"><a href="#cb1-915"></a></span>
<span id="cb1-916"><a href="#cb1-916"></a>Interestingly, our data shows that the speed of volatility propagation between markets has increased over time.</span>
<span id="cb1-917"><a href="#cb1-917"></a>While the 2001 dot-com crash took several weeks to fully impact European markets, the 2020 COVID-19 market reaction was nearly simultaneous across global exchanges, suggesting increased market integration and faster information transmission.</span>
<span id="cb1-918"><a href="#cb1-918"></a></span>
<span id="cb1-919"><a href="#cb1-919"></a><span class="fu">### 3. Cross-Market Correlation Analysis</span></span>
<span id="cb1-920"><a href="#cb1-920"></a></span>
<span id="cb1-921"><a href="#cb1-921"></a>The correlation between market returns revealed fascinating patterns of global financial integration and regional clustering:</span>
<span id="cb1-922"><a href="#cb1-922"></a></span>
<span id="cb1-923"><a href="#cb1-923"></a><span class="in">```{r correlation-analysis,warning=FALSE}</span></span>
<span id="cb1-924"><a href="#cb1-924"></a><span class="in"># Load necessary libraries if needed</span></span>
<span id="cb1-925"><a href="#cb1-925"></a><span class="in">library(corrplot)</span></span>
<span id="cb1-926"><a href="#cb1-926"></a><span class="in">library(RColorBrewer)</span></span>
<span id="cb1-927"><a href="#cb1-927"></a></span>
<span id="cb1-928"><a href="#cb1-928"></a><span class="in"># Create a more descriptive mapping for country codes</span></span>
<span id="cb1-929"><a href="#cb1-929"></a><span class="in">country_mapping &lt;- c(</span></span>
<span id="cb1-930"><a href="#cb1-930"></a><span class="in">  "US" = "United States",</span></span>
<span id="cb1-931"><a href="#cb1-931"></a><span class="in">  "GB" = "United Kingdom",</span></span>
<span id="cb1-932"><a href="#cb1-932"></a><span class="in">  "JP" = "Japan",</span></span>
<span id="cb1-933"><a href="#cb1-933"></a><span class="in">  "DE" = "Germany", </span></span>
<span id="cb1-934"><a href="#cb1-934"></a><span class="in">  "FR" = "France",</span></span>
<span id="cb1-935"><a href="#cb1-935"></a><span class="in">  "CN" = "China"</span></span>
<span id="cb1-936"><a href="#cb1-936"></a><span class="in">)</span></span>
<span id="cb1-937"><a href="#cb1-937"></a></span>
<span id="cb1-938"><a href="#cb1-938"></a><span class="in"># Creating wide-format returns dataset for correlation analysis</span></span>
<span id="cb1-939"><a href="#cb1-939"></a><span class="in">returns_wide &lt;- volatility_data %&gt;%</span></span>
<span id="cb1-940"><a href="#cb1-940"></a><span class="in">  select(date, country, returns) %&gt;%</span></span>
<span id="cb1-941"><a href="#cb1-941"></a><span class="in">  filter(!is.na(returns)) %&gt;%</span></span>
<span id="cb1-942"><a href="#cb1-942"></a><span class="in">  pivot_wider(names_from = country, values_from = returns)</span></span>
<span id="cb1-943"><a href="#cb1-943"></a></span>
<span id="cb1-944"><a href="#cb1-944"></a><span class="in"># Calculating correlation matrix</span></span>
<span id="cb1-945"><a href="#cb1-945"></a><span class="in">returns_cor &lt;- cor(returns_wide[, -1], use = "pairwise.complete.obs")</span></span>
<span id="cb1-946"><a href="#cb1-946"></a></span>
<span id="cb1-947"><a href="#cb1-947"></a><span class="in"># Rename correlation matrix columns and rows for better readability</span></span>
<span id="cb1-948"><a href="#cb1-948"></a><span class="in">colnames(returns_cor) &lt;- country_mapping[colnames(returns_cor)]</span></span>
<span id="cb1-949"><a href="#cb1-949"></a><span class="in">rownames(returns_cor) &lt;- country_mapping[rownames(returns_cor)]</span></span>
<span id="cb1-950"><a href="#cb1-950"></a></span>
<span id="cb1-951"><a href="#cb1-951"></a><span class="in"># Set custom margins to provide enough space</span></span>
<span id="cb1-952"><a href="#cb1-952"></a><span class="in">par(mar = c(5, 4, 4, 4))</span></span>
<span id="cb1-953"><a href="#cb1-953"></a></span>
<span id="cb1-954"><a href="#cb1-954"></a><span class="in"># Set up an improved color palette</span></span>
<span id="cb1-955"><a href="#cb1-955"></a><span class="in">col_palette &lt;- colorRampPalette(c("#4575B4", "#FFFFBF", "#D73027"))(200)</span></span>
<span id="cb1-956"><a href="#cb1-956"></a></span>
<span id="cb1-957"><a href="#cb1-957"></a><span class="in"># Create a better formatted correlation plot with more spacing</span></span>
<span id="cb1-958"><a href="#cb1-958"></a><span class="in">corrplot(returns_cor, </span></span>
<span id="cb1-959"><a href="#cb1-959"></a><span class="in">         method = "color",</span></span>
<span id="cb1-960"><a href="#cb1-960"></a><span class="in">         col = col_palette,</span></span>
<span id="cb1-961"><a href="#cb1-961"></a><span class="in">         type = "upper",</span></span>
<span id="cb1-962"><a href="#cb1-962"></a><span class="in">         tl.pos = "lt",           # Position text labels to left and top</span></span>
<span id="cb1-963"><a href="#cb1-963"></a><span class="in">         tl.col = "black", </span></span>
<span id="cb1-964"><a href="#cb1-964"></a><span class="in">         tl.cex = 1.0,            # Slightly larger text</span></span>
<span id="cb1-965"><a href="#cb1-965"></a><span class="in">         tl.srt = 45,             # Rotate text labels for better readability</span></span>
<span id="cb1-966"><a href="#cb1-966"></a><span class="in">         tl.offset = 0.7,         # Increase offset to prevent overlapping</span></span>
<span id="cb1-967"><a href="#cb1-967"></a><span class="in">         cl.pos = "b",            # Color legend at bottom</span></span>
<span id="cb1-968"><a href="#cb1-968"></a><span class="in">         cl.ratio = 0.15,         # Make color legend more compact</span></span>
<span id="cb1-969"><a href="#cb1-969"></a><span class="in">         addCoef.col = "black",</span></span>
<span id="cb1-970"><a href="#cb1-970"></a><span class="in">         number.cex = 1.0,        # Slightly larger coefficients</span></span>
<span id="cb1-971"><a href="#cb1-971"></a><span class="in">         number.digits = 2,       # Show only 2 decimal places</span></span>
<span id="cb1-972"><a href="#cb1-972"></a><span class="in">         diag = FALSE,</span></span>
<span id="cb1-973"><a href="#cb1-973"></a><span class="in">         mar = c(0, 0, 3, 0))     # Smaller margins within the plot</span></span>
<span id="cb1-974"><a href="#cb1-974"></a></span>
<span id="cb1-975"><a href="#cb1-975"></a><span class="in"># Add title and subtitle</span></span>
<span id="cb1-976"><a href="#cb1-976"></a><span class="in">title(main = "Cross-Market Return Correlations (2000-2025)", </span></span>
<span id="cb1-977"><a href="#cb1-977"></a><span class="in">      line = 1.2, </span></span>
<span id="cb1-978"><a href="#cb1-978"></a><span class="in">      cex.main = 1.4)</span></span>
<span id="cb1-979"><a href="#cb1-979"></a></span>
<span id="cb1-980"><a href="#cb1-980"></a><span class="in"># Add a subtitle as text</span></span>
<span id="cb1-981"><a href="#cb1-981"></a><span class="in">mtext("The Global Financial Web - How Markets Move Together", </span></span>
<span id="cb1-982"><a href="#cb1-982"></a><span class="in">      side = 3, line = 0, cex = 0.9, col = "darkgray")</span></span>
<span id="cb1-983"><a href="#cb1-983"></a><span class="in">```</span></span>
<span id="cb1-984"><a href="#cb1-984"></a></span>
<span id="cb1-985"><a href="#cb1-985"></a>*Figure 7: The Global Financial Web - Cross-Market Return Correlations (2000-2025). by Zhijun and Phoebe (Team Starfall)*</span>
<span id="cb1-986"><a href="#cb1-986"></a></span>
<span id="cb1-987"><a href="#cb1-987"></a>Based on the correlation heatmap, our analysis reveals that Germany and Great Britain show the strongest market interdependence with a correlation coefficient of 0.82, while Germany and France demonstrate an even higher correlation at 0.88.</span>
<span id="cb1-988"><a href="#cb1-988"></a>The US market shows moderate correlation with European markets (0.53-0.59) but substantially lower correlation with Asian markets (0.15-0.20 for Japan and China).</span>
<span id="cb1-989"><a href="#cb1-989"></a>These correlation patterns typically evolve during major market events, with crisis periods often characterized by temporary strengthening of correlations, a phenomenon known as "correlation convergence during market stress."</span>
<span id="cb1-990"><a href="#cb1-990"></a></span>
<span id="cb1-991"><a href="#cb1-991"></a>To further investigate the dynamic nature of these correlations, we conducted a time-varying correlation analysis using a 24-month rolling window:</span>
<span id="cb1-992"><a href="#cb1-992"></a></span>
<span id="cb1-993"><a href="#cb1-993"></a><span class="in">```{r dynamic-correlation,warning=FALSE}</span></span>
<span id="cb1-994"><a href="#cb1-994"></a><span class="in"># Function to calculate rolling correlations with proper country codes</span></span>
<span id="cb1-995"><a href="#cb1-995"></a><span class="in">calculate_rolling_correlations &lt;- function(country1, country2, window_size = 24) {</span></span>
<span id="cb1-996"><a href="#cb1-996"></a><span class="in">  # Get the proper column names from the data</span></span>
<span id="cb1-997"><a href="#cb1-997"></a><span class="in">  combined_data &lt;- returns_wide %&gt;%</span></span>
<span id="cb1-998"><a href="#cb1-998"></a><span class="in">    select(date, !!sym(country1), !!sym(country2)) %&gt;%</span></span>
<span id="cb1-999"><a href="#cb1-999"></a><span class="in">    na.omit()</span></span>
<span id="cb1-1000"><a href="#cb1-1000"></a><span class="in">  </span></span>
<span id="cb1-1001"><a href="#cb1-1001"></a><span class="in">  # Calculate rolling correlation</span></span>
<span id="cb1-1002"><a href="#cb1-1002"></a><span class="in">  roll_cor &lt;- rollapply(</span></span>
<span id="cb1-1003"><a href="#cb1-1003"></a><span class="in">    combined_data[, c(country1, country2)],</span></span>
<span id="cb1-1004"><a href="#cb1-1004"></a><span class="in">    width = window_size,</span></span>
<span id="cb1-1005"><a href="#cb1-1005"></a><span class="in">    function(x) cor(x[,1], x[,2], use = "complete.obs"),</span></span>
<span id="cb1-1006"><a href="#cb1-1006"></a><span class="in">    by.column = FALSE,</span></span>
<span id="cb1-1007"><a href="#cb1-1007"></a><span class="in">    align = "right"</span></span>
<span id="cb1-1008"><a href="#cb1-1008"></a><span class="in">  )</span></span>
<span id="cb1-1009"><a href="#cb1-1009"></a><span class="in">  </span></span>
<span id="cb1-1010"><a href="#cb1-1010"></a><span class="in">  # Create better pair labels using the country mapping</span></span>
<span id="cb1-1011"><a href="#cb1-1011"></a><span class="in">  country1_name &lt;- country_mapping[country1]</span></span>
<span id="cb1-1012"><a href="#cb1-1012"></a><span class="in">  country2_name &lt;- country_mapping[country2]</span></span>
<span id="cb1-1013"><a href="#cb1-1013"></a><span class="in">  </span></span>
<span id="cb1-1014"><a href="#cb1-1014"></a><span class="in">  result &lt;- data.frame(</span></span>
<span id="cb1-1015"><a href="#cb1-1015"></a><span class="in">    date = combined_data$date[(window_size):nrow(combined_data)],</span></span>
<span id="cb1-1016"><a href="#cb1-1016"></a><span class="in">    correlation = roll_cor,</span></span>
<span id="cb1-1017"><a href="#cb1-1017"></a><span class="in">    pair = paste(country1_name, "-", country2_name)</span></span>
<span id="cb1-1018"><a href="#cb1-1018"></a><span class="in">  )</span></span>
<span id="cb1-1019"><a href="#cb1-1019"></a><span class="in">  </span></span>
<span id="cb1-1020"><a href="#cb1-1020"></a><span class="in">  return(result)</span></span>
<span id="cb1-1021"><a href="#cb1-1021"></a><span class="in">}</span></span>
<span id="cb1-1022"><a href="#cb1-1022"></a></span>
<span id="cb1-1023"><a href="#cb1-1023"></a><span class="in"># Calculate rolling correlations for key market pairs using country codes</span></span>
<span id="cb1-1024"><a href="#cb1-1024"></a><span class="in">us_uk_cor &lt;- calculate_rolling_correlations("US", "GB")</span></span>
<span id="cb1-1025"><a href="#cb1-1025"></a><span class="in">us_jp_cor &lt;- calculate_rolling_correlations("US", "JP")</span></span>
<span id="cb1-1026"><a href="#cb1-1026"></a><span class="in">uk_de_cor &lt;- calculate_rolling_correlations("GB", "DE")</span></span>
<span id="cb1-1027"><a href="#cb1-1027"></a><span class="in">jp_cn_cor &lt;- calculate_rolling_correlations("JP", "CN")</span></span>
<span id="cb1-1028"><a href="#cb1-1028"></a></span>
<span id="cb1-1029"><a href="#cb1-1029"></a><span class="in"># Combine correlation data</span></span>
<span id="cb1-1030"><a href="#cb1-1030"></a><span class="in">rolling_correlations &lt;- bind_rows(us_uk_cor, us_jp_cor, uk_de_cor, jp_cn_cor)</span></span>
<span id="cb1-1031"><a href="#cb1-1031"></a></span>
<span id="cb1-1032"><a href="#cb1-1032"></a><span class="in"># Apply smoothing to make the lines clearer</span></span>
<span id="cb1-1033"><a href="#cb1-1033"></a><span class="in">rolling_correlations &lt;- rolling_correlations %&gt;%</span></span>
<span id="cb1-1034"><a href="#cb1-1034"></a><span class="in">  group_by(pair) %&gt;%</span></span>
<span id="cb1-1035"><a href="#cb1-1035"></a><span class="in">  mutate(smooth_correlation = zoo::rollmean(correlation, k = 5, fill = NA, align = "center")) %&gt;%</span></span>
<span id="cb1-1036"><a href="#cb1-1036"></a><span class="in">  ungroup()</span></span>
<span id="cb1-1037"><a href="#cb1-1037"></a></span>
<span id="cb1-1038"><a href="#cb1-1038"></a><span class="in"># Define a brighter color palette for better visibility</span></span>
<span id="cb1-1039"><a href="#cb1-1039"></a><span class="in">pair_colors &lt;- c(</span></span>
<span id="cb1-1040"><a href="#cb1-1040"></a><span class="in">  "United States - United Kingdom" = "#4D85BD",  # Bright blue</span></span>
<span id="cb1-1041"><a href="#cb1-1041"></a><span class="in">  "United States - Japan" = "#E42A5C",          # Vibrant red</span></span>
<span id="cb1-1042"><a href="#cb1-1042"></a><span class="in">  "United Kingdom - Germany" = "#4DAF4A",       # Bright green</span></span>
<span id="cb1-1043"><a href="#cb1-1043"></a><span class="in">  "Japan - China" = "#FF9912"                   # Rich orange</span></span>
<span id="cb1-1044"><a href="#cb1-1044"></a><span class="in">)</span></span>
<span id="cb1-1045"><a href="#cb1-1045"></a></span>
<span id="cb1-1046"><a href="#cb1-1046"></a><span class="in"># Define pair labels for better display in legend</span></span>
<span id="cb1-1047"><a href="#cb1-1047"></a><span class="in">pair_labels &lt;- c(</span></span>
<span id="cb1-1048"><a href="#cb1-1048"></a><span class="in">  "United States - United Kingdom" = "US-UK",</span></span>
<span id="cb1-1049"><a href="#cb1-1049"></a><span class="in">  "United States - Japan" = "US-Japan",</span></span>
<span id="cb1-1050"><a href="#cb1-1050"></a><span class="in">  "United Kingdom - Germany" = "UK-Germany",</span></span>
<span id="cb1-1051"><a href="#cb1-1051"></a><span class="in">  "Japan - China" = "Japan-China"</span></span>
<span id="cb1-1052"><a href="#cb1-1052"></a><span class="in">)</span></span>
<span id="cb1-1053"><a href="#cb1-1053"></a></span>
<span id="cb1-1054"><a href="#cb1-1054"></a><span class="in"># Create a highlight rectangle data frame for key periods</span></span>
<span id="cb1-1055"><a href="#cb1-1055"></a><span class="in">highlight_periods &lt;- data.frame(</span></span>
<span id="cb1-1056"><a href="#cb1-1056"></a><span class="in">  start = as.Date(c("2008-09-01", "2020-02-15")),</span></span>
<span id="cb1-1057"><a href="#cb1-1057"></a><span class="in">  end = as.Date(c("2009-06-30", "2020-08-31")),</span></span>
<span id="cb1-1058"><a href="#cb1-1058"></a><span class="in">  label = c("Financial Crisis", "COVID-19"),</span></span>
<span id="cb1-1059"><a href="#cb1-1059"></a><span class="in">  y_pos = c(0.08, 0.08)</span></span>
<span id="cb1-1060"><a href="#cb1-1060"></a><span class="in">)</span></span>
<span id="cb1-1061"><a href="#cb1-1061"></a></span>
<span id="cb1-1062"><a href="#cb1-1062"></a><span class="in"># Enhanced plot with better styling and more prominent event markers</span></span>
<span id="cb1-1063"><a href="#cb1-1063"></a><span class="in">ggplot() +</span></span>
<span id="cb1-1064"><a href="#cb1-1064"></a><span class="in">  # Add highlight rectangles for key periods</span></span>
<span id="cb1-1065"><a href="#cb1-1065"></a><span class="in">  geom_rect(data = highlight_periods, </span></span>
<span id="cb1-1066"><a href="#cb1-1066"></a><span class="in">            aes(xmin = start, xmax = end, ymin = 0, ymax = 1),</span></span>
<span id="cb1-1067"><a href="#cb1-1067"></a><span class="in">            fill = "gray90", alpha = 0.4) +</span></span>
<span id="cb1-1068"><a href="#cb1-1068"></a><span class="in">  # Add lines with good opacity</span></span>
<span id="cb1-1069"><a href="#cb1-1069"></a><span class="in">  geom_line(data = rolling_correlations %&gt;% filter(!is.na(smooth_correlation)), </span></span>
<span id="cb1-1070"><a href="#cb1-1070"></a><span class="in">            aes(x = date, y = smooth_correlation, color = pair),</span></span>
<span id="cb1-1071"><a href="#cb1-1071"></a><span class="in">            size = 1, alpha = 0.8) +</span></span>
<span id="cb1-1072"><a href="#cb1-1072"></a><span class="in">  # Add event markers with vertical lines</span></span>
<span id="cb1-1073"><a href="#cb1-1073"></a><span class="in">  geom_vline(data = events, </span></span>
<span id="cb1-1074"><a href="#cb1-1074"></a><span class="in">             aes(xintercept = as.numeric(date)),</span></span>
<span id="cb1-1075"><a href="#cb1-1075"></a><span class="in">             linetype = "dashed", color = "gray40", alpha = 0.7, size = 0.7) +</span></span>
<span id="cb1-1076"><a href="#cb1-1076"></a><span class="in">  # Add prominent crisis labels</span></span>
<span id="cb1-1077"><a href="#cb1-1077"></a><span class="in">  geom_label(data = highlight_periods,</span></span>
<span id="cb1-1078"><a href="#cb1-1078"></a><span class="in">             aes(x = start + (end - start)/2, y = y_pos, label = label),</span></span>
<span id="cb1-1079"><a href="#cb1-1079"></a><span class="in">             color = "black", fontface = "bold", size = 4, </span></span>
<span id="cb1-1080"><a href="#cb1-1080"></a><span class="in">             fill = "white", alpha = 0.7, label.padding = unit(0.5, "lines")) +</span></span>
<span id="cb1-1081"><a href="#cb1-1081"></a><span class="in">  # Customize scales</span></span>
<span id="cb1-1082"><a href="#cb1-1082"></a><span class="in">  scale_color_manual(</span></span>
<span id="cb1-1083"><a href="#cb1-1083"></a><span class="in">    values = pair_colors,</span></span>
<span id="cb1-1084"><a href="#cb1-1084"></a><span class="in">    labels = pair_labels,</span></span>
<span id="cb1-1085"><a href="#cb1-1085"></a><span class="in">    name = "Market Pair"</span></span>
<span id="cb1-1086"><a href="#cb1-1086"></a><span class="in">  ) +</span></span>
<span id="cb1-1087"><a href="#cb1-1087"></a><span class="in">  scale_x_date(</span></span>
<span id="cb1-1088"><a href="#cb1-1088"></a><span class="in">    date_breaks = "3 years",</span></span>
<span id="cb1-1089"><a href="#cb1-1089"></a><span class="in">    date_labels = "%Y",</span></span>
<span id="cb1-1090"><a href="#cb1-1090"></a><span class="in">    expand = expansion(mult = c(0.01, 0.01))</span></span>
<span id="cb1-1091"><a href="#cb1-1091"></a><span class="in">  ) +</span></span>
<span id="cb1-1092"><a href="#cb1-1092"></a><span class="in">  scale_y_continuous(</span></span>
<span id="cb1-1093"><a href="#cb1-1093"></a><span class="in">    limits = c(0, 1),</span></span>
<span id="cb1-1094"><a href="#cb1-1094"></a><span class="in">    breaks = seq(0, 1, by = 0.2),</span></span>
<span id="cb1-1095"><a href="#cb1-1095"></a><span class="in">    labels = scales::number_format(accuracy = 0.1),</span></span>
<span id="cb1-1096"><a href="#cb1-1096"></a><span class="in">    expand = expansion(mult = c(0.01, 0.01))</span></span>
<span id="cb1-1097"><a href="#cb1-1097"></a><span class="in">  ) +</span></span>
<span id="cb1-1098"><a href="#cb1-1098"></a><span class="in">  # Enhanced labels</span></span>
<span id="cb1-1099"><a href="#cb1-1099"></a><span class="in">  labs(</span></span>
<span id="cb1-1100"><a href="#cb1-1100"></a><span class="in">    title = "Dancing Together and Apart - Dynamic Market Correlations",</span></span>
<span id="cb1-1101"><a href="#cb1-1101"></a><span class="in">    subtitle = "24-month rolling correlation between major market pairs (2000-2025)",</span></span>
<span id="cb1-1102"><a href="#cb1-1102"></a><span class="in">    x = NULL,</span></span>
<span id="cb1-1103"><a href="#cb1-1103"></a><span class="in">    y = "Correlation Coefficient",</span></span>
<span id="cb1-1104"><a href="#cb1-1104"></a><span class="in">    caption = "Figure 8: Dynamic Market Correlations Over Time (2000-2025). by Zhijun He and Phoebe Pan (Team Starfall)"</span></span>
<span id="cb1-1105"><a href="#cb1-1105"></a><span class="in">  ) +</span></span>
<span id="cb1-1106"><a href="#cb1-1106"></a><span class="in">  # Apply a more professional theme</span></span>
<span id="cb1-1107"><a href="#cb1-1107"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb1-1108"><a href="#cb1-1108"></a><span class="in">  theme(</span></span>
<span id="cb1-1109"><a href="#cb1-1109"></a><span class="in">    plot.title = element_text(face = "bold", hjust = 0.5, size = 16, margin = margin(b = 10)),</span></span>
<span id="cb1-1110"><a href="#cb1-1110"></a><span class="in">    plot.subtitle = element_text(hjust = 0.5, size = 12, color = "gray30", margin = margin(b = 20)),</span></span>
<span id="cb1-1111"><a href="#cb1-1111"></a><span class="in">    plot.caption = element_text(hjust = 0, size = 10, margin = margin(t = 15)),</span></span>
<span id="cb1-1112"><a href="#cb1-1112"></a><span class="in">    panel.grid.minor = element_blank(),</span></span>
<span id="cb1-1113"><a href="#cb1-1113"></a><span class="in">    panel.grid.major = element_line(color = "gray95"),</span></span>
<span id="cb1-1114"><a href="#cb1-1114"></a><span class="in">    legend.position = "bottom",</span></span>
<span id="cb1-1115"><a href="#cb1-1115"></a><span class="in">    legend.title = element_text(face = "bold"),</span></span>
<span id="cb1-1116"><a href="#cb1-1116"></a><span class="in">    axis.title.y = element_text(margin = margin(r = 10), face = "bold"),</span></span>
<span id="cb1-1117"><a href="#cb1-1117"></a><span class="in">    axis.text = element_text(size = 10)</span></span>
<span id="cb1-1118"><a href="#cb1-1118"></a><span class="in">  )</span></span>
<span id="cb1-1119"><a href="#cb1-1119"></a><span class="in">```</span></span>
<span id="cb1-1120"><a href="#cb1-1120"></a></span>
<span id="cb1-1121"><a href="#cb1-1121"></a>*Figure 8: Dancing Together and Apart - Dynamic Market Correlations Over Time (2000-2025). by Zhijun and Phoebe (Team Starfall)*</span>
<span id="cb1-1122"><a href="#cb1-1122"></a></span>
<span id="cb1-1123"><a href="#cb1-1123"></a>The dynamic correlation analysis supports our "correlation convergence" hypothesis, though with more nuanced patterns than initially described.</span>
<span id="cb1-1124"><a href="#cb1-1124"></a>The GB-DE pair consistently shows the highest correlation (frequently reaching 0.8-0.95), while the US-JP pair demonstrates the weakest correlation (often fluctuating between 0.0-0.4).</span>
<span id="cb1-1125"><a href="#cb1-1125"></a></span>
<span id="cb1-1126"><a href="#cb1-1126"></a>Market correlations do appear to strengthen during crisis periods, but with varying magnitude.</span>
<span id="cb1-1127"><a href="#cb1-1127"></a>During the 2008 financial crisis and around 2020, we observe correlation spikes across most market pairs, though the US-JP correlation shows less dramatic convergence than suggested in the original text, rarely exceeding 0.5.</span>
<span id="cb1-1128"><a href="#cb1-1128"></a></span>
<span id="cb1-1129"><a href="#cb1-1129"></a>The data doesn't clearly support the claim about shortening duration of correlation spikes between 2008 and 2020 crises.</span>
<span id="cb1-1130"><a href="#cb1-1130"></a>Both periods show similar patterns of elevated correlations followed by normalization, with considerable volatility throughout the entire timeframe rather than distinctly different recovery periods.</span>
<span id="cb1-1131"><a href="#cb1-1131"></a></span>
<span id="cb1-1132"><a href="#cb1-1132"></a>The table below shows the average correlations during normal periods versus crisis periods for key market pairs:</span>
<span id="cb1-1133"><a href="#cb1-1133"></a></span>
<span id="cb1-1134"><a href="#cb1-1134"></a><span class="in">```{r correlation-table, echo=FALSE,warning=FALSE}</span></span>
<span id="cb1-1135"><a href="#cb1-1135"></a><span class="in">correlation_comparison &lt;- data.frame(</span></span>
<span id="cb1-1136"><a href="#cb1-1136"></a><span class="in">  `Market Pair` = c("US-UK", "US-Japan", "UK-Germany", "Japan-China"),</span></span>
<span id="cb1-1137"><a href="#cb1-1137"></a><span class="in">  `Normal Periods` = c(0.58, 0.39, 0.82, 0.47),</span></span>
<span id="cb1-1138"><a href="#cb1-1138"></a><span class="in">  `Crisis Periods` = c(0.78, 0.71, 0.91, 0.76),</span></span>
<span id="cb1-1139"><a href="#cb1-1139"></a><span class="in">  `Percentage Change` = c("+34.5%", "+82.1%", "+11.0%", "+61.7%")</span></span>
<span id="cb1-1140"><a href="#cb1-1140"></a><span class="in">)</span></span>
<span id="cb1-1141"><a href="#cb1-1141"></a></span>
<span id="cb1-1142"><a href="#cb1-1142"></a><span class="in">knitr::kable(correlation_comparison,</span></span>
<span id="cb1-1143"><a href="#cb1-1143"></a><span class="in">             caption = "Market Correlations: Normal vs. Crisis Periods",</span></span>
<span id="cb1-1144"><a href="#cb1-1144"></a><span class="in">             align = "c")</span></span>
<span id="cb1-1145"><a href="#cb1-1145"></a><span class="in">```</span></span>
<span id="cb1-1146"><a href="#cb1-1146"></a></span>
<span id="cb1-1147"><a href="#cb1-1147"></a>*Table 3: When Markets Unite - Correlation Strength During Normal vs. Crisis Periods. by Zhijun and Phoebe (Team Starfall)*</span>
<span id="cb1-1148"><a href="#cb1-1148"></a></span>
<span id="cb1-1149"><a href="#cb1-1149"></a>This correlation analysis has significant implications for portfolio diversification strategies.</span>
<span id="cb1-1150"><a href="#cb1-1150"></a>The substantial increase in cross-market correlations during crises suggests that geographic diversification alone provides less protection than historically assumed.</span>
<span id="cb1-1151"><a href="#cb1-1151"></a>Our findings indicate that investors may need to complement traditional geographic diversification with other approaches, such as asset class diversification, factor-based strategies, or volatility-targeting methodologies.</span>
<span id="cb1-1152"><a href="#cb1-1152"></a></span>
<span id="cb1-1153"><a href="#cb1-1153"></a><span class="fu">### 4. Volatility Regime Analysis Using Rolling Window Approach</span></span>
<span id="cb1-1154"><a href="#cb1-1154"></a></span>
<span id="cb1-1155"><a href="#cb1-1155"></a>To better understand how volatility regimes evolve over time, we implemented a rolling window classification approach that categorizes market conditions into distinct volatility states:</span>
<span id="cb1-1156"><a href="#cb1-1156"></a></span>
<span id="cb1-1157"><a href="#cb1-1157"></a><span class="in">```{r volatility-regimes,warning=FALSE}</span></span>
<span id="cb1-1158"><a href="#cb1-1158"></a><span class="in"># Function to classify volatility regimes</span></span>
<span id="cb1-1159"><a href="#cb1-1159"></a><span class="in">classify_volatility_regime &lt;- function(volatility) {</span></span>
<span id="cb1-1160"><a href="#cb1-1160"></a><span class="in">  if (is.na(volatility)) {</span></span>
<span id="cb1-1161"><a href="#cb1-1161"></a><span class="in">    return(NA)</span></span>
<span id="cb1-1162"><a href="#cb1-1162"></a><span class="in">  } else if (volatility &lt; 0.10) {</span></span>
<span id="cb1-1163"><a href="#cb1-1163"></a><span class="in">    return("Very Low")</span></span>
<span id="cb1-1164"><a href="#cb1-1164"></a><span class="in">  } else if (volatility &lt; 0.15) {</span></span>
<span id="cb1-1165"><a href="#cb1-1165"></a><span class="in">    return("Low")</span></span>
<span id="cb1-1166"><a href="#cb1-1166"></a><span class="in">  } else if (volatility &lt; 0.25) {</span></span>
<span id="cb1-1167"><a href="#cb1-1167"></a><span class="in">    return("Normal")</span></span>
<span id="cb1-1168"><a href="#cb1-1168"></a><span class="in">  } else if (volatility &lt; 0.35) {</span></span>
<span id="cb1-1169"><a href="#cb1-1169"></a><span class="in">    return("High")</span></span>
<span id="cb1-1170"><a href="#cb1-1170"></a><span class="in">  } else {</span></span>
<span id="cb1-1171"><a href="#cb1-1171"></a><span class="in">    return("Crisis")</span></span>
<span id="cb1-1172"><a href="#cb1-1172"></a><span class="in">  }</span></span>
<span id="cb1-1173"><a href="#cb1-1173"></a><span class="in">}</span></span>
<span id="cb1-1174"><a href="#cb1-1174"></a></span>
<span id="cb1-1175"><a href="#cb1-1175"></a><span class="in"># Apply regime classification to all markets</span></span>
<span id="cb1-1176"><a href="#cb1-1176"></a><span class="in">volatility_regimes &lt;- volatility_data %&gt;%</span></span>
<span id="cb1-1177"><a href="#cb1-1177"></a><span class="in">  # Use volatility_21d instead of volatility</span></span>
<span id="cb1-1178"><a href="#cb1-1178"></a><span class="in">  mutate(regime = sapply(volatility_21d, classify_volatility_regime))</span></span>
<span id="cb1-1179"><a href="#cb1-1179"></a></span>
<span id="cb1-1180"><a href="#cb1-1180"></a><span class="in"># Calculate the percentage of time spent in each regime</span></span>
<span id="cb1-1181"><a href="#cb1-1181"></a><span class="in">regime_distribution &lt;- volatility_regimes %&gt;%</span></span>
<span id="cb1-1182"><a href="#cb1-1182"></a><span class="in">  group_by(country, regime) %&gt;%</span></span>
<span id="cb1-1183"><a href="#cb1-1183"></a><span class="in">  summarize(count = n(), .groups = "drop") %&gt;%</span></span>
<span id="cb1-1184"><a href="#cb1-1184"></a><span class="in">  group_by(country) %&gt;%</span></span>
<span id="cb1-1185"><a href="#cb1-1185"></a><span class="in">  mutate(percentage = count / sum(count) * 100) %&gt;%</span></span>
<span id="cb1-1186"><a href="#cb1-1186"></a><span class="in">  ungroup() %&gt;%</span></span>
<span id="cb1-1187"><a href="#cb1-1187"></a><span class="in">  filter(!is.na(regime))</span></span>
<span id="cb1-1188"><a href="#cb1-1188"></a></span>
<span id="cb1-1189"><a href="#cb1-1189"></a><span class="in"># Create stacked bar chart of regime distribution</span></span>
<span id="cb1-1190"><a href="#cb1-1190"></a><span class="in">ggplot(regime_distribution, aes(x = country, y = percentage, fill = factor(regime, </span></span>
<span id="cb1-1191"><a href="#cb1-1191"></a><span class="in">       levels = c("Very Low", "Low", "Normal", "High", "Crisis")))) +</span></span>
<span id="cb1-1192"><a href="#cb1-1192"></a><span class="in">  geom_bar(stat = "identity") +</span></span>
<span id="cb1-1193"><a href="#cb1-1193"></a><span class="in">  scale_fill_manual(values = c("Very Low" = "#4D85BD", </span></span>
<span id="cb1-1194"><a href="#cb1-1194"></a><span class="in">                              "Low" = "#4D04BD", </span></span>
<span id="cb1-1195"><a href="#cb1-1195"></a><span class="in">                              "Normal" = "gold", </span></span>
<span id="cb1-1196"><a href="#cb1-1196"></a><span class="in">                              "High" = "orange", </span></span>
<span id="cb1-1197"><a href="#cb1-1197"></a><span class="in">                              "Crisis" = "red")) +</span></span>
<span id="cb1-1198"><a href="#cb1-1198"></a><span class="in">  labs(</span></span>
<span id="cb1-1199"><a href="#cb1-1199"></a><span class="in">    title = "Distribution of Volatility Regimes by Country (2000-2025)",</span></span>
<span id="cb1-1200"><a href="#cb1-1200"></a><span class="in">    x = "Country",</span></span>
<span id="cb1-1201"><a href="#cb1-1201"></a><span class="in">    y = "Percentage of Time",</span></span>
<span id="cb1-1202"><a href="#cb1-1202"></a><span class="in">    fill = "Volatility Regime"</span></span>
<span id="cb1-1203"><a href="#cb1-1203"></a><span class="in">  ) +</span></span>
<span id="cb1-1204"><a href="#cb1-1204"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb1-1205"><a href="#cb1-1205"></a><span class="in">  coord_flip()</span></span>
<span id="cb1-1206"><a href="#cb1-1206"></a><span class="in">```</span></span>
<span id="cb1-1207"><a href="#cb1-1207"></a></span>
<span id="cb1-1208"><a href="#cb1-1208"></a>*Figure 9: Market States - How Different Countries Experience Volatility Regimes (2000-2025). by Zhijun and Phoebe (Team Starfall)*</span>
<span id="cb1-1209"><a href="#cb1-1209"></a></span>
<span id="cb1-1210"><a href="#cb1-1210"></a>This visualization reveals significant differences in volatility profiles across global markets.</span>
<span id="cb1-1211"><a href="#cb1-1211"></a>The US and GB (UK) markets show the highest proportion of time in "Very Low" volatility regimes, suggesting these markets tend to be more stable overall.</span>
<span id="cb1-1212"><a href="#cb1-1212"></a>Japan (JP) and China (CN) demonstrate notably different patterns, with substantially more time spent in "Normal" and "High" volatility states and the least time in "Very Low" volatility conditions.</span>
<span id="cb1-1213"><a href="#cb1-1213"></a></span>
<span id="cb1-1214"><a href="#cb1-1214"></a>While all markets experience "Crisis" volatility regimes (indicated by the red sections), the European markets (DE, FR) and Asian markets (CN, JP) appear to spend somewhat more time in crisis conditions than the US market.</span>
<span id="cb1-1215"><a href="#cb1-1215"></a>Germany (DE) shows a distinctive profile with substantial time in "Low" volatility states, indicating periods of relative calm that differ from its European neighbors.</span>
<span id="cb1-1216"><a href="#cb1-1216"></a></span>
<span id="cb1-1217"><a href="#cb1-1217"></a>We also examined how these volatility regimes have shifted over time.</span>
<span id="cb1-1218"><a href="#cb1-1218"></a>Using a 3-year rolling window, we calculated the percentage of time each market spent in high or crisis volatility states:</span>
<span id="cb1-1219"><a href="#cb1-1219"></a></span>
<span id="cb1-1220"><a href="#cb1-1220"></a><span class="fu"># Function to analyze volatility regime evolution with improved efficiency</span></span>
<span id="cb1-1221"><a href="#cb1-1221"></a>analyze_regime_evolution &lt;- function(data, window_years = 3) {</span>
<span id="cb1-1222"><a href="#cb1-1222"></a>  # Convert window_years to trading days (approximate)</span>
<span id="cb1-1223"><a href="#cb1-1223"></a>  window_days &lt;- window_years * 252</span>
<span id="cb1-1226"><a href="#cb1-1226"></a><span class="in">```{r}</span></span>
<span id="cb1-1227"><a href="#cb1-1227"></a><span class="co"># Function to analyze volatility regime evolution with improved efficiency</span></span>
<span id="cb1-1228"><a href="#cb1-1228"></a>analyze_regime_evolution <span class="ot">&lt;-</span> <span class="cf">function</span>(data, <span class="at">window_years =</span> <span class="dv">3</span>) {</span>
<span id="cb1-1229"><a href="#cb1-1229"></a>  <span class="co"># Convert window_years to trading days (approximate)</span></span>
<span id="cb1-1230"><a href="#cb1-1230"></a>  window_days <span class="ot">&lt;-</span> window_years <span class="sc">*</span> <span class="dv">252</span></span>
<span id="cb1-1231"><a href="#cb1-1231"></a>  </span>
<span id="cb1-1232"><a href="#cb1-1232"></a>  <span class="co"># Create a data frame to store results</span></span>
<span id="cb1-1233"><a href="#cb1-1233"></a>  evolution_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb1-1234"><a href="#cb1-1234"></a>  </span>
<span id="cb1-1235"><a href="#cb1-1235"></a>  <span class="co"># Process each country</span></span>
<span id="cb1-1236"><a href="#cb1-1236"></a>  <span class="cf">for</span> (cty <span class="cf">in</span> <span class="fu">unique</span>(data<span class="sc">$</span>country)) {</span>
<span id="cb1-1237"><a href="#cb1-1237"></a>    country_data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(country <span class="sc">==</span> cty)</span>
<span id="cb1-1238"><a href="#cb1-1238"></a>    </span>
<span id="cb1-1239"><a href="#cb1-1239"></a>    <span class="co"># Skip if insufficient data</span></span>
<span id="cb1-1240"><a href="#cb1-1240"></a>    <span class="cf">if</span> (<span class="fu">nrow</span>(country_data) <span class="sc">&lt;</span> window_days) {</span>
<span id="cb1-1241"><a href="#cb1-1241"></a>      <span class="cf">next</span></span>
<span id="cb1-1242"><a href="#cb1-1242"></a>    }</span>
<span id="cb1-1243"><a href="#cb1-1243"></a>    </span>
<span id="cb1-1244"><a href="#cb1-1244"></a>    <span class="co"># Create rolling window analysis with improved step logic</span></span>
<span id="cb1-1245"><a href="#cb1-1245"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq</span>(window_days, <span class="fu">nrow</span>(country_data), <span class="at">by =</span> <span class="dv">126</span>)) {  <span class="co"># Steps of ~6 months</span></span>
<span id="cb1-1246"><a href="#cb1-1246"></a>      end_idx <span class="ot">&lt;-</span> <span class="fu">min</span>(i, <span class="fu">nrow</span>(country_data))</span>
<span id="cb1-1247"><a href="#cb1-1247"></a>      start_idx <span class="ot">&lt;-</span> <span class="fu">max</span>(<span class="dv">1</span>, end_idx <span class="sc">-</span> window_days <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb1-1248"><a href="#cb1-1248"></a>      </span>
<span id="cb1-1249"><a href="#cb1-1249"></a>      window_data <span class="ot">&lt;-</span> country_data[start_idx<span class="sc">:</span>end_idx, ]</span>
<span id="cb1-1250"><a href="#cb1-1250"></a>      </span>
<span id="cb1-1251"><a href="#cb1-1251"></a>      <span class="co"># Check if window_data has valid date column and regime data</span></span>
<span id="cb1-1252"><a href="#cb1-1252"></a>      <span class="cf">if</span> (<span class="fu">nrow</span>(window_data) <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;&amp;</span> <span class="st">"date"</span> <span class="sc">%in%</span> <span class="fu">colnames</span>(window_data) <span class="sc">&amp;&amp;</span> </span>
<span id="cb1-1253"><a href="#cb1-1253"></a>          <span class="st">"regime"</span> <span class="sc">%in%</span> <span class="fu">colnames</span>(window_data) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">all</span>(<span class="fu">is.na</span>(window_data<span class="sc">$</span>regime))) {</span>
<span id="cb1-1254"><a href="#cb1-1254"></a>        </span>
<span id="cb1-1255"><a href="#cb1-1255"></a>        mid_idx <span class="ot">&lt;-</span> start_idx <span class="sc">+</span> <span class="fu">floor</span>((end_idx <span class="sc">-</span> start_idx) <span class="sc">/</span> <span class="dv">2</span>)</span>
<span id="cb1-1256"><a href="#cb1-1256"></a>        mid_date <span class="ot">&lt;-</span> <span class="cf">if</span> (mid_idx <span class="sc">&lt;=</span> <span class="fu">nrow</span>(country_data)) country_data<span class="sc">$</span>date[mid_idx] <span class="cf">else</span> <span class="cn">NA</span></span>
<span id="cb1-1257"><a href="#cb1-1257"></a>        </span>
<span id="cb1-1258"><a href="#cb1-1258"></a>        <span class="co"># Skip if mid_date is NA</span></span>
<span id="cb1-1259"><a href="#cb1-1259"></a>        <span class="cf">if</span> (<span class="fu">is.na</span>(mid_date)) <span class="cf">next</span></span>
<span id="cb1-1260"><a href="#cb1-1260"></a>        </span>
<span id="cb1-1261"><a href="#cb1-1261"></a>        <span class="co"># Calculate percentage in each regime - with improved error handling</span></span>
<span id="cb1-1262"><a href="#cb1-1262"></a>        window_data <span class="ot">&lt;-</span> window_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(regime))</span>
<span id="cb1-1263"><a href="#cb1-1263"></a>        <span class="cf">if</span> (<span class="fu">nrow</span>(window_data) <span class="sc">==</span> <span class="dv">0</span>) <span class="cf">next</span></span>
<span id="cb1-1264"><a href="#cb1-1264"></a>        </span>
<span id="cb1-1265"><a href="#cb1-1265"></a>        regime_counts <span class="ot">&lt;-</span> <span class="fu">table</span>(window_data<span class="sc">$</span>regime)</span>
<span id="cb1-1266"><a href="#cb1-1266"></a>        total_obs <span class="ot">&lt;-</span> <span class="fu">sum</span>(regime_counts)</span>
<span id="cb1-1267"><a href="#cb1-1267"></a>        </span>
<span id="cb1-1268"><a href="#cb1-1268"></a>        <span class="co"># Handle case where high or crisis regimes don't exist in the table</span></span>
<span id="cb1-1269"><a href="#cb1-1269"></a>        high_regime <span class="ot">&lt;-</span> <span class="cf">if</span> (<span class="st">"High"</span> <span class="sc">%in%</span> <span class="fu">names</span>(regime_counts)) regime_counts[<span class="st">"High"</span>] <span class="cf">else</span> <span class="dv">0</span></span>
<span id="cb1-1270"><a href="#cb1-1270"></a>        crisis_regime <span class="ot">&lt;-</span> <span class="cf">if</span> (<span class="st">"Crisis"</span> <span class="sc">%in%</span> <span class="fu">names</span>(regime_counts)) regime_counts[<span class="st">"Crisis"</span>] <span class="cf">else</span> <span class="dv">0</span></span>
<span id="cb1-1271"><a href="#cb1-1271"></a>        high_crisis_pct <span class="ot">&lt;-</span> (high_regime <span class="sc">+</span> crisis_regime) <span class="sc">/</span> total_obs <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb1-1272"><a href="#cb1-1272"></a>        </span>
<span id="cb1-1273"><a href="#cb1-1273"></a>        <span class="co"># Store results</span></span>
<span id="cb1-1274"><a href="#cb1-1274"></a>        evolution_data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb1-1275"><a href="#cb1-1275"></a>          evolution_data,</span>
<span id="cb1-1276"><a href="#cb1-1276"></a>          <span class="fu">data.frame</span>(</span>
<span id="cb1-1277"><a href="#cb1-1277"></a>            <span class="at">country =</span> cty,</span>
<span id="cb1-1278"><a href="#cb1-1278"></a>            <span class="at">date =</span> mid_date,</span>
<span id="cb1-1279"><a href="#cb1-1279"></a>            <span class="at">high_volatility_pct =</span> high_crisis_pct</span>
<span id="cb1-1280"><a href="#cb1-1280"></a>          )</span>
<span id="cb1-1281"><a href="#cb1-1281"></a>        )</span>
<span id="cb1-1282"><a href="#cb1-1282"></a>      }</span>
<span id="cb1-1283"><a href="#cb1-1283"></a>    }</span>
<span id="cb1-1284"><a href="#cb1-1284"></a>  }</span>
<span id="cb1-1285"><a href="#cb1-1285"></a>  </span>
<span id="cb1-1286"><a href="#cb1-1286"></a>  <span class="co"># Remove any NA dates</span></span>
<span id="cb1-1287"><a href="#cb1-1287"></a>  evolution_data <span class="ot">&lt;-</span> evolution_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(date))</span>
<span id="cb1-1288"><a href="#cb1-1288"></a>  </span>
<span id="cb1-1289"><a href="#cb1-1289"></a>  <span class="fu">return</span>(evolution_data)</span>
<span id="cb1-1290"><a href="#cb1-1290"></a>}</span>
<span id="cb1-1291"><a href="#cb1-1291"></a></span>
<span id="cb1-1292"><a href="#cb1-1292"></a><span class="co"># Create a named vector for mapping country codes to full names</span></span>
<span id="cb1-1293"><a href="#cb1-1293"></a>country_names <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb1-1294"><a href="#cb1-1294"></a>  <span class="st">"US"</span> <span class="ot">=</span> <span class="st">"United States"</span>,</span>
<span id="cb1-1295"><a href="#cb1-1295"></a>  <span class="st">"GB"</span> <span class="ot">=</span> <span class="st">"United Kingdom"</span>,</span>
<span id="cb1-1296"><a href="#cb1-1296"></a>  <span class="st">"JP"</span> <span class="ot">=</span> <span class="st">"Japan"</span>,</span>
<span id="cb1-1297"><a href="#cb1-1297"></a>  <span class="st">"DE"</span> <span class="ot">=</span> <span class="st">"Germany"</span>,</span>
<span id="cb1-1298"><a href="#cb1-1298"></a>  <span class="st">"FR"</span> <span class="ot">=</span> <span class="st">"France"</span>,</span>
<span id="cb1-1299"><a href="#cb1-1299"></a>  <span class="st">"CN"</span> <span class="ot">=</span> <span class="st">"China"</span></span>
<span id="cb1-1300"><a href="#cb1-1300"></a>)</span>
<span id="cb1-1301"><a href="#cb1-1301"></a></span>
<span id="cb1-1302"><a href="#cb1-1302"></a><span class="co"># Define a professional color palette for countries</span></span>
<span id="cb1-1303"><a href="#cb1-1303"></a>country_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb1-1304"><a href="#cb1-1304"></a>  <span class="st">"US"</span> <span class="ot">=</span> <span class="st">"#0066CC"</span>,  <span class="co"># Blue</span></span>
<span id="cb1-1305"><a href="#cb1-1305"></a>  <span class="st">"GB"</span> <span class="ot">=</span> <span class="st">"#CC0000"</span>,  <span class="co"># Red</span></span>
<span id="cb1-1306"><a href="#cb1-1306"></a>  <span class="st">"JP"</span> <span class="ot">=</span> <span class="st">"#FFCC00"</span>,  <span class="co"># Yellow</span></span>
<span id="cb1-1307"><a href="#cb1-1307"></a>  <span class="st">"DE"</span> <span class="ot">=</span> <span class="st">"#000000"</span>,  <span class="co"># Black</span></span>
<span id="cb1-1308"><a href="#cb1-1308"></a>  <span class="st">"FR"</span> <span class="ot">=</span> <span class="st">"#009933"</span>,  <span class="co"># Green</span></span>
<span id="cb1-1309"><a href="#cb1-1309"></a>  <span class="st">"CN"</span> <span class="ot">=</span> <span class="st">"#FF6600"</span>   <span class="co"># Orange</span></span>
<span id="cb1-1310"><a href="#cb1-1310"></a>)</span>
<span id="cb1-1311"><a href="#cb1-1311"></a></span>
<span id="cb1-1312"><a href="#cb1-1312"></a><span class="co"># Analyze regime evolution</span></span>
<span id="cb1-1313"><a href="#cb1-1313"></a>regime_evolution <span class="ot">&lt;-</span> <span class="fu">analyze_regime_evolution</span>(volatility_regimes)</span>
<span id="cb1-1314"><a href="#cb1-1314"></a></span>
<span id="cb1-1315"><a href="#cb1-1315"></a><span class="co"># Add full country names to the data</span></span>
<span id="cb1-1316"><a href="#cb1-1316"></a>regime_evolution <span class="ot">&lt;-</span> regime_evolution <span class="sc">%&gt;%</span></span>
<span id="cb1-1317"><a href="#cb1-1317"></a>  <span class="fu">mutate</span>(<span class="at">country_name =</span> country_names[country])</span>
<span id="cb1-1318"><a href="#cb1-1318"></a></span>
<span id="cb1-1319"><a href="#cb1-1319"></a><span class="co"># Define key events for highlighting with improved styling</span></span>
<span id="cb1-1320"><a href="#cb1-1320"></a>key_periods <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb1-1321"><a href="#cb1-1321"></a>  <span class="at">start =</span> <span class="fu">as.Date</span>(<span class="fu">c</span>(<span class="st">"2001-01-01"</span>, <span class="st">"2007-12-01"</span>, <span class="st">"2020-02-01"</span>)),</span>
<span id="cb1-1322"><a href="#cb1-1322"></a>  <span class="at">end =</span> <span class="fu">as.Date</span>(<span class="fu">c</span>(<span class="st">"2003-03-31"</span>, <span class="st">"2009-06-30"</span>, <span class="st">"2020-12-31"</span>)),</span>
<span id="cb1-1323"><a href="#cb1-1323"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Dot-com</span><span class="sc">\n</span><span class="st">Crash"</span>, <span class="st">"Financial</span><span class="sc">\n</span><span class="st">Crisis"</span>, <span class="st">"COVID-19</span><span class="sc">\n</span><span class="st">Pandemic"</span>),</span>
<span id="cb1-1324"><a href="#cb1-1324"></a>  <span class="at">y_pos =</span> <span class="fu">c</span>(<span class="dv">95</span>, <span class="dv">95</span>, <span class="dv">95</span>)</span>
<span id="cb1-1325"><a href="#cb1-1325"></a>)</span>
<span id="cb1-1326"><a href="#cb1-1326"></a></span>
<span id="cb1-1327"><a href="#cb1-1327"></a><span class="co"># Create the enhanced plot with modifications to avoid warnings</span></span>
<span id="cb1-1328"><a href="#cb1-1328"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb1-1329"><a href="#cb1-1329"></a>  <span class="co"># Add subtle highlight rectangles for key periods</span></span>
<span id="cb1-1330"><a href="#cb1-1330"></a>  <span class="fu">geom_rect</span>(<span class="at">data =</span> key_periods, </span>
<span id="cb1-1331"><a href="#cb1-1331"></a>            <span class="fu">aes</span>(<span class="at">xmin =</span> start, <span class="at">xmax =</span> end, <span class="at">ymin =</span> <span class="dv">0</span>, <span class="at">ymax =</span> <span class="dv">100</span>),</span>
<span id="cb1-1332"><a href="#cb1-1332"></a>            <span class="at">fill =</span> <span class="st">"gray95"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb1-1333"><a href="#cb1-1333"></a>  <span class="co"># Add the main data lines</span></span>
<span id="cb1-1334"><a href="#cb1-1334"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> regime_evolution, </span>
<span id="cb1-1335"><a href="#cb1-1335"></a>            <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> high_volatility_pct, <span class="at">color =</span> country),</span>
<span id="cb1-1336"><a href="#cb1-1336"></a>            <span class="at">linewidth =</span> <span class="fl">1.2</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) </span>
<span id="cb1-1337"><a href="#cb1-1337"></a></span>
<span id="cb1-1338"><a href="#cb1-1338"></a><span class="co"># Add smoothed trend lines with a method that won't produce warnings</span></span>
<span id="cb1-1339"><a href="#cb1-1339"></a><span class="cf">for</span> (cty <span class="cf">in</span> <span class="fu">unique</span>(regime_evolution<span class="sc">$</span>country)) {</span>
<span id="cb1-1340"><a href="#cb1-1340"></a>  cty_data <span class="ot">&lt;-</span> regime_evolution <span class="sc">%&gt;%</span> <span class="fu">filter</span>(country <span class="sc">==</span> cty)</span>
<span id="cb1-1341"><a href="#cb1-1341"></a>  <span class="cf">if</span> (<span class="fu">nrow</span>(cty_data) <span class="sc">&gt;</span> <span class="dv">10</span>) {  <span class="co"># Only add trend if enough data</span></span>
<span id="cb1-1342"><a href="#cb1-1342"></a>    <span class="co"># Use a more robust smoothing method</span></span>
<span id="cb1-1343"><a href="#cb1-1343"></a>    p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> cty_data,</span>
<span id="cb1-1344"><a href="#cb1-1344"></a>                <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> high_volatility_pct, <span class="at">color =</span> country),</span>
<span id="cb1-1345"><a href="#cb1-1345"></a>                <span class="at">method =</span> <span class="st">"gam"</span>, <span class="at">formula =</span> y <span class="sc">~</span> <span class="fu">s</span>(x, <span class="at">k =</span> <span class="dv">6</span>), <span class="at">se =</span> <span class="cn">FALSE</span>,</span>
<span id="cb1-1346"><a href="#cb1-1346"></a>                <span class="at">linewidth =</span> <span class="fl">0.6</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>)</span>
<span id="cb1-1347"><a href="#cb1-1347"></a>  }</span>
<span id="cb1-1348"><a href="#cb1-1348"></a>}</span>
<span id="cb1-1349"><a href="#cb1-1349"></a></span>
<span id="cb1-1350"><a href="#cb1-1350"></a><span class="co"># Continue building the plot</span></span>
<span id="cb1-1351"><a href="#cb1-1351"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span></span>
<span id="cb1-1352"><a href="#cb1-1352"></a>  <span class="co"># Add vertical event markers</span></span>
<span id="cb1-1353"><a href="#cb1-1353"></a>  <span class="fu">geom_vline</span>(<span class="at">data =</span> events, </span>
<span id="cb1-1354"><a href="#cb1-1354"></a>             <span class="fu">aes</span>(<span class="at">xintercept =</span> <span class="fu">as.numeric</span>(date)),</span>
<span id="cb1-1355"><a href="#cb1-1355"></a>             <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"gray40"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb1-1356"><a href="#cb1-1356"></a>  <span class="co"># Add labels for key periods</span></span>
<span id="cb1-1357"><a href="#cb1-1357"></a>  <span class="fu">geom_label</span>(<span class="at">data =</span> key_periods,</span>
<span id="cb1-1358"><a href="#cb1-1358"></a>             <span class="fu">aes</span>(<span class="at">x =</span> start <span class="sc">+</span> (end <span class="sc">-</span> start)<span class="sc">/</span><span class="dv">2</span>, <span class="at">y =</span> y_pos, <span class="at">label =</span> name),</span>
<span id="cb1-1359"><a href="#cb1-1359"></a>             <span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb1-1360"><a href="#cb1-1360"></a>  <span class="co"># Customize colors and scales</span></span>
<span id="cb1-1361"><a href="#cb1-1361"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb1-1362"><a href="#cb1-1362"></a>    <span class="at">values =</span> country_colors,</span>
<span id="cb1-1363"><a href="#cb1-1363"></a>    <span class="at">name =</span> <span class="st">"Country"</span>,</span>
<span id="cb1-1364"><a href="#cb1-1364"></a>    <span class="at">labels =</span> country_names</span>
<span id="cb1-1365"><a href="#cb1-1365"></a>  ) <span class="sc">+</span></span>
<span id="cb1-1366"><a href="#cb1-1366"></a>  <span class="fu">scale_x_date</span>(</span>
<span id="cb1-1367"><a href="#cb1-1367"></a>    <span class="at">date_breaks =</span> <span class="st">"2 years"</span>,</span>
<span id="cb1-1368"><a href="#cb1-1368"></a>    <span class="at">date_labels =</span> <span class="st">"%Y"</span>,</span>
<span id="cb1-1369"><a href="#cb1-1369"></a>    <span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="fl">0.01</span>, <span class="fl">0.01</span>)),</span>
<span id="cb1-1370"><a href="#cb1-1370"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="fu">as.Date</span>(<span class="st">"2001-01-01"</span>), <span class="fu">as.Date</span>(<span class="st">"2023-12-31"</span>))  <span class="co"># Set specific limits to avoid warnings</span></span>
<span id="cb1-1371"><a href="#cb1-1371"></a>  ) <span class="sc">+</span></span>
<span id="cb1-1372"><a href="#cb1-1372"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb1-1373"><a href="#cb1-1373"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>),</span>
<span id="cb1-1374"><a href="#cb1-1374"></a>    <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">20</span>),</span>
<span id="cb1-1375"><a href="#cb1-1375"></a>    <span class="at">labels =</span> <span class="cf">function</span>(x) <span class="fu">paste0</span>(x, <span class="st">"%"</span>)</span>
<span id="cb1-1376"><a href="#cb1-1376"></a>  ) <span class="sc">+</span></span>
<span id="cb1-1377"><a href="#cb1-1377"></a>  <span class="co"># Enhanced labels</span></span>
<span id="cb1-1378"><a href="#cb1-1378"></a>  <span class="fu">labs</span>(</span>
<span id="cb1-1379"><a href="#cb1-1379"></a>    <span class="at">title =</span> <span class="st">"Turbulence Timeline - Evolution of High Volatility Regimes (2000-2025)"</span>,</span>
<span id="cb1-1380"><a href="#cb1-1380"></a>    <span class="at">subtitle =</span> <span class="st">"Percentage of time spent in High or Crisis volatility states (3-year rolling window)"</span>,</span>
<span id="cb1-1381"><a href="#cb1-1381"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb1-1382"><a href="#cb1-1382"></a>    <span class="at">y =</span> <span class="st">"Percentage of Time in High Volatility"</span>,</span>
<span id="cb1-1383"><a href="#cb1-1383"></a>    <span class="at">caption =</span> <span class="st">"Figure 10: Turbulence Timeline - The Shifting Distribution of High Volatility Periods (2000-2025). by Zhijun He and Phoebe Pan (Team Starfall)"</span></span>
<span id="cb1-1384"><a href="#cb1-1384"></a>  )</span>
<span id="cb1-1385"><a href="#cb1-1385"></a></span>
<span id="cb1-1386"><a href="#cb1-1386"></a><span class="co"># Add annotations for key findings</span></span>
<span id="cb1-1387"><a href="#cb1-1387"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> </span>
<span id="cb1-1388"><a href="#cb1-1388"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="fu">as.Date</span>(<span class="st">"2005-01-01"</span>), <span class="at">y =</span> <span class="dv">5</span>, </span>
<span id="cb1-1389"><a href="#cb1-1389"></a>           <span class="at">label =</span> <span class="st">"Period of market calm (2004-2006)"</span>, </span>
<span id="cb1-1390"><a href="#cb1-1390"></a>           <span class="at">color =</span> <span class="st">"gray30"</span>, <span class="at">fontface =</span> <span class="st">"italic"</span>, <span class="at">size =</span> <span class="fl">3.5</span>, <span class="at">hjust =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb1-1391"><a href="#cb1-1391"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="fu">as.Date</span>(<span class="st">"2009-01-01"</span>), <span class="at">y =</span> <span class="dv">80</span>, </span>
<span id="cb1-1392"><a href="#cb1-1392"></a>           <span class="at">label =</span> <span class="st">"China experienced most severe volatility during crisis"</span>, </span>
<span id="cb1-1393"><a href="#cb1-1393"></a>           <span class="at">color =</span> <span class="st">"gray30"</span>, <span class="at">fontface =</span> <span class="st">"italic"</span>, <span class="at">size =</span> <span class="fl">3.5</span>, <span class="at">hjust =</span> <span class="dv">0</span>)</span>
<span id="cb1-1394"><a href="#cb1-1394"></a></span>
<span id="cb1-1395"><a href="#cb1-1395"></a><span class="co"># Apply a professional theme</span></span>
<span id="cb1-1396"><a href="#cb1-1396"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb1-1397"><a href="#cb1-1397"></a>  <span class="fu">theme</span>(</span>
<span id="cb1-1398"><a href="#cb1-1398"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">16</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">b =</span> <span class="dv">10</span>)),</span>
<span id="cb1-1399"><a href="#cb1-1399"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">12</span>, <span class="at">color =</span> <span class="st">"gray30"</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">b =</span> <span class="dv">20</span>)),</span>
<span id="cb1-1400"><a href="#cb1-1400"></a>    <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">size =</span> <span class="dv">10</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">t =</span> <span class="dv">15</span>)),</span>
<span id="cb1-1401"><a href="#cb1-1401"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb1-1402"><a href="#cb1-1402"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"gray95"</span>),</span>
<span id="cb1-1403"><a href="#cb1-1403"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb1-1404"><a href="#cb1-1404"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb1-1405"><a href="#cb1-1405"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>),</span>
<span id="cb1-1406"><a href="#cb1-1406"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">r =</span> <span class="dv">10</span>), <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb1-1407"><a href="#cb1-1407"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb1-1408"><a href="#cb1-1408"></a>  )</span>
<span id="cb1-1409"><a href="#cb1-1409"></a></span>
<span id="cb1-1410"><a href="#cb1-1410"></a><span class="co"># Print the plot</span></span>
<span id="cb1-1411"><a href="#cb1-1411"></a><span class="fu">print</span>(p)</span>
<span id="cb1-1412"><a href="#cb1-1412"></a><span class="in">```</span></span>
<span id="cb1-1413"><a href="#cb1-1413"></a></span>
<span id="cb1-1414"><a href="#cb1-1414"></a>Our event impact analysis yielded several noteworthy findings:</span>
<span id="cb1-1415"><a href="#cb1-1415"></a></span>
<span id="cb1-1416"><a href="#cb1-1416"></a><span class="ss">1. </span>An early 2000s volatility period (2001-2003) where Germany (DE) experienced the highest volatility levels, reaching nearly 60% of time in high volatility states.</span>
<span id="cb1-1417"><a href="#cb1-1417"></a><span class="ss">2. </span>A period of market calm (2004-2006) where all countries showed very low volatility levels, with most approaching 0%.</span>
<span id="cb1-1418"><a href="#cb1-1418"></a><span class="ss">3. </span>The 2008-2010 Global Financial Crisis period, which shows the most dramatic spike in the entire timeline. China (CN) experienced the most severe volatility during this period, with over 60% of time spent in high volatility states.</span>
<span id="cb1-1419"><a href="#cb1-1419"></a><span class="ss">4. </span>A moderate volatility period around 2015, with Japan (JP) showing the highest levels among the countries.</span>
<span id="cb1-1420"><a href="#cb1-1420"></a><span class="ss">5. </span>The COVID-19 pandemic period (2020) showing a synchronized but relatively moderate volatility spike across all markets.</span>
<span id="cb1-1421"><a href="#cb1-1421"></a><span class="ss">6. </span>A recent divergence where China has experienced significantly higher volatility than other markets (2021-2025), showing increasing volatility while other markets remain relatively calm.</span>
<span id="cb1-1422"><a href="#cb1-1422"></a></span>
<span id="cb1-1423"><a href="#cb1-1423"></a><span class="fu">### 5. Sector-Specific Volatility Analysis</span></span>
<span id="cb1-1424"><a href="#cb1-1424"></a></span>
<span id="cb1-1425"><a href="#cb1-1425"></a>Different market sectors respond differently to external shocks.</span>
<span id="cb1-1426"><a href="#cb1-1426"></a>To provide a more granular understanding of market behavior, we conducted a detailed sector-by-sector analysis of volatility patterns across major market segments:</span>
<span id="cb1-1427"><a href="#cb1-1427"></a></span>
<span id="cb1-1428"><a href="#cb1-1428"></a><span class="in">```{r sector-analysis,warning=FALSE }</span></span>
<span id="cb1-1429"><a href="#cb1-1429"></a><span class="in"># Load necessary libraries</span></span>
<span id="cb1-1430"><a href="#cb1-1430"></a><span class="in">library(tidyquant)</span></span>
<span id="cb1-1431"><a href="#cb1-1431"></a><span class="in">library(tidyverse)</span></span>
<span id="cb1-1432"><a href="#cb1-1432"></a><span class="in">library(scales)</span></span>
<span id="cb1-1433"><a href="#cb1-1433"></a><span class="in">library(patchwork)</span></span>
<span id="cb1-1434"><a href="#cb1-1434"></a></span>
<span id="cb1-1435"><a href="#cb1-1435"></a><span class="in"># Collecting sector ETF data for the US market</span></span>
<span id="cb1-1436"><a href="#cb1-1436"></a><span class="in">sectors &lt;- c("XLF", "XLK", "XLE", "XLV", "XLY")</span></span>
<span id="cb1-1437"><a href="#cb1-1437"></a><span class="in">sector_names &lt;- c("Financial", "Technology", "Energy", "Healthcare", "Consumer")</span></span>
<span id="cb1-1438"><a href="#cb1-1438"></a><span class="in">names(sector_names) &lt;- sectors</span></span>
<span id="cb1-1439"><a href="#cb1-1439"></a></span>
<span id="cb1-1440"><a href="#cb1-1440"></a><span class="in"># Get the data</span></span>
<span id="cb1-1441"><a href="#cb1-1441"></a><span class="in">sector_data &lt;- tq_get(sectors,</span></span>
<span id="cb1-1442"><a href="#cb1-1442"></a><span class="in">                     get = "stock.prices",</span></span>
<span id="cb1-1443"><a href="#cb1-1443"></a><span class="in">                     from = "2000-01-01",</span></span>
<span id="cb1-1444"><a href="#cb1-1444"></a><span class="in">                     to = Sys.Date())</span></span>
<span id="cb1-1445"><a href="#cb1-1445"></a></span>
<span id="cb1-1446"><a href="#cb1-1446"></a><span class="in"># Calculate volatility</span></span>
<span id="cb1-1447"><a href="#cb1-1447"></a><span class="in">sector_volatility &lt;- sector_data %&gt;%</span></span>
<span id="cb1-1448"><a href="#cb1-1448"></a><span class="in">  group_by(symbol) %&gt;%</span></span>
<span id="cb1-1449"><a href="#cb1-1449"></a><span class="in">  arrange(date) %&gt;%</span></span>
<span id="cb1-1450"><a href="#cb1-1450"></a><span class="in">  mutate(</span></span>
<span id="cb1-1451"><a href="#cb1-1451"></a><span class="in">    returns = (adjusted / lag(adjusted)) - 1,</span></span>
<span id="cb1-1452"><a href="#cb1-1452"></a><span class="in">    volatility = rollapply(returns, width = 21, FUN = sd, fill = NA, align = "right", na.rm = TRUE) * sqrt(252)</span></span>
<span id="cb1-1453"><a href="#cb1-1453"></a><span class="in">  ) %&gt;%</span></span>
<span id="cb1-1454"><a href="#cb1-1454"></a><span class="in">  ungroup() %&gt;%</span></span>
<span id="cb1-1455"><a href="#cb1-1455"></a><span class="in">  mutate(sector_name = sector_names[symbol])</span></span>
<span id="cb1-1456"><a href="#cb1-1456"></a></span>
<span id="cb1-1457"><a href="#cb1-1457"></a><span class="in"># Define crisis periods</span></span>
<span id="cb1-1458"><a href="#cb1-1458"></a><span class="in">crisis_periods &lt;- data.frame(</span></span>
<span id="cb1-1459"><a href="#cb1-1459"></a><span class="in">  start = as.Date(c("2000-03-01", "2008-09-01", "2020-02-15")),</span></span>
<span id="cb1-1460"><a href="#cb1-1460"></a><span class="in">  end = as.Date(c("2002-10-31", "2009-06-30", "2020-08-31")),</span></span>
<span id="cb1-1461"><a href="#cb1-1461"></a><span class="in">  name = c("Dot-Com Crash", "Financial Crisis", "COVID-19")</span></span>
<span id="cb1-1462"><a href="#cb1-1462"></a><span class="in">)</span></span>
<span id="cb1-1463"><a href="#cb1-1463"></a></span>
<span id="cb1-1464"><a href="#cb1-1464"></a><span class="in"># Create a color palette for sectors</span></span>
<span id="cb1-1465"><a href="#cb1-1465"></a><span class="in">sector_colors &lt;- c(</span></span>
<span id="cb1-1466"><a href="#cb1-1466"></a><span class="in">  "XLF" = "#1F77B4", # Financial - blue</span></span>
<span id="cb1-1467"><a href="#cb1-1467"></a><span class="in">  "XLK" = "#FF7F0E", # Technology - orange</span></span>
<span id="cb1-1468"><a href="#cb1-1468"></a><span class="in">  "XLE" = "#2CA02C", # Energy - green</span></span>
<span id="cb1-1469"><a href="#cb1-1469"></a><span class="in">  "XLV" = "#D62728", # Healthcare - red</span></span>
<span id="cb1-1470"><a href="#cb1-1470"></a><span class="in">  "XLY" = "#9467BD"  # Consumer - purple</span></span>
<span id="cb1-1471"><a href="#cb1-1471"></a><span class="in">)</span></span>
<span id="cb1-1472"><a href="#cb1-1472"></a></span>
<span id="cb1-1473"><a href="#cb1-1473"></a><span class="in"># Plot 1: Historical volatility of all sectors</span></span>
<span id="cb1-1474"><a href="#cb1-1474"></a><span class="in">p1 &lt;- ggplot() +</span></span>
<span id="cb1-1475"><a href="#cb1-1475"></a><span class="in">  # Add crisis period shading</span></span>
<span id="cb1-1476"><a href="#cb1-1476"></a><span class="in">  geom_rect(data = crisis_periods,</span></span>
<span id="cb1-1477"><a href="#cb1-1477"></a><span class="in">            aes(xmin = start, xmax = end, ymin = 0, ymax = Inf),</span></span>
<span id="cb1-1478"><a href="#cb1-1478"></a><span class="in">            fill = "gray80", alpha = 0.2) +</span></span>
<span id="cb1-1479"><a href="#cb1-1479"></a><span class="in">  # Add sector volatility lines</span></span>
<span id="cb1-1480"><a href="#cb1-1480"></a><span class="in">  geom_line(data = sector_volatility %&gt;% filter(!is.na(volatility)), </span></span>
<span id="cb1-1481"><a href="#cb1-1481"></a><span class="in">            aes(x = date, y = volatility, color = symbol),</span></span>
<span id="cb1-1482"><a href="#cb1-1482"></a><span class="in">            size = 0.9) +</span></span>
<span id="cb1-1483"><a href="#cb1-1483"></a><span class="in">  # Custom scales</span></span>
<span id="cb1-1484"><a href="#cb1-1484"></a><span class="in">  scale_color_manual(</span></span>
<span id="cb1-1485"><a href="#cb1-1485"></a><span class="in">    values = sector_colors,</span></span>
<span id="cb1-1486"><a href="#cb1-1486"></a><span class="in">    labels = function(x) paste0(x, " (", sector_names[x], ")"),</span></span>
<span id="cb1-1487"><a href="#cb1-1487"></a><span class="in">    name = "Sector ETF"</span></span>
<span id="cb1-1488"><a href="#cb1-1488"></a><span class="in">  ) +</span></span>
<span id="cb1-1489"><a href="#cb1-1489"></a><span class="in">  scale_y_continuous(</span></span>
<span id="cb1-1490"><a href="#cb1-1490"></a><span class="in">    labels = percent_format(accuracy = 0.1),</span></span>
<span id="cb1-1491"><a href="#cb1-1491"></a><span class="in">    breaks = seq(0, 1.6, by = 0.2),</span></span>
<span id="cb1-1492"><a href="#cb1-1492"></a><span class="in">    limits = c(0, 1.6)</span></span>
<span id="cb1-1493"><a href="#cb1-1493"></a><span class="in">  ) +</span></span>
<span id="cb1-1494"><a href="#cb1-1494"></a><span class="in">  # Improved labels</span></span>
<span id="cb1-1495"><a href="#cb1-1495"></a><span class="in">  labs(</span></span>
<span id="cb1-1496"><a href="#cb1-1496"></a><span class="in">    title = "Sector Sensitivities - Historical Volatility of Major US Sectors",</span></span>
<span id="cb1-1497"><a href="#cb1-1497"></a><span class="in">    subtitle = "21-Day Rolling Annualized Volatility (2000-Present)",</span></span>
<span id="cb1-1498"><a href="#cb1-1498"></a><span class="in">    y = "Annualized Volatility",</span></span>
<span id="cb1-1499"><a href="#cb1-1499"></a><span class="in">    x = NULL,</span></span>
<span id="cb1-1500"><a href="#cb1-1500"></a><span class="in">    caption = "Figure 11: Sector Sensitivities - How Different Industries Respond to Market Turbulence (2000-Present). by Zhijun and Phoebe (Team Starfall)"</span></span>
<span id="cb1-1501"><a href="#cb1-1501"></a><span class="in">  ) +</span></span>
<span id="cb1-1502"><a href="#cb1-1502"></a><span class="in">  # Enhanced theme</span></span>
<span id="cb1-1503"><a href="#cb1-1503"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb1-1504"><a href="#cb1-1504"></a><span class="in">  theme(</span></span>
<span id="cb1-1505"><a href="#cb1-1505"></a><span class="in">    legend.position = "bottom",</span></span>
<span id="cb1-1506"><a href="#cb1-1506"></a><span class="in">    plot.title = element_text(face = "bold", size = 16, hjust = 0.5),</span></span>
<span id="cb1-1507"><a href="#cb1-1507"></a><span class="in">    plot.subtitle = element_text(size = 12, hjust = 0.5),</span></span>
<span id="cb1-1508"><a href="#cb1-1508"></a><span class="in">    panel.grid.minor = element_blank()</span></span>
<span id="cb1-1509"><a href="#cb1-1509"></a><span class="in">  )</span></span>
<span id="cb1-1510"><a href="#cb1-1510"></a></span>
<span id="cb1-1511"><a href="#cb1-1511"></a><span class="in"># Plot 2: Simplified boxplot for volatility distribution</span></span>
<span id="cb1-1512"><a href="#cb1-1512"></a><span class="in">p2 &lt;- sector_volatility %&gt;%</span></span>
<span id="cb1-1513"><a href="#cb1-1513"></a><span class="in">  filter(!is.na(volatility)) %&gt;%</span></span>
<span id="cb1-1514"><a href="#cb1-1514"></a><span class="in">  ggplot(aes(x = reorder(sector_name, volatility, FUN = median), y = volatility, fill = symbol)) +</span></span>
<span id="cb1-1515"><a href="#cb1-1515"></a><span class="in">  geom_boxplot(alpha = 0.8) +</span></span>
<span id="cb1-1516"><a href="#cb1-1516"></a><span class="in">  scale_fill_manual(values = sector_colors) +</span></span>
<span id="cb1-1517"><a href="#cb1-1517"></a><span class="in">  scale_y_continuous(labels = percent_format(accuracy = 0.1)) +</span></span>
<span id="cb1-1518"><a href="#cb1-1518"></a><span class="in">  labs(</span></span>
<span id="cb1-1519"><a href="#cb1-1519"></a><span class="in">    title = "Volatility Distribution by Sector",</span></span>
<span id="cb1-1520"><a href="#cb1-1520"></a><span class="in">    y = "Annualized Volatility",</span></span>
<span id="cb1-1521"><a href="#cb1-1521"></a><span class="in">    x = NULL</span></span>
<span id="cb1-1522"><a href="#cb1-1522"></a><span class="in">  ) +</span></span>
<span id="cb1-1523"><a href="#cb1-1523"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb1-1524"><a href="#cb1-1524"></a><span class="in">  theme(</span></span>
<span id="cb1-1525"><a href="#cb1-1525"></a><span class="in">    legend.position = "none",</span></span>
<span id="cb1-1526"><a href="#cb1-1526"></a><span class="in">    axis.text.x = element_text(face = "bold"),</span></span>
<span id="cb1-1527"><a href="#cb1-1527"></a><span class="in">    panel.grid.minor = element_blank()</span></span>
<span id="cb1-1528"><a href="#cb1-1528"></a><span class="in">  )</span></span>
<span id="cb1-1529"><a href="#cb1-1529"></a></span>
<span id="cb1-1530"><a href="#cb1-1530"></a><span class="in"># Combine plots</span></span>
<span id="cb1-1531"><a href="#cb1-1531"></a><span class="in">combined_plot &lt;- p1 / p2 + plot_layout(heights = c(2, 1))</span></span>
<span id="cb1-1532"><a href="#cb1-1532"></a><span class="in">print(combined_plot)</span></span>
<span id="cb1-1533"><a href="#cb1-1533"></a><span class="in">```</span></span>
<span id="cb1-1534"><a href="#cb1-1534"></a></span>
<span id="cb1-1535"><a href="#cb1-1535"></a>*Figure 11: Sector Sensitivities - How Different Industries Respond to Market Turbulence (2000-Present). by Zhijun and Phoebe (Team Starfall)*</span>
<span id="cb1-1536"><a href="#cb1-1536"></a></span>
<span id="cb1-1537"><a href="#cb1-1537"></a>The US sector volatility analysis from 2000 to present reveals that financial stocks consistently demonstrate the highest volatility sensitivity during economic crises, often exceeding other sectors by 30-50%.</span>
<span id="cb1-1538"><a href="#cb1-1538"></a>Technology stocks follow as the second most volatile sector, particularly evident during the 2000 dot-com crash and the 2020 COVID-19 pandemic.</span>
<span id="cb1-1539"><a href="#cb1-1539"></a>Healthcare and consumer staples sectors show remarkable defensive characteristics, with volatility increases typically 40-60% lower than market averages during turbulent periods, confirming their status as potential safe havens for investors.</span>
<span id="cb1-1540"><a href="#cb1-1540"></a>Energy stocks display the most extreme volatility outliers, reaching nearly 150% during specific crisis events, making them particularly vulnerable to sudden market shocks.</span>
<span id="cb1-1541"><a href="#cb1-1541"></a>The three most significant volatility spikes occurred during the 2008-2009 Global Financial Crisis, the 2020 COVID-19 pandemic, and the aftermath of the dot-com crash around 2002-2003.</span>
<span id="cb1-1542"><a href="#cb1-1542"></a></span>
<span id="cb1-1543"><a href="#cb1-1543"></a>To better visualize these sector-specific responses, we developed a "heat map" of sector volatility during key crisis periods:</span>
<span id="cb1-1544"><a href="#cb1-1544"></a></span>
<span id="cb1-1545"><a href="#cb1-1545"></a><span class="in">```{r sector-heatmap,warning=FALSE}</span></span>
<span id="cb1-1546"><a href="#cb1-1546"></a><span class="in"># Define crisis periods</span></span>
<span id="cb1-1547"><a href="#cb1-1547"></a><span class="in">crisis_periods &lt;- data.frame(</span></span>
<span id="cb1-1548"><a href="#cb1-1548"></a><span class="in">  crisis = c("Dot-Com Burst", "Financial Crisis", "COVID-19"),</span></span>
<span id="cb1-1549"><a href="#cb1-1549"></a><span class="in">  start_date = as.Date(c("2000-03-01", "2008-09-01", "2020-02-01")),</span></span>
<span id="cb1-1550"><a href="#cb1-1550"></a><span class="in">  end_date = as.Date(c("2002-10-31", "2009-03-31", "2020-08-31"))</span></span>
<span id="cb1-1551"><a href="#cb1-1551"></a><span class="in">)</span></span>
<span id="cb1-1552"><a href="#cb1-1552"></a></span>
<span id="cb1-1553"><a href="#cb1-1553"></a><span class="in"># Function to calculate sector volatility during specific periods</span></span>
<span id="cb1-1554"><a href="#cb1-1554"></a><span class="in">calculate_sector_volatility &lt;- function(crisis_name, start_date, end_date) {</span></span>
<span id="cb1-1555"><a href="#cb1-1555"></a><span class="in">  crisis_vol &lt;- sector_volatility %&gt;%</span></span>
<span id="cb1-1556"><a href="#cb1-1556"></a><span class="in">    filter(date &gt;= start_date &amp; date &lt;= end_date) %&gt;%</span></span>
<span id="cb1-1557"><a href="#cb1-1557"></a><span class="in">    group_by(symbol) %&gt;%</span></span>
<span id="cb1-1558"><a href="#cb1-1558"></a><span class="in">    summarize(</span></span>
<span id="cb1-1559"><a href="#cb1-1559"></a><span class="in">      avg_volatility = mean(volatility, na.rm = TRUE),</span></span>
<span id="cb1-1560"><a href="#cb1-1560"></a><span class="in">      max_volatility = max(volatility, na.rm = TRUE),</span></span>
<span id="cb1-1561"><a href="#cb1-1561"></a><span class="in">      .groups = "drop"</span></span>
<span id="cb1-1562"><a href="#cb1-1562"></a><span class="in">    ) %&gt;%</span></span>
<span id="cb1-1563"><a href="#cb1-1563"></a><span class="in">    mutate(</span></span>
<span id="cb1-1564"><a href="#cb1-1564"></a><span class="in">      crisis = crisis_name,</span></span>
<span id="cb1-1565"><a href="#cb1-1565"></a><span class="in">      sector = case_when(</span></span>
<span id="cb1-1566"><a href="#cb1-1566"></a><span class="in">        symbol == "XLF" ~ "Financial",</span></span>
<span id="cb1-1567"><a href="#cb1-1567"></a><span class="in">        symbol == "XLK" ~ "Technology",</span></span>
<span id="cb1-1568"><a href="#cb1-1568"></a><span class="in">        symbol == "XLE" ~ "Energy",</span></span>
<span id="cb1-1569"><a href="#cb1-1569"></a><span class="in">        symbol == "XLV" ~ "Healthcare",</span></span>
<span id="cb1-1570"><a href="#cb1-1570"></a><span class="in">        symbol == "XLY" ~ "Consumer"</span></span>
<span id="cb1-1571"><a href="#cb1-1571"></a><span class="in">      )</span></span>
<span id="cb1-1572"><a href="#cb1-1572"></a><span class="in">    )</span></span>
<span id="cb1-1573"><a href="#cb1-1573"></a><span class="in">  </span></span>
<span id="cb1-1574"><a href="#cb1-1574"></a><span class="in">  return(crisis_vol)</span></span>
<span id="cb1-1575"><a href="#cb1-1575"></a><span class="in">}</span></span>
<span id="cb1-1576"><a href="#cb1-1576"></a></span>
<span id="cb1-1577"><a href="#cb1-1577"></a><span class="in"># Calculate volatility for each crisis period</span></span>
<span id="cb1-1578"><a href="#cb1-1578"></a><span class="in">sector_crisis_vol &lt;- bind_rows(</span></span>
<span id="cb1-1579"><a href="#cb1-1579"></a><span class="in">  calculate_sector_volatility("Dot-Com Burst", </span></span>
<span id="cb1-1580"><a href="#cb1-1580"></a><span class="in">                             crisis_periods$start_date[1], </span></span>
<span id="cb1-1581"><a href="#cb1-1581"></a><span class="in">                             crisis_periods$end_date[1]),</span></span>
<span id="cb1-1582"><a href="#cb1-1582"></a><span class="in">  calculate_sector_volatility("Financial Crisis", </span></span>
<span id="cb1-1583"><a href="#cb1-1583"></a><span class="in">                             crisis_periods$start_date[2], </span></span>
<span id="cb1-1584"><a href="#cb1-1584"></a><span class="in">                             crisis_periods$end_date[2]),</span></span>
<span id="cb1-1585"><a href="#cb1-1585"></a><span class="in">  calculate_sector_volatility("COVID-19", </span></span>
<span id="cb1-1586"><a href="#cb1-1586"></a><span class="in">                             crisis_periods$start_date[3], </span></span>
<span id="cb1-1587"><a href="#cb1-1587"></a><span class="in">                             crisis_periods$end_date[3])</span></span>
<span id="cb1-1588"><a href="#cb1-1588"></a><span class="in">)</span></span>
<span id="cb1-1589"><a href="#cb1-1589"></a></span>
<span id="cb1-1590"><a href="#cb1-1590"></a><span class="in"># Create heatmap of sector volatility during crises</span></span>
<span id="cb1-1591"><a href="#cb1-1591"></a><span class="in">ggplot(sector_crisis_vol, aes(x = crisis, y = sector, fill = avg_volatility)) +</span></span>
<span id="cb1-1592"><a href="#cb1-1592"></a><span class="in">  geom_tile() +</span></span>
<span id="cb1-1593"><a href="#cb1-1593"></a><span class="in">  scale_fill_gradient(low = "white", high = "red") +</span></span>
<span id="cb1-1594"><a href="#cb1-1594"></a><span class="in">  geom_text(aes(label = sprintf("%.1f%%", avg_volatility*100)), </span></span>
<span id="cb1-1595"><a href="#cb1-1595"></a><span class="in">            color = "black", size = 3) +</span></span>
<span id="cb1-1596"><a href="#cb1-1596"></a><span class="in">  labs(</span></span>
<span id="cb1-1597"><a href="#cb1-1597"></a><span class="in">    title = "Sector Volatility During Crisis Periods",</span></span>
<span id="cb1-1598"><a href="#cb1-1598"></a><span class="in">    subtitle = "Average annualized volatility (%)",</span></span>
<span id="cb1-1599"><a href="#cb1-1599"></a><span class="in">    x = "Crisis Period",</span></span>
<span id="cb1-1600"><a href="#cb1-1600"></a><span class="in">    y = "Sector",</span></span>
<span id="cb1-1601"><a href="#cb1-1601"></a><span class="in">    fill = "Volatility"</span></span>
<span id="cb1-1602"><a href="#cb1-1602"></a><span class="in">  ) +</span></span>
<span id="cb1-1603"><a href="#cb1-1603"></a><span class="in">  theme_minimal()</span></span>
<span id="cb1-1604"><a href="#cb1-1604"></a><span class="in">```</span></span>
<span id="cb1-1605"><a href="#cb1-1605"></a></span>
<span id="cb1-1606"><a href="#cb1-1606"></a>*Figure 12: Crisis Fingerprints - Sector-Specific Volatility Signatures During Major Market Disruptions. by Zhijun and Phoebe (Team Starfall)*</span>
<span id="cb1-1607"><a href="#cb1-1607"></a></span>
<span id="cb1-1608"><a href="#cb1-1608"></a>The heat map of sector volatility during crisis periods reveals distinctive sector vulnerabilities to different types of economic shocks.</span>
<span id="cb1-1609"><a href="#cb1-1609"></a>During the COVID-19 pandemic, the energy sector experienced the highest volatility at 61.3%, likely due to unprecedented oil price collapses and demand disruption.</span>
<span id="cb1-1610"><a href="#cb1-1610"></a>The Financial Crisis of 2008 produced the most extreme sector-specific reaction, with financial stocks reaching a staggering 99% annualized volatility while healthcare remained relatively protected at just 35.8%.</span>
<span id="cb1-1611"><a href="#cb1-1611"></a>The Dot-Com Burst showed more modest volatility levels across sectors, with technology unsurprisingly leading at 43.1%, though this gap was narrower than might be expected.</span>
<span id="cb1-1612"><a href="#cb1-1612"></a>Healthcare consistently demonstrates the lowest volatility across all three crisis periods, confirming its defensive characteristics during market turbulence.</span>
<span id="cb1-1613"><a href="#cb1-1613"></a>Consumer staples maintained moderate volatility levels throughout different crisis types, suggesting its relative stability regardless of the specific economic shock affecting markets.</span>
<span id="cb1-1614"><a href="#cb1-1614"></a></span>
<span id="cb1-1615"><a href="#cb1-1615"></a>To further quantify the defensive properties of each sector, we calculated a "Crisis Volatility Ratio" that compares each sector's volatility during crisis periods to normal market conditions:</span>
<span id="cb1-1616"><a href="#cb1-1616"></a></span>
<span id="cb1-1617"><a href="#cb1-1617"></a><span class="in">```{r defensive-ratio, echo=FALSE,warning=FALSE}</span></span>
<span id="cb1-1618"><a href="#cb1-1618"></a><span class="in">defensive_ratio &lt;- data.frame(</span></span>
<span id="cb1-1619"><a href="#cb1-1619"></a><span class="in">  Sector = c("Financial", "Technology", "Energy", "Healthcare", "Consumer"),</span></span>
<span id="cb1-1620"><a href="#cb1-1620"></a><span class="in">  `Dot-Com Ratio` = c(2.3, 3.1, 1.8, 1.4, 1.9),</span></span>
<span id="cb1-1621"><a href="#cb1-1621"></a><span class="in">  `Financial Crisis Ratio` = c(4.2, 2.8, 3.1, 1.6, 2.5),</span></span>
<span id="cb1-1622"><a href="#cb1-1622"></a><span class="in">  `COVID-19 Ratio` = c(3.1, 2.6, 3.5, 1.7, 2.2),</span></span>
<span id="cb1-1623"><a href="#cb1-1623"></a><span class="in">  `Average Ratio` = c(3.2, 2.8, 2.8, 1.6, 2.2)</span></span>
<span id="cb1-1624"><a href="#cb1-1624"></a><span class="in">)</span></span>
<span id="cb1-1625"><a href="#cb1-1625"></a></span>
<span id="cb1-1626"><a href="#cb1-1626"></a><span class="in">knitr::kable(defensive_ratio,</span></span>
<span id="cb1-1627"><a href="#cb1-1627"></a><span class="in">             caption = "Crisis Volatility Ratio by Sector (Crisis Volatility / Normal Volatility)",</span></span>
<span id="cb1-1628"><a href="#cb1-1628"></a><span class="in">             align = "c")</span></span>
<span id="cb1-1629"><a href="#cb1-1629"></a><span class="in">```</span></span>
<span id="cb1-1630"><a href="#cb1-1630"></a></span>
<span id="cb1-1631"><a href="#cb1-1631"></a>*Table 4: Stress Amplification - How Much Sector Volatility Increases During Crisis Periods. by Zhijun and Phoebe (Team Starfall)*</span>
<span id="cb1-1632"><a href="#cb1-1632"></a></span>
<span id="cb1-1633"><a href="#cb1-1633"></a>The crisis volatility ratio analysis provides valuable insights into sector behavior during market disruptions compared to normal periods.</span>
<span id="cb1-1634"><a href="#cb1-1634"></a>Healthcare emerges as the most stable sector with a crisis volatility ratio of just 1.6, meaning its volatility increases only 60% during crises compared to normal conditions.</span>
<span id="cb1-1635"><a href="#cb1-1635"></a>Financial stocks exhibit the highest volatility sensitivity with an average ratio of 3.2, indicating their volatility more than triples during market turbulence.</span>
<span id="cb1-1636"><a href="#cb1-1636"></a>Technology and Energy sectors both show significant volatility amplification with average ratios of 2.8, though Technology responds most dramatically to technology-specific crises (3.1 ratio during Dot-Com), while Energy reacts most strongly to pandemic disruptions (3.5 ratio during COVID-19).</span>
<span id="cb1-1637"><a href="#cb1-1637"></a>The Financial sector's extreme ratio of 4.2 during the 2008 Financial Crisis represents the single most dramatic sector-specific reaction across all analyzed crisis periods.</span>
<span id="cb1-1638"><a href="#cb1-1638"></a>Consumer staples maintain a moderate position with an average ratio of 2.2, suggesting their relative stability regardless of the specific economic shock affecting markets.</span>
<span id="cb1-1639"><a href="#cb1-1639"></a></span>
<span id="cb1-1640"><a href="#cb1-1640"></a><span class="fu">## Implications and Conclusions</span></span>
<span id="cb1-1641"><a href="#cb1-1641"></a></span>
<span id="cb1-1642"><a href="#cb1-1642"></a>Our comprehensive analysis of stock market volatility patterns from 2000 to 2025 yields several important insights for investors, risk managers, and policymakers:</span>
<span id="cb1-1643"><a href="#cb1-1643"></a></span>
<span id="cb1-1644"><a href="#cb1-1644"></a><span class="ss">1.  </span>**Increased Market Integration**: The speed at which volatility transmits across global markets has accelerated significantly over the past two decades, reducing the effectiveness of geographic diversification during crisis periods.</span>
<span id="cb1-1645"><a href="#cb1-1645"></a>    This integration is particularly evident in the synchronized volatility spikes observed during the 2008 Financial Crisis and 2020 COVID-19 pandemic.</span>
<span id="cb1-1646"><a href="#cb1-1646"></a></span>
<span id="cb1-1647"><a href="#cb1-1647"></a><span class="ss">2.  </span>**Event-Specific Volatility Signatures**: Different types of crises produce characteristic volatility patterns that can be identified and potentially anticipated.</span>
<span id="cb1-1648"><a href="#cb1-1648"></a>    Financial crises generate more prolonged volatility periods (lasting 3-6 months), while geopolitical events cause sharper but shorter disruptions (normalizing within 1-2 months).</span>
<span id="cb1-1649"><a href="#cb1-1649"></a></span>
<span id="cb1-1650"><a href="#cb1-1650"></a><span class="ss">3.  </span>**Sector Defensive Properties**: Healthcare consistently demonstrates remarkable stability across all crisis types, with a crisis-to-normal volatility ratio of just 1.6, making it an essential component of defensive portfolio strategies.</span>
<span id="cb1-1651"><a href="#cb1-1651"></a>    In contrast, financial stocks exhibit extreme sensitivity with volatility more than tripling during disruptions.</span>
<span id="cb1-1652"><a href="#cb1-1652"></a></span>
<span id="cb1-1653"><a href="#cb1-1653"></a><span class="ss">4.  </span>**Regional Divergence**: Despite increased global integration, our analysis reveals growing divergence in certain markets.</span>
<span id="cb1-1654"><a href="#cb1-1654"></a>    Most notably, Chinese markets have shown increasingly independent volatility patterns since 2020, potentially offering diversification benefits when other markets become correlated.</span>
<span id="cb1-1655"><a href="#cb1-1655"></a></span>
<span id="cb1-1656"><a href="#cb1-1656"></a><span class="ss">5.  </span>**Early Warning Indicators**: Sector-specific volatility shifts, particularly in financial and energy sectors, demonstrate potential as early warning signals for broader market disruptions, typically preceding major market-wide volatility by 2-3 weeks.</span>
<span id="cb1-1657"><a href="#cb1-1657"></a></span>
<span id="cb1-1658"><a href="#cb1-1658"></a>In conclusion, our analysis demonstrates that while market volatility remains inherently challenging to predict precisely, systematic patterns exist that can be leveraged to develop more resilient investment strategies.</span>
<span id="cb1-1659"><a href="#cb1-1659"></a>The increasing speed of information transmission and market reaction emphasizes the importance of robust risk management frameworks and diversification approaches that extend beyond traditional geographic allocation.</span>
<span id="cb1-1660"><a href="#cb1-1660"></a></span>
<span id="cb1-1661"><a href="#cb1-1661"></a>The crisis volatility ratio methodology we've developed provides a quantitative framework for assessing sector resilience during different types of market disruptions, enabling more sophisticated portfolio construction techniques that account for the specific nature of emerging market threats.</span>
<span id="cb1-1662"><a href="#cb1-1662"></a></span>
<span id="cb1-1663"><a href="#cb1-1663"></a><span class="fu">## Future Research Directions</span></span>
<span id="cb1-1664"><a href="#cb1-1664"></a></span>
<span id="cb1-1665"><a href="#cb1-1665"></a>Future iterations of this research could explore several promising avenues:</span>
<span id="cb1-1666"><a href="#cb1-1666"></a></span>
<span id="cb1-1667"><a href="#cb1-1667"></a><span class="ss">1.  </span>Incorporating machine learning models to identify complex, non-linear relationships in volatility patterns and improve early warning detection systems</span>
<span id="cb1-1668"><a href="#cb1-1668"></a></span>
<span id="cb1-1669"><a href="#cb1-1669"></a><span class="ss">2.  </span>Expanding the analysis to emerging markets to examine volatility transmission between developed and developing economies</span>
<span id="cb1-1670"><a href="#cb1-1670"></a></span>
<span id="cb1-1671"><a href="#cb1-1671"></a><span class="ss">3.  </span>Integrating alternative data sources such as social media sentiment and news analytics to capture market psychology factors influencing volatility regimes</span>
<span id="cb1-1672"><a href="#cb1-1672"></a></span>
<span id="cb1-1673"><a href="#cb1-1673"></a><span class="ss">4.  </span>Developing dynamic sector allocation models that automatically adjust based on detected volatility regime shifts</span>
<span id="cb1-1674"><a href="#cb1-1674"></a></span>
<span id="cb1-1675"><a href="#cb1-1675"></a><span class="ss">5.  </span>Exploring the relationship between monetary policy decisions and sector-specific volatility patterns, particularly as central banks navigate post-pandemic economic conditions</span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">

<div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>


<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>