<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Phoebe P – Stock Market Volatility: Patterns and Predictions</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../src/EDA - Zhijun He.html" rel="next">
<link href="../index.html" rel="prev">
<script src="../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"implied",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary","functionality","tracking","targeting"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  ,
"language":"en"
  });
});
</script><style>html{ scroll-behavior: smooth; }</style>
<link rel="stylesheet" href="../style/custom.css">
</head>
<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../src/EDA - Phoebe Pan.html">EDA</a></li><li class="breadcrumb-item"><a href="../src/EDA - Phoebe Pan.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Phoebe P</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Starfall</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Report</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">EDA</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/EDA - Phoebe Pan.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Phoebe P</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/EDA - Zhijun He.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Zhijun H</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Teamwork</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/appx/effective teamwork - Zhijun.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Zhijun H</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/appx/effective teamwork - Phoebe.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Phoebe P</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/appx/proposal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">```markdown</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/appx/case-study.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Case Study</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#data-import" id="toc-data-import" class="nav-link" data-scroll-target="#data-import">Data Import</a></li>
  <li><a href="#price-distribution-analysis" id="toc-price-distribution-analysis" class="nav-link" data-scroll-target="#price-distribution-analysis">Price Distribution Analysis</a></li>
  <li><a href="#time-series-analysis" id="toc-time-series-analysis" class="nav-link" data-scroll-target="#time-series-analysis">Time Series Analysis</a></li>
  <li><a href="#volatility-analysis" id="toc-volatility-analysis" class="nav-link" data-scroll-target="#volatility-analysis">Volatility Analysis</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../src/EDA - Phoebe Pan.html">EDA</a></li><li class="breadcrumb-item"><a href="../src/EDA - Phoebe Pan.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Phoebe P</span></a></li></ol></nav><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span class="chapter-title">Phoebe P</span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta column-body">

    
  
    
  </div>
  


</header><section id="introduction" class="level2"><h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>This document contains exploratory data analysis (EDA) for our group project, focusing on stock market volatility patterns and predictors across major global markets from 2000 to 2025. My analysis examines how different markets respond to global events, identifying patterns in price movements and volatility that will inform our predictive modeling efforts.</p>
</section><section id="data-import" class="level2"><h2 class="anchored" data-anchor-id="data-import">Data Import</h2>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Loading necessary packages</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(tidyverse)  <span class="co"># For data manipulation and visualization</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(tidyquant)  <span class="co"># For accessing financial data</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(lubridate)  <span class="co"># For handling dates</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span>(zoo)        <span class="co"># For rolling calculations</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="co"># Selected major global indices for analysis</span></span>
<span id="cb1-7"><a href="#cb1-7"></a>indices <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb1-8"><a href="#cb1-8"></a>  <span class="st">"^GSPC"</span> <span class="ot">=</span> <span class="st">"S&amp;P 500"</span>,       <span class="co"># USA</span></span>
<span id="cb1-9"><a href="#cb1-9"></a>  <span class="st">"^FTSE"</span> <span class="ot">=</span> <span class="st">"FTSE 100"</span>,      <span class="co"># UK</span></span>
<span id="cb1-10"><a href="#cb1-10"></a>  <span class="st">"^N225"</span> <span class="ot">=</span> <span class="st">"Nikkei 225"</span>,    <span class="co"># Japan</span></span>
<span id="cb1-11"><a href="#cb1-11"></a>  <span class="st">"^GDAXI"</span> <span class="ot">=</span> <span class="st">"DAX"</span>,          <span class="co"># Germany</span></span>
<span id="cb1-12"><a href="#cb1-12"></a>  <span class="st">"^FCHI"</span> <span class="ot">=</span> <span class="st">"CAC 40"</span>,        <span class="co"># France</span></span>
<span id="cb1-13"><a href="#cb1-13"></a>  <span class="st">"^HSI"</span> <span class="ot">=</span> <span class="st">"Hang Seng"</span>       <span class="co"># Hong Kong</span></span>
<span id="cb1-14"><a href="#cb1-14"></a>)</span>
<span id="cb1-15"><a href="#cb1-15"></a></span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="co"># Importing daily data for all indices from 2000 onwards</span></span>
<span id="cb1-17"><a href="#cb1-17"></a>market_data <span class="ot">&lt;-</span> <span class="fu">tq_get</span>(</span>
<span id="cb1-18"><a href="#cb1-18"></a>  <span class="fu">names</span>(indices),</span>
<span id="cb1-19"><a href="#cb1-19"></a>  <span class="at">get =</span> <span class="st">"stock.prices"</span>,</span>
<span id="cb1-20"><a href="#cb1-20"></a>  <span class="at">from =</span> <span class="st">"2000-01-01"</span>,</span>
<span id="cb1-21"><a href="#cb1-21"></a>  <span class="at">to =</span> <span class="fu">Sys.Date</span>()</span>
<span id="cb1-22"><a href="#cb1-22"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb1-23"><a href="#cb1-23"></a>  <span class="co"># Adding descriptive names</span></span>
<span id="cb1-24"><a href="#cb1-24"></a>  <span class="fu">mutate</span>(<span class="at">market_index =</span> indices[symbol])</span>
<span id="cb1-25"><a href="#cb1-25"></a></span>
<span id="cb1-26"><a href="#cb1-26"></a><span class="co"># Checking data completeness and quality</span></span>
<span id="cb1-27"><a href="#cb1-27"></a>market_quality <span class="ot">&lt;-</span> market_data <span class="sc">%&gt;%</span></span>
<span id="cb1-28"><a href="#cb1-28"></a>  <span class="fu">group_by</span>(symbol) <span class="sc">%&gt;%</span></span>
<span id="cb1-29"><a href="#cb1-29"></a>  <span class="fu">summarize</span>(</span>
<span id="cb1-30"><a href="#cb1-30"></a>    <span class="at">first_date =</span> <span class="fu">min</span>(date),</span>
<span id="cb1-31"><a href="#cb1-31"></a>    <span class="at">last_date =</span> <span class="fu">max</span>(date),</span>
<span id="cb1-32"><a href="#cb1-32"></a>    <span class="at">trading_days =</span> <span class="fu">n</span>(),</span>
<span id="cb1-33"><a href="#cb1-33"></a>    <span class="at">missing_values =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(adjusted)),</span>
<span id="cb1-34"><a href="#cb1-34"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb1-35"><a href="#cb1-35"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb1-36"><a href="#cb1-36"></a>  <span class="co"># Adding readable index names</span></span>
<span id="cb1-37"><a href="#cb1-37"></a>  <span class="fu">mutate</span>(<span class="at">market_index =</span> indices[symbol]) <span class="sc">%&gt;%</span></span>
<span id="cb1-38"><a href="#cb1-38"></a>  <span class="fu">select</span>(market_index, first_date, last_date, trading_days, missing_values)</span>
<span id="cb1-39"><a href="#cb1-39"></a></span>
<span id="cb1-40"><a href="#cb1-40"></a><span class="co"># Displaying the market data overview</span></span>
<span id="cb1-41"><a href="#cb1-41"></a>market_quality <span class="sc">%&gt;%</span></span>
<span id="cb1-42"><a href="#cb1-42"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Overview of Market Data by Index"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Overview of Market Data by Index</caption>
<thead><tr class="header">
<th style="text-align: left;">market_index</th>
<th style="text-align: left;">first_date</th>
<th style="text-align: left;">last_date</th>
<th style="text-align: right;">trading_days</th>
<th style="text-align: right;">missing_values</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">CAC 40</td>
<td style="text-align: left;">2000-01-03</td>
<td style="text-align: left;">2025-05-08</td>
<td style="text-align: right;">6514</td>
<td style="text-align: right;">36</td>
</tr>
<tr class="even">
<td style="text-align: left;">FTSE 100</td>
<td style="text-align: left;">2000-01-04</td>
<td style="text-align: left;">2025-05-08</td>
<td style="text-align: right;">6452</td>
<td style="text-align: right;">50</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DAX</td>
<td style="text-align: left;">2000-01-03</td>
<td style="text-align: left;">2025-05-08</td>
<td style="text-align: right;">6479</td>
<td style="text-align: right;">43</td>
</tr>
<tr class="even">
<td style="text-align: left;">S&amp;P 500</td>
<td style="text-align: left;">2000-01-03</td>
<td style="text-align: left;">2025-05-08</td>
<td style="text-align: right;">6376</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Hang Seng</td>
<td style="text-align: left;">2000-01-03</td>
<td style="text-align: left;">2025-05-08</td>
<td style="text-align: right;">6322</td>
<td style="text-align: right;">79</td>
</tr>
<tr class="even">
<td style="text-align: left;">Nikkei 225</td>
<td style="text-align: left;">2000-01-04</td>
<td style="text-align: left;">2025-05-09</td>
<td style="text-align: right;">6331</td>
<td style="text-align: right;">122</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>This analysis provides a comprehensive overview of our dataset structure, covering six major global indices over a 25-year period. The data collection spans approximately 6,300-6,500 trading days per index, with minimal missing values (less than 2% per index). This robust dataset captures several complete market cycles, including two major global financial crises, providing an excellent foundation for studying volatility patterns.</p>
<p>The S&amp;P 500 data is the most complete with no missing values, while Asian markets show slightly more gaps due to region-specific market closures. These gaps are not significant enough to impact our analysis of long-term market behavior patterns.</p>
</section><section id="price-distribution-analysis" class="level2"><h2 class="anchored" data-anchor-id="price-distribution-analysis">Price Distribution Analysis</h2>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Creating histograms of price distributions</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="fu">ggplot</span>(market_data, <span class="fu">aes</span>(<span class="at">x =</span> adjusted, <span class="at">fill =</span> market_index)) <span class="sc">+</span></span>
<span id="cb2-3"><a href="#cb2-3"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> market_index, <span class="at">scales =</span> <span class="st">"free"</span>) <span class="sc">+</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>  <span class="fu">scale_x_log10</span>(<span class="at">labels =</span> scales<span class="sc">::</span>comma) <span class="sc">+</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>  <span class="fu">labs</span>(</span>
<span id="cb2-7"><a href="#cb2-7"></a>    <span class="at">title =</span> <span class="st">"Distribution of Market Prices (2000-2025)"</span>,</span>
<span id="cb2-8"><a href="#cb2-8"></a>    <span class="at">x =</span> <span class="st">"Adjusted Closing Price (Log Scale)"</span>,</span>
<span id="cb2-9"><a href="#cb2-9"></a>    <span class="at">y =</span> <span class="st">"Frequency"</span>,</span>
<span id="cb2-10"><a href="#cb2-10"></a>    <span class="at">fill =</span> <span class="st">"Market Index"</span>,</span>
<span id="cb2-11"><a href="#cb2-11"></a>    <span class="at">caption =</span> <span class="st">"Source: Yahoo Finance, Analysis by Phoebe P, May 2025"</span></span>
<span id="cb2-12"><a href="#cb2-12"></a>  ) <span class="sc">+</span></span>
<span id="cb2-13"><a href="#cb2-13"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb2-14"><a href="#cb2-14"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><img src="EDA---Phoebe-Pan_files/figure-html/price_distributions-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p>The histogram reveals fascinating differences in price distributions across global markets. By using a logarithmic scale, we can compare indices that trade at vastly different price levels. The S&amp;P 500 shows a multi-modal distribution, suggesting distinct market regimes over the 25-year period. Asian indices display wider distributions, indicating greater price volatility, while European markets show more concentrated price ranges.</p>
<p>These distribution patterns reflect fundamental differences in market structure, sectoral composition, and investor behavior across regions. The right-skewed nature of most distributions highlights the general upward trajectory of markets over time, though with varying degrees of volatility and growth potential.</p>
</section><section id="time-series-analysis" class="level2"><h2 class="anchored" data-anchor-id="time-series-analysis">Time Series Analysis</h2>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># Creating time series visualization with annotations</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>financial_events <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="at">date =</span> <span class="fu">as.Date</span>(<span class="fu">c</span>(<span class="st">"2008-09-15"</span>, <span class="st">"2020-03-11"</span>, <span class="st">"2022-02-24"</span>)),</span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="at">event =</span> <span class="fu">c</span>(<span class="st">"Financial Crisis"</span>, <span class="st">"COVID-19 Pandemic"</span>, <span class="st">"Russia-Ukraine Conflict"</span>),</span>
<span id="cb3-5"><a href="#cb3-5"></a>  <span class="at">y_position =</span> <span class="fu">c</span>(<span class="dv">30000</span>, <span class="dv">35000</span>, <span class="dv">40000</span>)</span>
<span id="cb3-6"><a href="#cb3-6"></a>)</span>
<span id="cb3-7"><a href="#cb3-7"></a></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb3-9"><a href="#cb3-9"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> market_data, </span>
<span id="cb3-10"><a href="#cb3-10"></a>            <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> adjusted, <span class="at">color =</span> market_index),</span>
<span id="cb3-11"><a href="#cb3-11"></a>            <span class="at">linewidth =</span> <span class="fl">0.7</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb3-12"><a href="#cb3-12"></a>  <span class="fu">geom_vline</span>(<span class="at">data =</span> financial_events, </span>
<span id="cb3-13"><a href="#cb3-13"></a>             <span class="fu">aes</span>(<span class="at">xintercept =</span> date),</span>
<span id="cb3-14"><a href="#cb3-14"></a>             <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb3-15"><a href="#cb3-15"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> financial_events,</span>
<span id="cb3-16"><a href="#cb3-16"></a>            <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> y_position, <span class="at">label =</span> event),</span>
<span id="cb3-17"><a href="#cb3-17"></a>            <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.1</span>, <span class="at">vjust =</span> <span class="dv">0</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">angle =</span> <span class="dv">90</span>) <span class="sc">+</span></span>
<span id="cb3-18"><a href="#cb3-18"></a>  <span class="fu">labs</span>(</span>
<span id="cb3-19"><a href="#cb3-19"></a>    <span class="at">title =</span> <span class="st">"Global Market Performance (2000-2025)"</span>,</span>
<span id="cb3-20"><a href="#cb3-20"></a>    <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb3-21"><a href="#cb3-21"></a>    <span class="at">y =</span> <span class="st">"Adjusted Closing Price"</span>,</span>
<span id="cb3-22"><a href="#cb3-22"></a>    <span class="at">color =</span> <span class="st">"Market Index"</span>,</span>
<span id="cb3-23"><a href="#cb3-23"></a>    <span class="at">caption =</span> <span class="st">"Source: Yahoo Finance, Analysis by Phoebe P, May 2025"</span></span>
<span id="cb3-24"><a href="#cb3-24"></a>  ) <span class="sc">+</span></span>
<span id="cb3-25"><a href="#cb3-25"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>comma) <span class="sc">+</span></span>
<span id="cb3-26"><a href="#cb3-26"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb3-27"><a href="#cb3-27"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><img src="EDA---Phoebe-Pan_files/figure-html/price_trends-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p>The time series visualization tells a compelling story of market resilience and divergence over a quarter century. Three pivotal events stand out as watershed moments that reshaped market trajectories: the 2008 financial crisis, the 2020 COVID-19 pandemic, and the 2022 Russia-Ukraine conflict.</p>
<p>The most striking feature is the exceptional post-2020 performance of the S&amp;P 500, which significantly outpaced other global indices. This divergence likely reflects the dominance of technology companies in the US market and aggressive monetary stimulus policies. European indices show more moderate growth patterns, while the Nikkei 225 displays a fascinating turnaround story beginning around 2013, coinciding with significant policy interventions in Japan.</p>
<p>The Hang Seng shows the most volatile path among major indices, reflecting Hong Kong’s unique position at the intersection of Western market dynamics and Chinese economic influences. These divergent recovery patterns highlight how regional factors and policy responses can dramatically alter market trajectories following global shocks.</p>
</section><section id="volatility-analysis" class="level2"><h2 class="anchored" data-anchor-id="volatility-analysis">Volatility Analysis</h2>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># Calculating returns and volatility measures</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>volatility_data <span class="ot">&lt;-</span> market_data <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>  <span class="fu">group_by</span>(symbol, market_index) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4"></a>  <span class="fu">arrange</span>(date) <span class="sc">%&gt;%</span></span>
<span id="cb4-5"><a href="#cb4-5"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-6"><a href="#cb4-6"></a>    <span class="at">daily_return =</span> (adjusted <span class="sc">/</span> <span class="fu">lag</span>(adjusted) <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb4-7"><a href="#cb4-7"></a>    <span class="co"># Using rollapply instead of roll_sd</span></span>
<span id="cb4-8"><a href="#cb4-8"></a>    <span class="at">rolling_vol_20d =</span> <span class="fu">rollapply</span>(</span>
<span id="cb4-9"><a href="#cb4-9"></a>      daily_return,</span>
<span id="cb4-10"><a href="#cb4-10"></a>      <span class="at">width =</span> <span class="dv">20</span>,</span>
<span id="cb4-11"><a href="#cb4-11"></a>      <span class="at">FUN =</span> <span class="cf">function</span>(x) <span class="fu">sd</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-12"><a href="#cb4-12"></a>      <span class="at">align =</span> <span class="st">"right"</span>,</span>
<span id="cb4-13"><a href="#cb4-13"></a>      <span class="at">fill =</span> <span class="cn">NA</span></span>
<span id="cb4-14"><a href="#cb4-14"></a>    ) <span class="sc">*</span> <span class="fu">sqrt</span>(<span class="dv">252</span>)</span>
<span id="cb4-15"><a href="#cb4-15"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb4-16"><a href="#cb4-16"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># Visualizing volatility across time</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">ggplot</span>(volatility_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(rolling_vol_20d)), </span>
<span id="cb5-3"><a href="#cb5-3"></a>       <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> rolling_vol_20d, <span class="at">color =</span> market_index)) <span class="sc">+</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>  <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>  <span class="fu">geom_vline</span>(<span class="at">data =</span> financial_events, </span>
<span id="cb5-6"><a href="#cb5-6"></a>             <span class="fu">aes</span>(<span class="at">xintercept =</span> date),</span>
<span id="cb5-7"><a href="#cb5-7"></a>             <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb5-8"><a href="#cb5-8"></a>  <span class="fu">labs</span>(</span>
<span id="cb5-9"><a href="#cb5-9"></a>    <span class="at">title =</span> <span class="st">"Market Volatility Across Global Indices"</span>,</span>
<span id="cb5-10"><a href="#cb5-10"></a>    <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb5-11"><a href="#cb5-11"></a>    <span class="at">y =</span> <span class="st">"Annualized Volatility (%)"</span>,</span>
<span id="cb5-12"><a href="#cb5-12"></a>    <span class="at">color =</span> <span class="st">"Market Index"</span>,</span>
<span id="cb5-13"><a href="#cb5-13"></a>    <span class="at">caption =</span> <span class="st">"Source: Yahoo Finance, Analysis by Phoebe P, May 2025"</span></span>
<span id="cb5-14"><a href="#cb5-14"></a>  ) <span class="sc">+</span></span>
<span id="cb5-15"><a href="#cb5-15"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>(<span class="at">scale =</span> <span class="fl">0.01</span>)) <span class="sc">+</span></span>
<span id="cb5-16"><a href="#cb5-16"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb5-17"><a href="#cb5-17"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><img src="EDA---Phoebe-Pan_files/figure-html/volatility_visualization-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p>This volatility visualization reveals the heartbeat of global markets, showing how uncertainty propagates through the financial system during times of stress. The most prominent feature is volatility clustering—periods of high volatility tend to group together rather than appearing randomly distributed through time.</p>
<p>The 2008 financial crisis triggered the most dramatic volatility response, with levels reaching extraordinary heights across all markets. The COVID-19 pandemic in 2020 produced the second-highest spike, though markets normalized more quickly than after the 2008 crisis. The Russia-Ukraine conflict in 2022 generated a more modest and shorter-lived volatility response, suggesting markets have become somewhat more resilient to geopolitical shocks.</p>
<p>Asian markets consistently exhibit higher baseline volatility even during relatively calm periods, while European indices show more moderate volatility profiles. The S&amp;P 500 often displays the sharpest initial volatility spike when crises begin, but typically normalizes faster than other markets. This “first-in, first-out” pattern suggests the US market may function as a leading indicator for both market stress and subsequent recovery.</p>
</section><section id="conclusion" class="level2"><h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>This exploratory analysis reveals fundamental insights into global market behavior over a 25-year period that spans multiple economic cycles and crises. My key observations include:</p>
<ul>
<li><p><strong>Regional Volatility Signatures</strong>: Each market exhibits a distinctive volatility profile, with Asian markets consistently showing higher baseline volatility compared to their Western counterparts. The FTSE 100 demonstrates the most stability among all indices analyzed.</p></li>
<li><p><strong>Crisis Response Dynamics</strong>: Markets show varying reactions to major economic shocks, with the S&amp;P 500 typically exhibiting the sharpest initial volatility spike but also normalizing more quickly. This pattern suggests the US market may serve as an early indicator for global volatility trends.</p></li>
<li><p><strong>Growth Divergence</strong>: The exceptional post-COVID performance of the S&amp;P 500 stands in stark contrast to more modest recoveries in other markets, highlighting the increasing influence of technology sectors and monetary policy on market outcomes.</p></li>
<li><p><strong>Volatility Clustering</strong>: Periods of high volatility tend to group together across all markets, confirming one of the fundamental principles of financial econometrics and providing a foundation for our predictive modeling efforts.</p></li>
</ul>
<p>These findings will guide our deeper analysis of volatility patterns and potential predictive factors in the main report, where we will develop more sophisticated models to forecast market uncertainty across different economic environments.</p>


<!-- -->

</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation column-body"><div class="nav-page nav-page-previous">
      <a href="../index.html" class="pagination-link" aria-label="Report">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Report</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../src/EDA - Zhijun He.html" class="pagination-link" aria-label="Zhijun H">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Zhijun H</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb6" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1"></a><span class="co">---</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="an">title:</span><span class="co"> "Phoebe P"</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="an">number-sections:</span><span class="co"> false</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="an">code-fold:</span><span class="co"> true</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="an">execute:</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co">  echo: true</span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="co">---</span></span>
<span id="cb6-8"><a href="#cb6-8"></a></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="fu">## Introduction</span></span>
<span id="cb6-10"><a href="#cb6-10"></a></span>
<span id="cb6-11"><a href="#cb6-11"></a>This document contains exploratory data analysis (EDA) for our group project, focusing on stock market volatility patterns and predictors across major global markets from 2000 to 2025. My analysis examines how different markets respond to global events, identifying patterns in price movements and volatility that will inform our predictive modeling efforts.</span>
<span id="cb6-12"><a href="#cb6-12"></a></span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="fu">## Data Import</span></span>
<span id="cb6-14"><a href="#cb6-14"></a></span>
<span id="cb6-15"><a href="#cb6-15"></a><span class="in">```{r setup, message=FALSE, warning=FALSE}</span></span>
<span id="cb6-16"><a href="#cb6-16"></a><span class="in"># Loading necessary packages</span></span>
<span id="cb6-17"><a href="#cb6-17"></a><span class="in">library(tidyverse)  # For data manipulation and visualization</span></span>
<span id="cb6-18"><a href="#cb6-18"></a><span class="in">library(tidyquant)  # For accessing financial data</span></span>
<span id="cb6-19"><a href="#cb6-19"></a><span class="in">library(lubridate)  # For handling dates</span></span>
<span id="cb6-20"><a href="#cb6-20"></a><span class="in">library(zoo)        # For rolling calculations</span></span>
<span id="cb6-21"><a href="#cb6-21"></a><span class="in"># Selected major global indices for analysis</span></span>
<span id="cb6-22"><a href="#cb6-22"></a><span class="in">indices &lt;- c(</span></span>
<span id="cb6-23"><a href="#cb6-23"></a><span class="in">  "^GSPC" = "S&amp;P 500",       # USA</span></span>
<span id="cb6-24"><a href="#cb6-24"></a><span class="in">  "^FTSE" = "FTSE 100",      # UK</span></span>
<span id="cb6-25"><a href="#cb6-25"></a><span class="in">  "^N225" = "Nikkei 225",    # Japan</span></span>
<span id="cb6-26"><a href="#cb6-26"></a><span class="in">  "^GDAXI" = "DAX",          # Germany</span></span>
<span id="cb6-27"><a href="#cb6-27"></a><span class="in">  "^FCHI" = "CAC 40",        # France</span></span>
<span id="cb6-28"><a href="#cb6-28"></a><span class="in">  "^HSI" = "Hang Seng"       # Hong Kong</span></span>
<span id="cb6-29"><a href="#cb6-29"></a><span class="in">)</span></span>
<span id="cb6-30"><a href="#cb6-30"></a></span>
<span id="cb6-31"><a href="#cb6-31"></a><span class="in"># Importing daily data for all indices from 2000 onwards</span></span>
<span id="cb6-32"><a href="#cb6-32"></a><span class="in">market_data &lt;- tq_get(</span></span>
<span id="cb6-33"><a href="#cb6-33"></a><span class="in">  names(indices),</span></span>
<span id="cb6-34"><a href="#cb6-34"></a><span class="in">  get = "stock.prices",</span></span>
<span id="cb6-35"><a href="#cb6-35"></a><span class="in">  from = "2000-01-01",</span></span>
<span id="cb6-36"><a href="#cb6-36"></a><span class="in">  to = Sys.Date()</span></span>
<span id="cb6-37"><a href="#cb6-37"></a><span class="in">) %&gt;%</span></span>
<span id="cb6-38"><a href="#cb6-38"></a><span class="in">  # Adding descriptive names</span></span>
<span id="cb6-39"><a href="#cb6-39"></a><span class="in">  mutate(market_index = indices[symbol])</span></span>
<span id="cb6-40"><a href="#cb6-40"></a></span>
<span id="cb6-41"><a href="#cb6-41"></a><span class="in"># Checking data completeness and quality</span></span>
<span id="cb6-42"><a href="#cb6-42"></a><span class="in">market_quality &lt;- market_data %&gt;%</span></span>
<span id="cb6-43"><a href="#cb6-43"></a><span class="in">  group_by(symbol) %&gt;%</span></span>
<span id="cb6-44"><a href="#cb6-44"></a><span class="in">  summarize(</span></span>
<span id="cb6-45"><a href="#cb6-45"></a><span class="in">    first_date = min(date),</span></span>
<span id="cb6-46"><a href="#cb6-46"></a><span class="in">    last_date = max(date),</span></span>
<span id="cb6-47"><a href="#cb6-47"></a><span class="in">    trading_days = n(),</span></span>
<span id="cb6-48"><a href="#cb6-48"></a><span class="in">    missing_values = sum(is.na(adjusted)),</span></span>
<span id="cb6-49"><a href="#cb6-49"></a><span class="in">    .groups = "drop"</span></span>
<span id="cb6-50"><a href="#cb6-50"></a><span class="in">  ) %&gt;%</span></span>
<span id="cb6-51"><a href="#cb6-51"></a><span class="in">  # Adding readable index names</span></span>
<span id="cb6-52"><a href="#cb6-52"></a><span class="in">  mutate(market_index = indices[symbol]) %&gt;%</span></span>
<span id="cb6-53"><a href="#cb6-53"></a><span class="in">  select(market_index, first_date, last_date, trading_days, missing_values)</span></span>
<span id="cb6-54"><a href="#cb6-54"></a></span>
<span id="cb6-55"><a href="#cb6-55"></a><span class="in"># Displaying the market data overview</span></span>
<span id="cb6-56"><a href="#cb6-56"></a><span class="in">market_quality %&gt;%</span></span>
<span id="cb6-57"><a href="#cb6-57"></a><span class="in">  knitr::kable(caption = "Overview of Market Data by Index")</span></span>
<span id="cb6-58"><a href="#cb6-58"></a><span class="in">```</span></span>
<span id="cb6-59"><a href="#cb6-59"></a></span>
<span id="cb6-60"><a href="#cb6-60"></a>This analysis provides a comprehensive overview of our dataset structure, covering six major global indices over a 25-year period. The data collection spans approximately 6,300-6,500 trading days per index, with minimal missing values (less than 2% per index). This robust dataset captures several complete market cycles, including two major global financial crises, providing an excellent foundation for studying volatility patterns.</span>
<span id="cb6-61"><a href="#cb6-61"></a></span>
<span id="cb6-62"><a href="#cb6-62"></a>The S&amp;P 500 data is the most complete with no missing values, while Asian markets show slightly more gaps due to region-specific market closures. These gaps are not significant enough to impact our analysis of long-term market behavior patterns.</span>
<span id="cb6-63"><a href="#cb6-63"></a></span>
<span id="cb6-64"><a href="#cb6-64"></a><span class="fu">## Price Distribution Analysis</span></span>
<span id="cb6-65"><a href="#cb6-65"></a></span>
<span id="cb6-66"><a href="#cb6-66"></a><span class="in">```{r price_distributions, fig.width=10, fig.height=6, warning=FALSE}</span></span>
<span id="cb6-67"><a href="#cb6-67"></a><span class="in"># Creating histograms of price distributions</span></span>
<span id="cb6-68"><a href="#cb6-68"></a><span class="in">ggplot(market_data, aes(x = adjusted, fill = market_index)) +</span></span>
<span id="cb6-69"><a href="#cb6-69"></a><span class="in">  geom_histogram(bins = 30, alpha = 0.7) +</span></span>
<span id="cb6-70"><a href="#cb6-70"></a><span class="in">  facet_wrap(~ market_index, scales = "free") +</span></span>
<span id="cb6-71"><a href="#cb6-71"></a><span class="in">  scale_x_log10(labels = scales::comma) +</span></span>
<span id="cb6-72"><a href="#cb6-72"></a><span class="in">  labs(</span></span>
<span id="cb6-73"><a href="#cb6-73"></a><span class="in">    title = "Distribution of Market Prices (2000-2025)",</span></span>
<span id="cb6-74"><a href="#cb6-74"></a><span class="in">    x = "Adjusted Closing Price (Log Scale)",</span></span>
<span id="cb6-75"><a href="#cb6-75"></a><span class="in">    y = "Frequency",</span></span>
<span id="cb6-76"><a href="#cb6-76"></a><span class="in">    fill = "Market Index",</span></span>
<span id="cb6-77"><a href="#cb6-77"></a><span class="in">    caption = "Source: Yahoo Finance, Analysis by Phoebe P, May 2025"</span></span>
<span id="cb6-78"><a href="#cb6-78"></a><span class="in">  ) +</span></span>
<span id="cb6-79"><a href="#cb6-79"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb6-80"><a href="#cb6-80"></a><span class="in">  theme(legend.position = "none")</span></span>
<span id="cb6-81"><a href="#cb6-81"></a><span class="in">```</span></span>
<span id="cb6-82"><a href="#cb6-82"></a></span>
<span id="cb6-83"><a href="#cb6-83"></a>The histogram reveals fascinating differences in price distributions across global markets. By using a logarithmic scale, we can compare indices that trade at vastly different price levels. The S&amp;P 500 shows a multi-modal distribution, suggesting distinct market regimes over the 25-year period. Asian indices display wider distributions, indicating greater price volatility, while European markets show more concentrated price ranges.</span>
<span id="cb6-84"><a href="#cb6-84"></a></span>
<span id="cb6-85"><a href="#cb6-85"></a>These distribution patterns reflect fundamental differences in market structure, sectoral composition, and investor behavior across regions. The right-skewed nature of most distributions highlights the general upward trajectory of markets over time, though with varying degrees of volatility and growth potential.</span>
<span id="cb6-86"><a href="#cb6-86"></a></span>
<span id="cb6-87"><a href="#cb6-87"></a><span class="fu">## Time Series Analysis</span></span>
<span id="cb6-88"><a href="#cb6-88"></a></span>
<span id="cb6-89"><a href="#cb6-89"></a><span class="in">```{r price_trends, fig.width=10, fig.height=6, warning=FALSE}</span></span>
<span id="cb6-90"><a href="#cb6-90"></a><span class="in"># Creating time series visualization with annotations</span></span>
<span id="cb6-91"><a href="#cb6-91"></a><span class="in">financial_events &lt;- data.frame(</span></span>
<span id="cb6-92"><a href="#cb6-92"></a><span class="in">  date = as.Date(c("2008-09-15", "2020-03-11", "2022-02-24")),</span></span>
<span id="cb6-93"><a href="#cb6-93"></a><span class="in">  event = c("Financial Crisis", "COVID-19 Pandemic", "Russia-Ukraine Conflict"),</span></span>
<span id="cb6-94"><a href="#cb6-94"></a><span class="in">  y_position = c(30000, 35000, 40000)</span></span>
<span id="cb6-95"><a href="#cb6-95"></a><span class="in">)</span></span>
<span id="cb6-96"><a href="#cb6-96"></a></span>
<span id="cb6-97"><a href="#cb6-97"></a><span class="in">ggplot() +</span></span>
<span id="cb6-98"><a href="#cb6-98"></a><span class="in">  geom_line(data = market_data, </span></span>
<span id="cb6-99"><a href="#cb6-99"></a><span class="in">            aes(x = date, y = adjusted, color = market_index),</span></span>
<span id="cb6-100"><a href="#cb6-100"></a><span class="in">            linewidth = 0.7, alpha = 0.8) +</span></span>
<span id="cb6-101"><a href="#cb6-101"></a><span class="in">  geom_vline(data = financial_events, </span></span>
<span id="cb6-102"><a href="#cb6-102"></a><span class="in">             aes(xintercept = date),</span></span>
<span id="cb6-103"><a href="#cb6-103"></a><span class="in">             linetype = "dashed", alpha = 0.5) +</span></span>
<span id="cb6-104"><a href="#cb6-104"></a><span class="in">  geom_text(data = financial_events,</span></span>
<span id="cb6-105"><a href="#cb6-105"></a><span class="in">            aes(x = date, y = y_position, label = event),</span></span>
<span id="cb6-106"><a href="#cb6-106"></a><span class="in">            hjust = -0.1, vjust = 0, size = 3, angle = 90) +</span></span>
<span id="cb6-107"><a href="#cb6-107"></a><span class="in">  labs(</span></span>
<span id="cb6-108"><a href="#cb6-108"></a><span class="in">    title = "Global Market Performance (2000-2025)",</span></span>
<span id="cb6-109"><a href="#cb6-109"></a><span class="in">    x = "Year",</span></span>
<span id="cb6-110"><a href="#cb6-110"></a><span class="in">    y = "Adjusted Closing Price",</span></span>
<span id="cb6-111"><a href="#cb6-111"></a><span class="in">    color = "Market Index",</span></span>
<span id="cb6-112"><a href="#cb6-112"></a><span class="in">    caption = "Source: Yahoo Finance, Analysis by Phoebe P, May 2025"</span></span>
<span id="cb6-113"><a href="#cb6-113"></a><span class="in">  ) +</span></span>
<span id="cb6-114"><a href="#cb6-114"></a><span class="in">  scale_y_continuous(labels = scales::comma) +</span></span>
<span id="cb6-115"><a href="#cb6-115"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb6-116"><a href="#cb6-116"></a><span class="in">  theme(legend.position = "bottom")</span></span>
<span id="cb6-117"><a href="#cb6-117"></a><span class="in">```</span></span>
<span id="cb6-118"><a href="#cb6-118"></a></span>
<span id="cb6-119"><a href="#cb6-119"></a>The time series visualization tells a compelling story of market resilience and divergence over a quarter century. Three pivotal events stand out as watershed moments that reshaped market trajectories: the 2008 financial crisis, the 2020 COVID-19 pandemic, and the 2022 Russia-Ukraine conflict.</span>
<span id="cb6-120"><a href="#cb6-120"></a></span>
<span id="cb6-121"><a href="#cb6-121"></a>The most striking feature is the exceptional post-2020 performance of the S&amp;P 500, which significantly outpaced other global indices. This divergence likely reflects the dominance of technology companies in the US market and aggressive monetary stimulus policies. European indices show more moderate growth patterns, while the Nikkei 225 displays a fascinating turnaround story beginning around 2013, coinciding with significant policy interventions in Japan.</span>
<span id="cb6-122"><a href="#cb6-122"></a></span>
<span id="cb6-123"><a href="#cb6-123"></a>The Hang Seng shows the most volatile path among major indices, reflecting Hong Kong's unique position at the intersection of Western market dynamics and Chinese economic influences. These divergent recovery patterns highlight how regional factors and policy responses can dramatically alter market trajectories following global shocks.</span>
<span id="cb6-124"><a href="#cb6-124"></a></span>
<span id="cb6-125"><a href="#cb6-125"></a><span class="fu">## Volatility Analysis</span></span>
<span id="cb6-126"><a href="#cb6-126"></a></span>
<span id="cb6-127"><a href="#cb6-127"></a><span class="in">```{r volatility_calculation, message=FALSE, warning=FALSE}</span></span>
<span id="cb6-128"><a href="#cb6-128"></a><span class="in"># Calculating returns and volatility measures</span></span>
<span id="cb6-129"><a href="#cb6-129"></a><span class="in">volatility_data &lt;- market_data %&gt;%</span></span>
<span id="cb6-130"><a href="#cb6-130"></a><span class="in">  group_by(symbol, market_index) %&gt;%</span></span>
<span id="cb6-131"><a href="#cb6-131"></a><span class="in">  arrange(date) %&gt;%</span></span>
<span id="cb6-132"><a href="#cb6-132"></a><span class="in">  mutate(</span></span>
<span id="cb6-133"><a href="#cb6-133"></a><span class="in">    daily_return = (adjusted / lag(adjusted) - 1) * 100,</span></span>
<span id="cb6-134"><a href="#cb6-134"></a><span class="in">    # Using rollapply instead of roll_sd</span></span>
<span id="cb6-135"><a href="#cb6-135"></a><span class="in">    rolling_vol_20d = rollapply(</span></span>
<span id="cb6-136"><a href="#cb6-136"></a><span class="in">      daily_return,</span></span>
<span id="cb6-137"><a href="#cb6-137"></a><span class="in">      width = 20,</span></span>
<span id="cb6-138"><a href="#cb6-138"></a><span class="in">      FUN = function(x) sd(x, na.rm = TRUE),</span></span>
<span id="cb6-139"><a href="#cb6-139"></a><span class="in">      align = "right",</span></span>
<span id="cb6-140"><a href="#cb6-140"></a><span class="in">      fill = NA</span></span>
<span id="cb6-141"><a href="#cb6-141"></a><span class="in">    ) * sqrt(252)</span></span>
<span id="cb6-142"><a href="#cb6-142"></a><span class="in">  ) %&gt;%</span></span>
<span id="cb6-143"><a href="#cb6-143"></a><span class="in">  ungroup()</span></span>
<span id="cb6-144"><a href="#cb6-144"></a><span class="in">```</span></span>
<span id="cb6-145"><a href="#cb6-145"></a></span>
<span id="cb6-146"><a href="#cb6-146"></a><span class="in">```{r volatility_visualization, fig.width=10, fig.height=6, warning=FALSE}</span></span>
<span id="cb6-147"><a href="#cb6-147"></a><span class="in"># Visualizing volatility across time</span></span>
<span id="cb6-148"><a href="#cb6-148"></a><span class="in">ggplot(volatility_data %&gt;% filter(!is.na(rolling_vol_20d)), </span></span>
<span id="cb6-149"><a href="#cb6-149"></a><span class="in">       aes(x = date, y = rolling_vol_20d, color = market_index)) +</span></span>
<span id="cb6-150"><a href="#cb6-150"></a><span class="in">  geom_line(alpha = 0.8) +</span></span>
<span id="cb6-151"><a href="#cb6-151"></a><span class="in">  geom_vline(data = financial_events, </span></span>
<span id="cb6-152"><a href="#cb6-152"></a><span class="in">             aes(xintercept = date),</span></span>
<span id="cb6-153"><a href="#cb6-153"></a><span class="in">             linetype = "dashed", alpha = 0.4) +</span></span>
<span id="cb6-154"><a href="#cb6-154"></a><span class="in">  labs(</span></span>
<span id="cb6-155"><a href="#cb6-155"></a><span class="in">    title = "Market Volatility Across Global Indices",</span></span>
<span id="cb6-156"><a href="#cb6-156"></a><span class="in">    x = "Year",</span></span>
<span id="cb6-157"><a href="#cb6-157"></a><span class="in">    y = "Annualized Volatility (%)",</span></span>
<span id="cb6-158"><a href="#cb6-158"></a><span class="in">    color = "Market Index",</span></span>
<span id="cb6-159"><a href="#cb6-159"></a><span class="in">    caption = "Source: Yahoo Finance, Analysis by Phoebe P, May 2025"</span></span>
<span id="cb6-160"><a href="#cb6-160"></a><span class="in">  ) +</span></span>
<span id="cb6-161"><a href="#cb6-161"></a><span class="in">  scale_y_continuous(labels = scales::percent_format(scale = 0.01)) +</span></span>
<span id="cb6-162"><a href="#cb6-162"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb6-163"><a href="#cb6-163"></a><span class="in">  theme(legend.position = "bottom")</span></span>
<span id="cb6-164"><a href="#cb6-164"></a><span class="in">```</span></span>
<span id="cb6-165"><a href="#cb6-165"></a></span>
<span id="cb6-166"><a href="#cb6-166"></a>This volatility visualization reveals the heartbeat of global markets, showing how uncertainty propagates through the financial system during times of stress. The most prominent feature is volatility clustering—periods of high volatility tend to group together rather than appearing randomly distributed through time.</span>
<span id="cb6-167"><a href="#cb6-167"></a></span>
<span id="cb6-168"><a href="#cb6-168"></a>The 2008 financial crisis triggered the most dramatic volatility response, with levels reaching extraordinary heights across all markets. The COVID-19 pandemic in 2020 produced the second-highest spike, though markets normalized more quickly than after the 2008 crisis. The Russia-Ukraine conflict in 2022 generated a more modest and shorter-lived volatility response, suggesting markets have become somewhat more resilient to geopolitical shocks.</span>
<span id="cb6-169"><a href="#cb6-169"></a></span>
<span id="cb6-170"><a href="#cb6-170"></a>Asian markets consistently exhibit higher baseline volatility even during relatively calm periods, while European indices show more moderate volatility profiles. The S&amp;P 500 often displays the sharpest initial volatility spike when crises begin, but typically normalizes faster than other markets. This "first-in, first-out" pattern suggests the US market may function as a leading indicator for both market stress and subsequent recovery.</span>
<span id="cb6-171"><a href="#cb6-171"></a></span>
<span id="cb6-172"><a href="#cb6-172"></a><span class="fu">## Conclusion</span></span>
<span id="cb6-173"><a href="#cb6-173"></a></span>
<span id="cb6-174"><a href="#cb6-174"></a>This exploratory analysis reveals fundamental insights into global market behavior over a 25-year period that spans multiple economic cycles and crises. My key observations include:</span>
<span id="cb6-175"><a href="#cb6-175"></a></span>
<span id="cb6-176"><a href="#cb6-176"></a><span class="ss">* </span>**Regional Volatility Signatures**: Each market exhibits a distinctive volatility profile, with Asian markets consistently showing higher baseline volatility compared to their Western counterparts. The FTSE 100 demonstrates the most stability among all indices analyzed.</span>
<span id="cb6-177"><a href="#cb6-177"></a></span>
<span id="cb6-178"><a href="#cb6-178"></a><span class="ss">* </span>**Crisis Response Dynamics**: Markets show varying reactions to major economic shocks, with the S&amp;P 500 typically exhibiting the sharpest initial volatility spike but also normalizing more quickly. This pattern suggests the US market may serve as an early indicator for global volatility trends.</span>
<span id="cb6-179"><a href="#cb6-179"></a></span>
<span id="cb6-180"><a href="#cb6-180"></a><span class="ss">* </span>**Growth Divergence**: The exceptional post-COVID performance of the S&amp;P 500 stands in stark contrast to more modest recoveries in other markets, highlighting the increasing influence of technology sectors and monetary policy on market outcomes.</span>
<span id="cb6-181"><a href="#cb6-181"></a></span>
<span id="cb6-182"><a href="#cb6-182"></a><span class="ss">* </span>**Volatility Clustering**: Periods of high volatility tend to group together across all markets, confirming one of the fundamental principles of financial econometrics and providing a foundation for our predictive modeling efforts.</span>
<span id="cb6-183"><a href="#cb6-183"></a></span>
<span id="cb6-184"><a href="#cb6-184"></a>These findings will guide our deeper analysis of volatility patterns and potential predictive factors in the main report, where we will develop more sophisticated models to forecast market uncertainty across different economic environments.</span></code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">

<div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>


<script src="../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>